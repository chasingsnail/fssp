/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(c){if(typeof define==="function"&&define.amd){define(["jquery"],c)}else{c(jQuery)}}(function(e){e.ui=e.ui||{};e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({scrollParent:function(i){var j=this.css("position"),k=j==="absolute",c=i?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var g=e(this);if(k&&g.css("position")==="static"){return false}return c.test(g.css("overflow")+g.css("overflow-y")+g.css("overflow-x"))}).eq(0);return j==="fixed"||!a.length?e(this[0].ownerDocument||document):a},uniqueId:(function(){var a=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){e(this).removeAttr("id")}})}});function f(k,m){var c,j,l,a=k.nodeName.toLowerCase();if("area"===a){c=k.parentNode;j=c.name;if(!k.href||!j||c.nodeName.toLowerCase()!=="map"){return false}l=e("img[usemap='#"+j+"']")[0];return !!l&&d(l)}return(/^(input|select|textarea|button|object)$/.test(a)?!k.disabled:"a"===a?k.href||m:m)&&d(k)}function d(a){return e.expr.filters.visible(a)&&!e(a).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(a){return function(c){return !!e.data(c,a)}}):function(a,c,g){return !!e.data(a,g[3])},focusable:function(a){return f(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var g=e.attr(a,"tabindex"),c=isNaN(g);return(c||g>=0)&&f(a,!c)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(k,m){var l=m==="Width"?["Left","Right"]:["Top","Bottom"],i=m.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function c(h,j,n,g){e.each(l,function(){j-=parseFloat(e.css(h,"padding"+this))||0;if(n){j-=parseFloat(e.css(h,"border"+this+"Width"))||0}if(g){j-=parseFloat(e.css(h,"margin"+this))||0}});return j}e.fn["inner"+m]=function(g){if(g===undefined){return a["inner"+m].call(this)}return this.each(function(){e(this).css(i,c(this,g)+"px")})};e.fn["outer"+m]=function(h,g){if(typeof h!=="number"){return a["outer"+m].call(this,h)}return this.each(function(){e(this).css(i,c(this,h,true,g)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=(function(a){return function(c){if(arguments.length){return a.call(this,e.camelCase(c))}else{return a.call(this)}}})(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.fn.extend({focus:(function(a){return function(g,c){return typeof g==="number"?this.each(function(){var h=this;setTimeout(function(){e(h).focus();if(c){c.call(h)}},g)}):a.apply(this,arguments)}})(e.fn.focus),disableSelection:(function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(c){c.preventDefault()})}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==undefined){return this.css("zIndex",a)}if(this.length){var h=e(this[0]),i,c;while(h.length&&h[0]!==document){i=h.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){c=parseInt(h.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}h=h.parent()}}return 0}});e.ui.plugin={add:function(j,i,a){var k,c=e.ui[j].prototype;for(k in a){c.plugins[k]=c.plugins[k]||[];c.plugins[k].push([i,a[k]])}},call:function(m,i,k,l){var c,a=m.plugins[i];if(!a){return}if(!l&&(!m.element[0].parentNode||m.element[0].parentNode.nodeType===11)){return}for(c=0;c<a.length;c++){if(m.options[a[c][0]]){a[c][1].apply(m.element,k)}}}}}));
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(c){if(typeof define==="function"&&define.amd){define(["jquery"],c)}else{c(jQuery)}}(function(i){i.ui=i.ui||{};var f=i.ui.version="1.12.1";var h=0;var g=Array.prototype.slice;i.cleanData=(function(a){return function(n){var e,d,m;for(m=0;(d=n[m])!=null;m++){try{e=i._data(d,"events");if(e&&e.remove){i(d).triggerHandler("remove")}}catch(c){}}a(n)}})(i.cleanData);i.widget=function(u,s,a){var d,p,c;var q={};var e=u.split(".")[0];u=u.split(".")[1];var o=e+"-"+u;if(!a){a=s;s=i.Widget}if(i.isArray(a)){a=i.extend.apply(null,[{}].concat(a))}i.expr[":"][o.toLowerCase()]=function(k){return !!i.data(k,o)};i[e]=i[e]||{};d=i[e][u];p=i[e][u]=function(l,k){if(!this._createWidget){return new p(l,k)}if(arguments.length){this._createWidget(l,k)}};i.extend(p,d,{version:a.version,_proto:i.extend({},a),_childConstructors:[]});c=new s();c.options=i.widget.extend({},c.options);i.each(a,function(k,l){if(!i.isFunction(l)){q[k]=l;return}q[k]=(function(){function n(){return s.prototype[k].apply(this,arguments)}function m(v){return s.prototype[k].apply(this,v)}return function(){var v=this._super;var x=this._superApply;var w;this._super=n;this._superApply=m;w=l.apply(this,arguments);this._super=v;this._superApply=x;return w}})()});p.prototype=i.widget.extend(c,{widgetEventPrefix:d?(c.widgetEventPrefix||u):u},q,{constructor:p,namespace:e,widgetName:u,widgetFullName:o});if(d){i.each(d._childConstructors,function(l,k){var m=k.prototype;i.widget(m.namespace+"."+m.widgetName,p,k._proto)});delete d._childConstructors}else{s._childConstructors.push(p)}i.widget.bridge(u,p);return p};i.widget.extend=function(a){var l=g.call(arguments,1);var c=0;var m=l.length;var e;var d;for(;c<m;c++){for(e in l[c]){d=l[c][e];if(l[c].hasOwnProperty(e)&&d!==undefined){if(i.isPlainObject(d)){a[e]=i.isPlainObject(a[e])?i.widget.extend({},a[e],d):i.widget.extend({},d)}else{a[e]=d}}}}return a};i.widget.bridge=function(c,d){var a=d.prototype.widgetFullName||c;i.fn[c]=function(m){var o=typeof m==="string";var n=g.call(arguments,1);var e=this;if(o){if(!this.length&&m==="instance"){e=undefined}else{this.each(function(){var l;var k=i.data(this,a);if(m==="instance"){e=k;return false}if(!k){return i.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+m+"'")}if(!i.isFunction(k[m])||m.charAt(0)==="_"){return i.error("no such method '"+m+"' for "+c+" widget instance")}l=k[m].apply(k,n);if(l!==k&&l!==undefined){e=l&&l.jquery?e.pushStack(l.get()):l;return false}})}}else{if(n.length){m=i.widget.extend.apply(null,[m].concat(n))}this.each(function(){var k=i.data(this,a);if(k){k.option(m||{});if(k._init){k._init()}}else{i.data(this,a,new d(m,this))}})}return e}};i.Widget=function(){};i.Widget._childConstructors=[];i.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(c,a){a=i(a||this.defaultElement||this)[0];this.element=i(a);this.uuid=h++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=i();this.hoverable=i();this.focusable=i();this.classesElementLookup={};if(a!==this){i.data(a,this.widgetFullName,this);this._on(true,this.element,{remove:function(d){if(d.target===a){this.destroy()}}});this.document=i(a.style?a.ownerDocument:a.document||a);this.window=i(this.document[0].defaultView||this.document[0].parentWindow)}this.options=i.widget.extend({},this.options,this._getCreateOptions(),c);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:i.noop,_create:i.noop,_init:i.noop,destroy:function(){var a=this;this._destroy();i.each(this.classesElementLookup,function(d,c){a._removeClass(c,d)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:i.noop,widget:function(){return this.element},option:function(d,c){var n=d;var a;var e;var m;if(arguments.length===0){return i.widget.extend({},this.options)}if(typeof d==="string"){n={};a=d.split(".");d=a.shift();if(a.length){e=n[d]=i.widget.extend({},this.options[d]);for(m=0;m<a.length-1;m++){e[a[m]]=e[a[m]]||{};e=e[a[m]]}d=a.pop();if(arguments.length===1){return e[d]===undefined?null:e[d]}e[d]=c}else{if(arguments.length===1){return this.options[d]===undefined?null:this.options[d]}n[d]=c}}this._setOptions(n);return this},_setOptions:function(c){var a;for(a in c){this._setOption(a,c[a])}return this},_setOption:function(c,a){if(c==="classes"){this._setOptionClasses(a)}this.options[c]=a;if(c==="disabled"){this._setOptionDisabled(a)}return this},_setOptionClasses:function(a){var e,c,d;for(e in a){d=this.classesElementLookup[e];if(a[e]===this.options.classes[e]||!d||!d.length){continue}c=i(d.get());this._removeClass(d,e);c.addClass(this._classes({element:c,keys:e,classes:a,add:true}))}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);if(a){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(e){var d=[];var c=this;e=i.extend({element:this.element,classes:this.options.classes||{}},e);function a(p,n){var o,q;for(q=0;q<p.length;q++){o=c.classesElementLookup[p[q]]||i();if(e.add){o=i(i.unique(o.get().concat(e.element.get())))}else{o=i(o.not(e.element).get())}c.classesElementLookup[p[q]]=o;d.push(p[q]);if(n&&e.classes[p[q]]){d.push(e.classes[p[q]])}}}this._on(e.element,{remove:"_untrackClassesElement"});if(e.keys){a(e.keys.match(/\S+/g)||[],true)}if(e.extra){a(e.extra.match(/\S+/g)||[])}return d.join(" ")},_untrackClassesElement:function(a){var c=this;i.each(c.classesElementLookup,function(e,d){if(i.inArray(a.target,d)!==-1){c.classesElementLookup[e]=i(d.not(a.target).get())}})},_removeClass:function(c,a,d){return this._toggleClass(c,a,d,false)},_addClass:function(c,a,d){return this._toggleClass(c,a,d,true)},_toggleClass:function(d,c,m,a){a=(typeof a==="boolean")?a:m;var l=(typeof d==="string"||d===null),e={extra:l?c:m,keys:l?d:c,element:l?this.element:d,add:a};e.element.toggleClass(this._classes(e),a);return this},_on:function(c,d,e){var a;var k=this;if(typeof c!=="boolean"){e=d;d=c;c=false}if(!e){e=d;d=this.element;a=this.widget()}else{d=a=i(d);this.bindings=this.bindings.add(d)}i.each(e,function(v,w){function q(){if(!c&&(k.options.disabled===true||i(this).hasClass("ui-state-disabled"))){return}return(typeof w==="string"?k[w]:w).apply(k,arguments)}if(typeof w!=="string"){q.guid=w.guid=w.guid||q.guid||i.guid++}var x=v.match(/^([\w:-]*)\s*(.*)$/);var s=x[1]+k.eventNamespace;var u=x[2];if(u){a.on(s,u,q)}else{d.on(s,q)}})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(c).off(c);this.bindings=i(this.bindings.not(a).get());this.focusable=i(this.focusable.not(a).get());this.hoverable=i(this.hoverable.not(a).get())},_delay:function(a,c){function d(){return(typeof a==="string"?e[a]:a).apply(e,arguments)}var e=this;return setTimeout(d,c||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(c){this._addClass(i(c.currentTarget),null,"ui-state-hover")},mouseleave:function(c){this._removeClass(i(c.currentTarget),null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(c){this._addClass(i(c.currentTarget),null,"ui-state-focus")},focusout:function(c){this._removeClass(i(c.currentTarget),null,"ui-state-focus")}})},_trigger:function(m,l,e){var a,c;var d=this.options[m];e=e||{};l=i.Event(l);l.type=(m===this.widgetEventPrefix?m:this.widgetEventPrefix+m).toLowerCase();l.target=this.element[0];c=l.originalEvent;if(c){for(a in c){if(!(a in l)){l[a]=c[a]}}}this.element.trigger(l,e);return !(i.isFunction(d)&&d.apply(this.element[0],[l].concat(e))===false||l.isDefaultPrevented())}};i.each({show:"fadeIn",hide:"fadeOut"},function(a,c){i.Widget.prototype["_"+a]=function(m,n,d){if(typeof n==="string"){n={effect:n}}var e;var o=!n?a:n===true||typeof n==="number"?c:n.effect||c;n=n||{};if(typeof n==="number"){n={duration:n}}e=!i.isEmptyObject(n);n.complete=d;if(n.delay){m.delay(n.delay)}if(e&&i.effects&&i.effects.effect[o]){m[a](n)}else{if(o!==a&&m[o]){m[o](n.duration,n.easing,d)}else{m.queue(function(k){i(this)[a]();if(d){d.call(m[0])}k()})}}}});var j=i.widget}));(function(f,i,j,d){var h="awsuiPopBox";var k="awsui-popBox";var g="awsui-public-box";var a="awsui.popBox";var e={position:"auto",width:"auto",height:"auto",trigger:"click",style:"",delay:300,cache:true,isMulti:false,isArrow:true,title:"",content:"",okText:"确定",cancelText:"取消",closeable:false,isShowIcon:false,isShowBtn:false,hide:false,padding:true,url:"",type:"html",template:'<div class="awsui-popBox awsui-public-box"><div class="arrow"></div><div class="awsui-public-box-icon"><div class="awsui-iconfont awsui-icon-orange" style="font-size:26px;">&#58941;</div></div><div class="awsui-public-box-main"><div class="awsui-public-box-title"></div><div class="awsui-public-box-content"><p></p></div><div class="awsui-public-box-btn"><button type="button" class="awsui-btn awsui-btn-blue" id="okText"></button><button type="button" class="awsui-btn" id="cancelText"></button></div></div><span class="awsui-iconfont awsui-public-box-close">&#58931;</span></div>'};function c(m,l){this.$element=f(m);this.options=f.extend({},e,l);this._defaults=e;this._name=h;this.init()}c.prototype={init:function(){if(this.options.trigger==="no"){this.toggle();this.$element.off("click.popBox").on("click.popBox",f.proxy(this.toggle,this))}else{if(this.options.trigger==="click"){this.$element.off("click.popBox").on("click.popBox",f.proxy(this.toggle,this))}else{if(this.options.trigger==="hover"){this.$element.off("mouseenter mouseleave").on("mouseenter",f.proxy(this.mouseenterHandler,this)).on("mouseleave",f.proxy(this.mouseleaveHandler,this))}}}this._poped=false;this._inited=true;f(j).off("click.popBox").on("click.popBox",function(m){m.stopPropagation();var l=f(".awsui-popBox");if(l.length>0){f.each(l,function(n,o){if(f(o).attr("data-hide")==="true"){f(o).removeAttr("data-hide");f(o).removeClass("in").hide()}})}})},destroy:function(){this.hide();this.$element.data("plugin_"+h,null);this.$element.off();if(this.$target){this.$target.remove()}},hide:function(l){if(l){l.preventDefault();l.stopPropagation()}var m=f.Event("hide."+a);this.$element.trigger(m);if(this.$target){this.$target.removeClass("in").hide()}this.$element.trigger("hidden."+a)},toggle:function(l){if(l){l.preventDefault();l.stopPropagation()}this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){f("div.awsui-popBox").removeClass("in").hide()},onConfirm:function(){this.hide();if(event){event.preventDefault()}this.options.onConfirm()},onClose:function(){this.hide();if(event){event.preventDefault()}this.options.onClose()},show:function(){var n=this.getElementPosition(),m=this.getTarget().removeClass().addClass(k).addClass(g),v=this.getContentElement(),u=m[0].offsetWidth,q=m[0].offsetHeight,p="bottom",s=f.Event("show."+a);if(!this.options.isMulti){this.hideAll()}this.$element.trigger(s);if(!this.options.cache||!this._poped){if(!this.isAsync()){this.setContent(this.getContent())}else{this.setContentASync(this.options.content)}this.setTitle(this.getTitle());if(!this.options.closeable){m.find(".awsui-public-box-close").off("click").remove()}m.show()}if(this.options.width!=="auto"){m.width(this.options.width)}if(this.options.height!=="auto"){v.height(this.options.height)}if(!this.options.isShowBtn){this.$target.find(".awsui-public-box-btn").remove()}if(this.options.okText){this.setBtnText(this.getBtnText(this.options.okText))}if(this.options.cancelText){this.setBtnText(this.getBtnText(this.options.cancelText))}if(!this.options.isArrow){m.find(".arrow").remove()}m.remove().css({top:-1000,left:-1000,display:"block"}).appendTo(j.body);u=m[0].offsetWidth;q=m.find(".awsui-public-box-main").height()+32;p=this.getPlacement(n,q);this.initTargetEvents();var o=this.getTargetPositin(n,p,u,q);this.$target.css(o.position).addClass(p).addClass("in");if(this.options.type==="iframe"){var w=m.find("iframe");w.width(m.width()).height(w.parent().height())}if(this.options.style){this.$target.addClass(k+"-"+this.options.style)}if(!this.options.padding){v.css("height",v.outerHeight());this.$target.addClass("awsui-no-padding")}if(!this.options.isArrow){this.$target.css({margin:0})}if(this.options.isArrow&&o.arrowOffset){this.$target.find(".arrow").css(o.arrowOffset)}this._poped=true;this.$element.trigger("shown."+a);if(this.options.isShowIcon){var l=this.$target.width()-this.$target.find(".awsui-public-box-icon").outerWidth(true);this.$target.find(".awsui-public-box-main").css("width",l+"px");if(this.options.closeable){this.$target.find(".awsui-public-box-main").css("width",(l-10)+"px")}}else{this.$target.find(".awsui-public-box-icon").remove()}if(this.options.hide){this.$target.attr("data-hide",true)}},getTarget:function(){if(!this.$target){this.$target=f(this.options.template)}return this.$target},getTitleElement:function(){return this.getTarget().find("."+g+"-title")},getContentElement:function(){return this.getTarget().find("."+g+"-content")},getTitle:function(){return this.options.title||this.$element.attr("data-title")||this.$element.attr("title")},setTitle:function(l){var m=this.getTitleElement();if(l){m.html(l)}else{m.remove()}},hasContent:function(){return this.getContent()},getContent:function(){if(this.options.url){if(this.options.type==="iframe"){this.content=f('<iframe frameborder="0"></iframe>').attr("src",this.options.url)}}else{if(!this.content){var l="";if(f.isFunction(this.options.content)){l=this.options.content.apply(this.$element[0],arguments)}else{l=this.options.content}this.content=this.$element.attr("data-content")||l}}return this.content},setContent:function(m){var l=this.getTarget();this.getContentElement().html(m);this.$target=l},isAsync:function(){return this.options.type==="async"},setContentASync:function(m){var l=this;f.ajax({url:this.options.url,type:"GET",cache:this.options.cache,success:function(n){if(m&&f.isFunction(m)){l.content=m.apply(l.$element[0],[n])}else{l.content=n}l.setContent(l.content)}})},getBtnTextElement:function(){return this.getTarget().find("#okText")},getBtnCancelTextElement:function(){return this.getTarget().find("#cancelText")},getBtnText:function(l){if(l==this.options.okText){return this.options.okText}else{return this.options.cancelText}},setBtnText:function(m){var l=null;if(m==this.options.okText){l=this.getBtnTextElement()}else{l=this.getBtnCancelTextElement()}if(m){l.html(m)}else{l.remove()}},mouseenterHandler:function(){var l=this;if(l._timeout){clearTimeout(l._timeout)}if(!l.getTarget().is(":visible")){l.show()}},mouseleaveHandler:function(){var l=this;if(l.options.delay!=0){l._timeout=setTimeout(function(){l.hide()},l.options.delay)}},initTargetEvents:function(){this.$target.off("click.popBox").on("click.popBox",function(l){l.stopPropagation()});if(this.options.trigger!=="click"||this.options.trigger!=="no"){this.$target.off("mouseenter mouseleave").on("mouseenter",f.proxy(this.mouseenterHandler,this)).on("mouseleave",f.proxy(this.mouseleaveHandler,this))}this.$target.find(".awsui-public-box-close").off("click").on("click",f.proxy(this.hide,this));if(this.options.onConfirm){this.$target.find("#okText").off("click").on("click",f.proxy(this.onConfirm,this))}if(this.options.onClose){this.$target.find("#cancelText").off("click").on("click",f.proxy(this.onClose,this))}else{this.$target.find("#cancelText").off("click").on("click",f.proxy(this.hide,this))}},getPlacement:function(u,s){var q,v=j.documentElement,x=j.body,w=v.clientWidth,l=Math.max(x.scrollTop,v.scrollTop),m=Math.max(x.scrollLeft,v.scrollLeft),p=Math.max(0,u.left-m),n=Math.max(0,u.top-l),o=20;if(typeof(this.options.position)==="function"){q=this.options.position.call(this,this.getTarget()[0],this.$element[0])}else{q=this.options.position}if(q==="auto"){if(p<w/3){q=n>s+o?"top-right":"bottom-right"}else{if(p<w*2/3){q=n>s+o?"top":"bottom"}else{q=n>s+o?"top-left":"bottom-left"}}}return q},getElementPosition:function(){return f.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(l,p,u,q){var s=l,m=this.$element.outerWidth(),n={},v={},o=this.options.isArrow?0:0;switch(p){case"bottom":n={top:s.top+s.height,left:s.left+s.width/2-u/2};break;case"top":n={top:s.top-q-o,left:s.left+s.width/2-u/2};break;case"left":n={top:s.top+s.height/2-q/2,left:s.left-u-o};break;case"right":n={top:s.top+s.height/2-q/2,left:s.left+s.width};break;case"top-right":n={top:s.top-q-o,left:s.left};v={left:m/2};break;case"top-left":n={top:s.top-q-o,left:s.left-u+s.width};v={left:u-m/2};break;case"bottom-right":n={top:s.top+s.height,left:s.left};v={left:m/2};break;case"bottom-left":n={top:s.top+s.height,left:s.left-u+s.width};v={left:u-m/2};break}return{position:n,arrowOffset:v}}};f.fn[h]=function(l){return this.each(function(){var m=f.data(this,"plugin_"+h);if(!m){if(!l){m=new c(this,null)}else{if(typeof l==="string"){if(l!=="destroy"){m=new c(this,null);m[l]()}}else{if(typeof l==="object"){m=new c(this,l)}}}f.data(this,"plugin_"+h,m)}else{if(l==="destroy"){m.destroy()}else{if(typeof l==="string"){m[l]()}}}})}})(jQuery,window,document);
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){d.ui=d.ui||{};var c=d.ui.version="1.12.1";(function(){var l,m=Math.max,p=Math.abs,g=/left|center|right/,j=/top|center|bottom/,e=/[\+\-]\d+(\.[\d]+)?%?/,n=/^\w+/,f=/%$/,i=d.fn.position;function o(u,s,q){return[parseFloat(u[0])*(f.test(u[0])?s/100:1),parseFloat(u[1])*(f.test(u[1])?q/100:1)]}function k(q,s){return parseInt(d.css(q,s),10)||0}function h(s){var q=s[0];if(q.nodeType===9){return{width:s.width(),height:s.height(),offset:{top:0,left:0}}}if(d.isWindow(q)){return{width:s.width(),height:s.height(),offset:{top:s.scrollTop(),left:s.scrollLeft()}}}if(q.preventDefault){return{width:0,height:0,offset:{top:q.pageY,left:q.pageX}}}return{width:s.outerWidth(),height:s.outerHeight(),offset:s.offset()}}d.position={scrollbarWidth:function(){if(l!==undefined){return l}var s,q,v=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),u=v.children()[0];d("body").append(v);s=u.offsetWidth;v.css("overflow","scroll");q=u.offsetWidth;if(s===q){q=v[0].clientWidth}v.remove();return(l=s-q)},getScrollInfo:function(w){var v=w.isWindow||w.isDocument?"":w.element.css("overflow-x"),u=w.isWindow||w.isDocument?"":w.element.css("overflow-y"),s=v==="scroll"||(v==="auto"&&w.width<w.element[0].scrollWidth),q=u==="scroll"||(u==="auto"&&w.height<w.element[0].scrollHeight);return{width:q?d.position.scrollbarWidth():0,height:s?d.position.scrollbarWidth():0}},getWithinInfo:function(u){var v=d(u||window),q=d.isWindow(v[0]),w=!!v[0]&&v[0].nodeType===9,s=!q&&!w;return{element:v,isWindow:q,isDocument:w,offset:s?d(u).offset():{left:0,top:0},scrollLeft:v.scrollLeft(),scrollTop:v.scrollTop(),width:v.outerWidth(),height:v.outerHeight()}}};d.fn.position=function(C){if(!C||!C.of){return i.apply(this,arguments)}C=d.extend({},C);var D,z,x,B,w,q,y=d(C.of),v=d.position.getWithinInfo(C.within),s=d.position.getScrollInfo(v),A=(C.collision||"flip").split(" "),u={};q=h(y);if(y[0].preventDefault){C.at="left top"}z=q.width;x=q.height;B=q.offset;w=d.extend({},B);d.each(["my","at"],function(){var G=(C[this]||"").split(" "),F,E;if(G.length===1){G=g.test(G[0])?G.concat(["center"]):j.test(G[0])?["center"].concat(G):["center","center"]}G[0]=g.test(G[0])?G[0]:"center";G[1]=j.test(G[1])?G[1]:"center";F=e.exec(G[0]);E=e.exec(G[1]);u[this]=[F?F[0]:0,E?E[0]:0];C[this]=[n.exec(G[0])[0],n.exec(G[1])[0]]});if(A.length===1){A[1]=A[0]}if(C.at[0]==="right"){w.left+=z}else{if(C.at[0]==="center"){w.left+=z/2}}if(C.at[1]==="bottom"){w.top+=x}else{if(C.at[1]==="center"){w.top+=x/2}}D=o(u.at,z,x);w.left+=D[0];w.top+=D[1];return this.each(function(){var F,O,H=d(this),J=H.outerWidth(),G=H.outerHeight(),I=k(this,"marginLeft"),E=k(this,"marginTop"),N=J+I+k(this,"marginRight")+s.width,M=G+E+k(this,"marginBottom")+s.height,K=d.extend({},w),L=o(u.my,H.outerWidth(),H.outerHeight());if(C.my[0]==="right"){K.left-=J}else{if(C.my[0]==="center"){K.left-=J/2}}if(C.my[1]==="bottom"){K.top-=G}else{if(C.my[1]==="center"){K.top-=G/2}}K.left+=L[0];K.top+=L[1];F={marginLeft:I,marginTop:E};d.each(["left","top"],function(Q,P){if(d.ui.position[A[Q]]){d.ui.position[A[Q]][P](K,{targetWidth:z,targetHeight:x,elemWidth:J,elemHeight:G,collisionPosition:F,collisionWidth:N,collisionHeight:M,offset:[D[0]+L[0],D[1]+L[1]],my:C.my,at:C.at,within:v,elem:H})}});if(C.using){O=function(S){var U=B.left-K.left,R=U+z-J,T=B.top-K.top,Q=T+x-G,P={target:{element:y,left:B.left,top:B.top,width:z,height:x},element:{element:H,left:K.left,top:K.top,width:J,height:G},horizontal:R<0?"left":U>0?"right":"center",vertical:Q<0?"top":T>0?"bottom":"middle"};if(z<J&&p(U+R)<z){P.horizontal="center"}if(x<G&&p(T+Q)<x){P.vertical="middle"}if(m(p(U),p(R))>m(p(T),p(Q))){P.important="horizontal"}else{P.important="vertical"}C.using.call(this,S,P)}}H.offset(d.extend(K,{using:O}))})};d.ui.position={fit:{left:function(w,v){var u=v.within,y=u.isWindow?u.scrollLeft:u.offset.left,A=u.width,x=w.left-v.collisionPosition.marginLeft,z=y-x,s=x+v.collisionWidth-A-y,q;if(v.collisionWidth>A){if(z>0&&s<=0){q=w.left+z+v.collisionWidth-A-y;w.left+=z-q}else{if(s>0&&z<=0){w.left=y}else{if(z>s){w.left=y+A-v.collisionWidth}else{w.left=y}}}}else{if(z>0){w.left+=z}else{if(s>0){w.left-=s}else{w.left=m(w.left-x,w.left)}}}},top:function(v,u){var s=u.within,z=s.isWindow?s.scrollTop:s.offset.top,A=u.within.height,x=v.top-u.collisionPosition.marginTop,y=z-x,w=x+u.collisionHeight-A-z,q;if(u.collisionHeight>A){if(y>0&&w<=0){q=v.top+y+u.collisionHeight-A-z;v.top+=y-q}else{if(w>0&&y<=0){v.top=z}else{if(y>w){v.top=z+A-u.collisionHeight}else{v.top=z}}}}else{if(y>0){v.top+=y}else{if(w>0){v.top-=w}else{v.top=m(v.top-x,v.top)}}}}},flip:{left:function(y,x){var w=x.within,C=w.offset.left+w.scrollLeft,F=w.width,u=w.isWindow?w.scrollLeft:w.offset.left,z=y.left-x.collisionPosition.marginLeft,D=z-u,s=z+x.collisionWidth-F-u,B=x.my[0]==="left"?-x.elemWidth:x.my[0]==="right"?x.elemWidth:0,E=x.at[0]==="left"?x.targetWidth:x.at[0]==="right"?-x.targetWidth:0,v=-2*x.offset[0],q,A;if(D<0){q=y.left+B+E+v+x.collisionWidth-F-C;if(q<0||q<p(D)){y.left+=B+E+v}}else{if(s>0){A=y.left-x.collisionPosition.marginLeft+B+E+v-u;if(A>0||p(A)<s){y.left+=B+E+v}}}},top:function(x,w){var v=w.within,E=v.offset.top+v.scrollTop,F=v.height,q=v.isWindow?v.scrollTop:v.offset.top,z=x.top-w.collisionPosition.marginTop,B=z-q,y=z+w.collisionHeight-F-q,C=w.my[1]==="top",A=C?-w.elemHeight:w.my[1]==="bottom"?w.elemHeight:0,G=w.at[1]==="top"?w.targetHeight:w.at[1]==="bottom"?-w.targetHeight:0,u=-2*w.offset[1],D,s;if(B<0){s=x.top+A+G+u+w.collisionHeight-F-E;if(s<0||s<p(B)){x.top+=A+G+u}}else{if(y>0){D=x.top-w.collisionPosition.marginTop+A+G+u-q;if(D>0||p(D)<y){x.top+=A+G+u}}}}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}}})();var a=d.ui.position}));(function(V){var E=V.fn.domManip,S="_tmplitem",F=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,U={},Q={},R,G={key:0,data:{}},N=0,T=0,K=[];function P(f,j,a,i){var k={data:i||(i===0||i===false)?i:j?j.data:{},_wrap:j?j._wrap:null,tmpl:null,parent:j||null,nodes:[],calls:B,nest:z,wrap:y,html:A,update:C};f&&V.extend(k,f,{nodes:[],parent:j});if(a){k.tmpl=a;k._ctnt=k._ctnt||k.tmpl(V,k);k.key=++N;(K.length?Q:U)[N]=k}return k}V.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){V.fn[a]=function(u){var s=[],p=V(u),f,q,d,e,o=this.length===1&&this[0].parentNode;R=U||{};if(o&&o.nodeType===11&&o.childNodes.length===1&&p.length===1){p[c](this[0]);s=this}else{for(q=0,d=p.length;q<d;q++){T=q;f=(q>0?this.clone(true):this).get();V(p[q])[c](f);s=s.concat(f)}T=0;s=this.pushStack(s,a,p.selector)}e=R;R=null;V.tmpl.complete(e);return s}});V.fn.extend({tmpl:function(e,f,a){return V.tmpl(this[0],e,f,a)},tmplItem:function(){return V.tmplItem(this[0])},template:function(a){return V.template(a,this[0])},domManip:function(q,a,c){if(q[0]&&V.isArray(q[0])){var o=V.makeArray(arguments),n=q[0],e=n.length,l=0,p;while(l<e&&!(p=V.data(n[l++],"tmplItem"))){}if(p&&T){o[2]=function(d){V.tmpl.afterManip(this,d,c)}}E.apply(this,o)}else{E.apply(this,arguments)}T=0;!R&&V.tmpl.complete(U);return this}});V.extend({tmpl:function(l,g,j,m){var f,a=!m;if(a){m=G;l=V.template[l]||V.template(null,l);Q={}}else{if(!l){l=m.tmpl;U[m.key]=m;m.nodes=[];m.wrapped&&I(m,m.wrapped);return V(M(m,null,m.tmpl(V,m)))}}if(!l){return[]}if(typeof g==="function"){g=g.call(m||{})}j&&j.wrapped&&I(j,j.wrapped);f=V.isArray(g)?V.map(g,function(c){return c?P(j,m,l,c):null}):[P(j,m,l,g)];return a?V(M(m,null,f)):f},tmplItem:function(a){var d;if(a instanceof V){a=a[0]}while(a&&a.nodeType===1&&!(d=V.data(a,"tmplItem"))&&(a=a.parentNode)){}return d||G},template:function(d,a){if(a){if(typeof a==="string"){a=H(a)}else{if(a instanceof V){a=a[0]||{}}}if(a.nodeType){a=V.data(a,"tmpl")||V.data(a,"tmpl",H(a.innerHTML))}return typeof d==="string"?(V.template[d]=a):a}return d?typeof d!=="string"?V.template(null,d):V.template[d]||V.template(null,F.test(d)?d:V(d)):null},encode:function(c){return(""+c).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});V.extend(V.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){U={}},afterManip:function(c,a,h){var g=a.nodeType===11?V.makeArray(a.childNodes):a.nodeType===1?[a]:[];h.call(c,a);J(g);T++}});function M(i,d,h){var a,j=h?V.map(h,function(c){return typeof c==="string"?i.key?c.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+S+'="'+i.key+'" $2'):c:M(c,i,c._ctnt)}):i;if(d){return j}j=j.join("");j.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(g,m,k,l){a=V(k).get();J(a);if(m){a=L(m).concat(a)}if(l){a=a.concat(L(l))}});return a?a:L(j)}function L(d){var a=document.createElement("div");a.innerHTML=d;return V.makeArray(a.childNodes)}function H(a){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+V.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(h,n,o,s,W,x,w){var p=V.tmpl.tag[o],q,v,u;if(!p){throw"Unknown template tag: "+o}q=p._default||[];if(x&&!/\w$/.test(W)){W+=x;x=""}if(W){W=O(W);w=w?","+O(w)+")":x?")":"";v=x?W.indexOf(".")>-1?W+O(x):"("+W+").call($item"+w:W;u=x?v:"(typeof("+W+")==='function'?("+W+").call($item):("+W+"))"}else{u=v=q.$1||"null"}s=O(s);return"');"+p[n?"close":"open"].split("$notnull_1").join(W?"typeof("+W+")!=='undefined' && ("+W+")!=null":"true").split("$1a").join(u).split("$1").join(v).split("$2").join(s||q.$2||"")+"__.push('"})+"');}return __;")}function I(d,a){d._wrap=M(d,true,V.isArray(a)?a:[F.test(a)?a:V(a).html()]).join("")}function O(c){return c?c.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function D(c){var d=document.createElement("div");d.appendChild(c.cloneNode(true));return d.innerHTML}function J(c){var d="_"+T,i,q,g={},u,a,s;for(u=0,a=c.length;u<a;u++){if((i=c[u]).nodeType!==1){continue}q=i.getElementsByTagName("*");for(s=q.length-1;s>=0;s--){f(q[s])}f(i)}function f(v){var W,w=v,n,x,l;if(l=v.getAttribute(S)){while(w.parentNode&&(w=w.parentNode).nodeType===1&&!(W=w.getAttribute(S))){}if(W!==l){w=w.parentNode?w.nodeType===11?0:w.getAttribute(S)||0:0;if(!(x=U[l])){x=Q[l];x=P(x,U[w]||Q[w]);x.key=++N;U[N]=x}T&&X(l)}v.removeAttribute(S)}else{if(T&&(x=V.data(v,"tmplItem"))){X(x.key);U[x.key]=x;w=V.data(v.parentNode,"tmplItem");w=w?w.key:0}}if(x){n=x;while(n&&n.key!=w){n.nodes.push(v);n=n.parent}delete x._ctnt;delete x._wrap;V.data(v,"tmplItem",x)}function X(e){e=e+d;x=g[e]=g[e]||P(x,U[x.parent.key+d]||x.parent)}}}function B(f,g,h,e){if(!f){return K.pop()}K.push({_:f,tmpl:g,item:this,data:h,options:e})}function z(e,f,a){return V.tmpl(V.template(e),f,a,this)}function y(a,e){var f=a.options||{};f.wrapped=e;return V.tmpl(V.template(a.tmpl),a.data,f,a.item)}function A(e,f){var a=this._wrap;return V.map(V(V.isArray(a)?a.join(""):a).filter(e||"*"),function(c){return f?c.innerText||c.textContent:c.outerHTML||D(c)})}function C(){var a=this.nodes;V.tmpl(null,null,null,this).insertBefore(a[0]);V(a).remove()}})(jQuery);
/*! jQuery UI - v1.12.1 - 2018-02-09
* http://jqueryui.com
* Includes:  widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){e.ui=e.ui||{};var c=e.ui.version="1.12.1";var f=e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
	 * jQuery UI Mouse 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
var a=false;e(document).on("mouseup",function(){a=false});var d=e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.on("mousedown."+this.widgetName,function(h){return g._mouseDown(h)}).on("click."+this.widgetName,function(h){if(true===e.data(h.target,g.widgetName+".preventClickEvent")){e.removeData(h.target,g.widgetName+".preventClickEvent");h.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(i){if(a){return}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(i));this._mouseDownEvent=i;var h=this,j=(i.which===1),g=(typeof this.options.cancel==="string"&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:false);if(!j||g||!this._mouseCapture(i)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(i)&&this._mouseDelayMet(i)){this._mouseStarted=(this._mouseStart(i)!==false);if(!this._mouseStarted){i.preventDefault();return true}}if(true===e.data(i.target,this.widgetName+".preventClickEvent")){e.removeData(i.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(k){return h._mouseMove(k)};this._mouseUpDelegate=function(k){return h._mouseUp(k)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);i.preventDefault();a=true;return true},_mouseMove:function(g){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!g.button){return this._mouseUp(g)}else{if(!g.which){if(g.originalEvent.altKey||g.originalEvent.ctrlKey||g.originalEvent.metaKey||g.originalEvent.shiftKey){this.ignoreMissingWhich=true}else{if(!this.ignoreMissingWhich){return this._mouseUp(g)}}}}}if(g.which||g.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(g);return g.preventDefault()}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,g)!==false);(this._mouseStarted?this._mouseDrag(g):this._mouseUp(g))}return !this._mouseStarted},_mouseUp:function(g){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(g.target===this._mouseDownEvent.target){e.data(g.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(g)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;a=false;g.preventDefault()},_mouseDistanceMet:function(g){return(Math.max(Math.abs(this._mouseDownEvent.pageX-g.pageX),Math.abs(this._mouseDownEvent.pageY-g.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})}));
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(e,f){var d=e.ui.plugin={add:function(h,j,l){var g,k=e.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,k,j,h){var l,m=g.plugins[k];if(!m){return}if(!h&&(!g.element[0].parentNode||g.element[0].parentNode.nodeType===11)){return}for(l=0;l<m.length;l++){if(g.options[m[l][0]]){m[l][1].apply(g.element,j)}}}};var a=e.ui.safeActiveElement=function(g){var i;try{i=g.activeElement}catch(h){i=g.body}if(!i){i=g.body}if(!i.nodeName){i=g.body}return i};var c=e.ui.safeBlur=function(g){if(g&&g.nodeName.toLowerCase()!=="body"){e(g).trigger("blur")}};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(g,h){this._super(g,h);if(g==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(g){var h=this.options;if(this.helper||h.disabled||e(g.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(g);if(!this.handle){return false}this._blurActiveElement(g);this._blockFrames(h.iframeFix===true?"iframe":h.iframeFix);return true},_blockFrames:function(g){this.iframeBlocks=this.document.find(g).map(function(){var h=e(this);return e("<div>").css("position","absolute").appendTo(h.parent()).outerWidth(h.outerWidth()).outerHeight(h.outerHeight()).offset(h.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(h){var g=e.ui.safeActiveElement(this.document[0]),i=e(h.target);if(i.closest(g).length){return}e.ui.safeBlur(g)},_mouseStart:function(g){var h=this.options;this.helper=this._createHelper(g);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(e.ui.ddmanager){e.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return e(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(g);this.originalPosition=this.position=this._generatePosition(g,false);this.originalPageX=g.pageX;this.originalPageY=g.pageY;(h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt));this._setContainment();if(this._trigger("start",g)===false){this._clear();return false}this._cacheHelperProportions();if(e.ui.ddmanager&&!h.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,g)}this._mouseDrag(g,true);if(e.ui.ddmanager){e.ui.ddmanager.dragStart(this,g)}return true},_refreshOffsets:function(g){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:g.pageX-this.offset.left,top:g.pageY-this.offset.top}},_mouseDrag:function(g,i){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(g,true);this.positionAbs=this._convertPositionTo("absolute");if(!i){var h=this._uiHash();if(this._trigger("drag",g,h)===false){this._mouseUp(new e.Event("mouseup",g));return false}this.position=h.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(e.ui.ddmanager){e.ui.ddmanager.drag(this,g)}return false},_mouseStop:function(h){var g=this,i=false;if(e.ui.ddmanager&&!this.options.dropBehaviour){i=e.ui.ddmanager.drop(this,h)}if(this.dropped){i=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!i)||(this.options.revert==="valid"&&i)||this.options.revert===true||(e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i))){e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(g._trigger("stop",h)!==false){g._clear()}})}else{if(this._trigger("stop",h)!==false){this._clear()}}return false},_mouseUp:function(g){this._unblockFrames();if(e.ui.ddmanager){e.ui.ddmanager.dragStop(this,g)}if(this.handleElement.is(g.target)){this.element.trigger("focus")}return e.ui.mouse.prototype._mouseUp.call(this,g)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new e.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(g){return this.options.handle?!!e(g.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(h){var j=this.options,i=e.isFunction(j.helper),g=i?e(j.helper.apply(this.element[0],[h])):(j.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!g.parents("body").length){g.appendTo((j.appendTo==="parent"?this.element[0].parentNode:j.appendTo))}if(i&&g[0]===this.element[0]){this._setPositionRelative()}if(g[0]!==this.element[0]&&!(/(fixed|absolute)/).test(g.css("position"))){g.css("position","absolute")}return g},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(g){if(typeof g==="string"){g=g.split(" ")}if(e.isArray(g)){g={left:+g[0],top:+g[1]||0}}if("left" in g){this.offset.click.left=g.left+this.margins.left}if("right" in g){this.offset.click.left=this.helperProportions.width-g.right+this.margins.left}if("top" in g){this.offset.click.top=g.top+this.margins.top}if("bottom" in g){this.offset.click.top=this.helperProportions.height-g.bottom+this.margins.top}},_isRootNode:function(g){return(/(html|body)/i).test(g.tagName)||g===this.document[0]},_getParentOffset:function(){var h=this.offsetParent.offset(),g=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==g&&e.contains(this.scrollParent[0],this.offsetParent[0])){h.left+=this.scrollParent.scrollLeft();h.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){h={top:0,left:0}}return{top:h.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:h.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var g=this.element.position(),h=this._isRootNode(this.scrollParent[0]);return{top:g.top-(parseInt(this.helper.css("top"),10)||0)+(!h?this.scrollParent.scrollTop():0),left:g.left-(parseInt(this.helper.css("left"),10)||0)+(!h?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h,k,i,j=this.options,g=this.document[0];this.relativeContainer=null;if(!j.containment){this.containment=null;return}if(j.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(j.containment==="document"){this.containment=[0,0,e(g).width()-this.helperProportions.width-this.margins.left,(e(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(j.containment.constructor===Array){this.containment=j.containment;return}if(j.containment==="parent"){j.containment=this.helper[0].parentNode}k=e(j.containment);i=k[0];if(!i){return}h=/(scroll|auto)/.test(k.css("overflow"));this.containment=[(parseInt(k.css("borderLeftWidth"),10)||0)+(parseInt(k.css("paddingLeft"),10)||0),(parseInt(k.css("borderTopWidth"),10)||0)+(parseInt(k.css("paddingTop"),10)||0),(h?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(k.css("borderRightWidth"),10)||0)-(parseInt(k.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(h?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(k.css("borderBottomWidth"),10)||0)-(parseInt(k.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=k},_convertPositionTo:function(h,j){if(!j){j=this.position}var g=h==="absolute"?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:(j.top+this.offset.relative.top*g+this.offset.parent.top*g-((this.cssPosition==="fixed"?-this.offset.scroll.top:(i?0:this.offset.scroll.top))*g)),left:(j.left+this.offset.relative.left*g+this.offset.parent.left*g-((this.cssPosition==="fixed"?-this.offset.scroll.left:(i?0:this.offset.scroll.left))*g))}},_generatePosition:function(h,n){var g,p,q,j,i=this.options,m=this._isRootNode(this.scrollParent[0]),l=h.pageX,k=h.pageY;if(!m||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(n){if(this.containment){if(this.relativeContainer){p=this.relativeContainer.offset();g=[this.containment[0]+p.left,this.containment[1]+p.top,this.containment[2]+p.left,this.containment[3]+p.top]}else{g=this.containment}if(h.pageX-this.offset.click.left<g[0]){l=g[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<g[1]){k=g[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>g[2]){l=g[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>g[3]){k=g[3]+this.offset.click.top}}if(i.grid){q=i.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;k=g?((q-this.offset.click.top>=g[1]||q-this.offset.click.top>g[3])?q:((q-this.offset.click.top>=g[1])?q-i.grid[1]:q+i.grid[1])):q;j=i.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;l=g?((j-this.offset.click.left>=g[0]||j-this.offset.click.left>g[2])?j:((j-this.offset.click.left>=g[0])?j-i.grid[0]:j+i.grid[0])):j}if(i.axis==="y"){l=this.originalPageX}if(i.axis==="x"){k=this.originalPageY}}return{top:(k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(m?0:this.offset.scroll.top))),left:(l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(m?0:this.offset.scroll.left)))}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(g,h,i){i=i||this._uiHash();e.ui.plugin.call(this,g,[h,i,this],true);if(/^(drag|start|stop)/.test(g)){this.positionAbs=this._convertPositionTo("absolute");i.offset=this.positionAbs}return e.Widget.prototype._trigger.call(this,g,h,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(i,j,g){var h=e.extend({},j,{item:g.element});g.sortables=[];e(g.options.connectToSortable).each(function(){var k=e(this).sortable("instance");if(k&&!k.options.disabled){g.sortables.push(k);k.refreshPositions();k._trigger("activate",i,h)}})},stop:function(i,j,g){var h=e.extend({},j,{item:g.element});g.cancelHelperRemoval=false;e.each(g.sortables,function(){var k=this;if(k.isOver){k.isOver=0;g.cancelHelperRemoval=true;k.cancelHelperRemoval=false;k._storedCSS={position:k.placeholder.css("position"),top:k.placeholder.css("top"),left:k.placeholder.css("left")};k._mouseStop(i);k.options.helper=k.options._helper}else{k.cancelHelperRemoval=true;k._trigger("deactivate",i,h)}})},drag:function(h,i,g){e.each(g.sortables,function(){var j=false,k=this;k.positionAbs=g.positionAbs;k.helperProportions=g.helperProportions;k.offset.click=g.offset.click;if(k._intersectsWith(k.containerCache)){j=true;e.each(g.sortables,function(){this.positionAbs=g.positionAbs;this.helperProportions=g.helperProportions;this.offset.click=g.offset.click;if(this!==k&&this._intersectsWith(this.containerCache)&&e.contains(k.element[0],this.element[0])){j=false}return j})}if(j){if(!k.isOver){k.isOver=1;g._parent=i.helper.parent();k.currentItem=i.helper.appendTo(k.element).data("ui-sortable-item",true);k.options._helper=k.options.helper;k.options.helper=function(){return i.helper[0]};h.target=k.currentItem[0];k._mouseCapture(h,true);k._mouseStart(h,true,true);k.offset.click.top=g.offset.click.top;k.offset.click.left=g.offset.click.left;k.offset.parent.left-=g.offset.parent.left-k.offset.parent.left;k.offset.parent.top-=g.offset.parent.top-k.offset.parent.top;g._trigger("toSortable",h);g.dropped=k.element;e.each(g.sortables,function(){this.refreshPositions()});g.currentItem=g.element;k.fromOutside=g}if(k.currentItem){k._mouseDrag(h);i.position=k.position}}else{if(k.isOver){k.isOver=0;k.cancelHelperRemoval=true;k.options._revert=k.options.revert;k.options.revert=false;k._trigger("out",h,k._uiHash(k));k._mouseStop(h,true);k.options.revert=k.options._revert;k.options.helper=k.options._helper;if(k.placeholder){k.placeholder.remove()}i.helper.appendTo(g._parent);g._refreshOffsets(h);i.position=g._generatePosition(h,true);g._trigger("fromSortable",h);g.dropped=false;e.each(g.sortables,function(){this.refreshPositions()})}}})}});e.ui.plugin.add("draggable","cursor",{start:function(i,j,g){var h=e("body"),k=g.options;if(h.css("cursor")){k._cursor=h.css("cursor")}h.css("cursor",k.cursor)},stop:function(h,i,g){var j=g.options;if(j._cursor){e("body").css("cursor",j._cursor)}}});e.ui.plugin.add("draggable","opacity",{start:function(i,j,g){var h=e(j.helper),k=g.options;if(h.css("opacity")){k._opacity=h.css("opacity")}h.css("opacity",k.opacity)},stop:function(h,i,g){var j=g.options;if(j._opacity){e(i.helper).css("opacity",j._opacity)}}});e.ui.plugin.add("draggable","scroll",{start:function(h,j,g){if(!g.scrollParentNotHidden){g.scrollParentNotHidden=g.helper.scrollParent(false)}if(g.scrollParentNotHidden[0]!==g.document[0]&&g.scrollParentNotHidden[0].tagName!=="HTML"){g.overflowOffset=g.scrollParentNotHidden.offset()}},drag:function(k,l,j){var m=j.options,h=false,n=j.scrollParentNotHidden[0],g=j.document[0];if(n!==g&&n.tagName!=="HTML"){if(!m.axis||m.axis!=="x"){if((j.overflowOffset.top+n.offsetHeight)-k.pageY<m.scrollSensitivity){n.scrollTop=h=n.scrollTop+m.scrollSpeed}else{if(k.pageY-j.overflowOffset.top<m.scrollSensitivity){n.scrollTop=h=n.scrollTop-m.scrollSpeed}}}if(!m.axis||m.axis!=="y"){if((j.overflowOffset.left+n.offsetWidth)-k.pageX<m.scrollSensitivity){n.scrollLeft=h=n.scrollLeft+m.scrollSpeed}else{if(k.pageX-j.overflowOffset.left<m.scrollSensitivity){n.scrollLeft=h=n.scrollLeft-m.scrollSpeed}}}}else{if(!m.axis||m.axis!=="x"){if(k.pageY-e(g).scrollTop()<m.scrollSensitivity){h=e(g).scrollTop(e(g).scrollTop()-m.scrollSpeed)}else{if(e(window).height()-(k.pageY-e(g).scrollTop())<m.scrollSensitivity){h=e(g).scrollTop(e(g).scrollTop()+m.scrollSpeed)}}}if(!m.axis||m.axis!=="y"){if(k.pageX-e(g).scrollLeft()<m.scrollSensitivity){h=e(g).scrollLeft(e(g).scrollLeft()-m.scrollSpeed)}else{if(e(window).width()-(k.pageX-e(g).scrollLeft())<m.scrollSensitivity){h=e(g).scrollLeft(e(g).scrollLeft()+m.scrollSpeed)}}}}if(h!==false&&e.ui.ddmanager&&!m.dropBehaviour){e.ui.ddmanager.prepareOffsets(j,k)}}});e.ui.plugin.add("draggable","snap",{start:function(h,j,g){var k=g.options;g.snapElements=[];e(k.snap.constructor!==String?(k.snap.items||":data(ui-draggable)"):k.snap).each(function(){var l=e(this),i=l.offset();if(this!==g.element[0]){g.snapElements.push({item:this,width:l.outerWidth(),height:l.outerHeight(),top:i.top,left:i.left})}})},drag:function(x,u,k){var g,C,n,p,w,s,q,D,y,m,v=k.options,B=v.snapTolerance,A=u.offset.left,z=A+k.helperProportions.width,j=u.offset.top,h=j+k.helperProportions.height;for(y=k.snapElements.length-1;y>=0;y--){w=k.snapElements[y].left-k.margins.left;s=w+k.snapElements[y].width;q=k.snapElements[y].top-k.margins.top;D=q+k.snapElements[y].height;if(z<w-B||A>s+B||h<q-B||j>D+B||!e.contains(k.snapElements[y].item.ownerDocument,k.snapElements[y].item)){if(k.snapElements[y].snapping){(k.options.snap.release&&k.options.snap.release.call(k.element,x,e.extend(k._uiHash(),{snapItem:k.snapElements[y].item})))}k.snapElements[y].snapping=false;continue}if(v.snapMode!=="inner"){g=Math.abs(q-h)<=B;C=Math.abs(D-j)<=B;n=Math.abs(w-z)<=B;p=Math.abs(s-A)<=B;if(g){u.position.top=k._convertPositionTo("relative",{top:q-k.helperProportions.height,left:0}).top}if(C){u.position.top=k._convertPositionTo("relative",{top:D,left:0}).top}if(n){u.position.left=k._convertPositionTo("relative",{top:0,left:w-k.helperProportions.width}).left}if(p){u.position.left=k._convertPositionTo("relative",{top:0,left:s}).left}}m=(g||C||n||p);if(v.snapMode!=="outer"){g=Math.abs(q-j)<=B;C=Math.abs(D-h)<=B;n=Math.abs(w-A)<=B;p=Math.abs(s-z)<=B;if(g){u.position.top=k._convertPositionTo("relative",{top:q,left:0}).top}if(C){u.position.top=k._convertPositionTo("relative",{top:D-k.helperProportions.height,left:0}).top}if(n){u.position.left=k._convertPositionTo("relative",{top:0,left:w}).left}if(p){u.position.left=k._convertPositionTo("relative",{top:0,left:s-k.helperProportions.width}).left}}if(!k.snapElements[y].snapping&&(g||C||n||p||m)){(k.options.snap.snap&&k.options.snap.snap.call(k.element,x,e.extend(k._uiHash(),{snapItem:k.snapElements[y].item})))}k.snapElements[y].snapping=(g||C||n||p||m)}}});e.ui.plugin.add("draggable","stack",{start:function(i,j,g){var h,l=g.options,k=e.makeArray(e(l.stack)).sort(function(n,m){return(parseInt(e(n).css("zIndex"),10)||0)-(parseInt(e(m).css("zIndex"),10)||0)});if(!k.length){return}h=parseInt(e(k[0]).css("zIndex"),10)||0;e(k).each(function(m){e(this).css("zIndex",h+m)});this.css("zIndex",(h+k.length))}});e.ui.plugin.add("draggable","zIndex",{start:function(i,j,g){var h=e(j.helper),k=g.options;if(h.css("zIndex")){k._zIndex=h.css("zIndex")}h.css("zIndex",k.zIndex)},stop:function(h,i,g){var j=g.options;if(j._zIndex){e(i.helper).css("zIndex",j._zIndex)}}})})(jQuery);
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(c,d){c.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var f,g=this.options,e=g.accept;this.isover=false;this.isout=true;this.accept=c.isFunction(e)?e:function(h){return h.is(e)};this.proportions=function(){if(arguments.length){f=arguments[0]}else{return f?f:f={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(g.scope);g.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){c.ui.ddmanager.droppables[e]=c.ui.ddmanager.droppables[e]||[];c.ui.ddmanager.droppables[e].push(this)},_splice:function(e){var f=0;for(;f<e.length;f++){if(e[f]===this){e.splice(f,1)}}},_destroy:function(){var e=c.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(f,g){if(f==="accept"){this.accept=c.isFunction(g)?g:function(h){return h.is(g)}}else{if(f==="scope"){var e=c.ui.ddmanager.droppables[this.options.scope];this._splice(e);this._addToManager(g)}}this._super(f,g)},_activate:function(f){var e=c.ui.ddmanager.current;this._addActiveClass();if(e){this._trigger("activate",f,this.ui(e))}},_deactivate:function(f){var e=c.ui.ddmanager.current;this._removeActiveClass();if(e){this._trigger("deactivate",f,this.ui(e))}},_over:function(f){var e=c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(e.currentItem||e.element))){this._addHoverClass();this._trigger("over",f,this.ui(e))}},_out:function(f){var e=c.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(e.currentItem||e.element))){this._removeHoverClass();this._trigger("out",f,this.ui(e))}},_drop:function(f,g){var e=g||c.ui.ddmanager.current,h=false;if(!e||(e.currentItem||e.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=c(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===e.options.scope&&i.accept.call(i.element[0],(e.currentItem||e.element))&&a(e,c.extend(i,{offset:i.element.offset()}),i.options.tolerance,f)){h=true;return false}});if(h){return false}if(this.accept.call(this.element[0],(e.currentItem||e.element))){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",f,this.ui(e));return this.element}return false},ui:function(e){return{draggable:(e.currentItem||e.element),helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var a=c.ui.intersect=(function(){function e(g,f,h){return(g>=f)&&(g<(f+h))}return function(s,k,p,g){if(!k.offset){return false}var i=(s.positionAbs||s.position.absolute).left+s.margins.left,o=(s.positionAbs||s.position.absolute).top+s.margins.top,h=i+s.helperProportions.width,n=o+s.helperProportions.height,j=k.offset.left,q=k.offset.top,f=j+k.proportions().width,m=q+k.proportions().height;switch(p){case"fit":return(j<=i&&h<=f&&q<=o&&n<=m);case"intersect":return(j<i+(s.helperProportions.width/2)&&h-(s.helperProportions.width/2)<f&&q<o+(s.helperProportions.height/2)&&n-(s.helperProportions.height/2)<m);case"pointer":return e(g.pageY,q,k.proportions().height)&&e(g.pageX,j,k.proportions().width);case"touch":return((o>=q&&o<=m)||(n>=q&&n<=m)||(o<q&&n>m))&&((i>=j&&i<=f)||(h>=j&&h<=f)||(i<j&&h>f));default:return false}}})();c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,l){var g,f,e=c.ui.ddmanager.droppables[h.options.scope]||[],k=l?l.type:null,n=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(g=0;g<e.length;g++){if(e[g].options.disabled||(h&&!e[g].accept.call(e[g].element[0],(h.currentItem||h.element)))){continue}for(f=0;f<n.length;f++){if(n[f]===e[g].element[0]){e[g].proportions().height=0;continue droppablesLoop}}e[g].visible=e[g].element.css("display")!=="none";if(!e[g].visible){continue}if(k==="mousedown"){e[g]._activate.call(e[g],l)}e[g].offset=e[g].element.offset();e[g].proportions({width:e[g].element[0].offsetWidth,height:e[g].element[0].offsetHeight})}},drop:function(e,f){var g=false;c.each((c.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a(e,this,this.options.tolerance,f)){g=this._drop.call(this,f)||g}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(e.currentItem||e.element))){this.isout=true;this.isover=false;this._deactivate.call(this,f)}});return g},dragStart:function(e,f){e.element.parentsUntil("body").on("scroll.droppable",function(){if(!e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}})},drag:function(e,f){if(e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}c.each(c.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var j,h,g,i=a(e,this,this.options.tolerance,f),k=!i&&this.isover?"isout":(i&&!this.isover?"isover":null);if(!k){return}if(this.options.greedy){h=this.options.scope;g=this.element.parents(":data(ui-droppable)").filter(function(){return c(this).droppable("instance").options.scope===h});if(g.length){j=c(g[0]).droppable("instance");j.greedyChild=(k==="isover")}}if(j&&k==="isover"){j.isover=false;j.isout=true;j._out.call(j,f)}this[k]=true;this[k==="isout"?"isover":"isout"]=false;this[k==="isover"?"_over":"_out"].call(this,f);if(j&&k==="isout"){j.isout=false;j.isover=true;j._over.call(j,f)}})},dragStop:function(e,f){e.element.parentsUntil("body").off("scroll.droppable");if(!e.options.refreshPositions){c.ui.ddmanager.prepareOffsets(e,f)}}};if(c.uiBackCompat!==false){c.widget("ui.droppable",c.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}})(jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(d){var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],j=Array.prototype.slice,k,c;if(d.event.fixHooks){for(var f=e.length;f;){d.event.fixHooks[e[--f]]=d.event.mouseHooks}}var g=d.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var n=l.length;n;){this.addEventListener(l[--n],m,false)}}else{this.onmousewheel=m}d.data(this,"mousewheel-line-height",g.getLineHeight(this));d.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var n=l.length;n;){this.removeEventListener(l[--n],m,false)}}else{this.onmousewheel=null}},getLineHeight:function(i){return parseInt(d(i)["offsetParent" in d.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(i){return d(i).height()},settings:{adjustOldDeltas:true}};d.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function m(i){var o=i||window.event,u=j.call(arguments,1),w=0,q=0,p=0,s=0;i=d.event.fix(o);i.type="mousewheel";if("detail" in o){p=o.detail*-1}if("wheelDelta" in o){p=o.wheelDelta}if("wheelDeltaY" in o){p=o.wheelDeltaY}if("wheelDeltaX" in o){q=o.wheelDeltaX*-1}if("axis" in o&&o.axis===o.HORIZONTAL_AXIS){q=p*-1;p=0}w=p===0?q:p;if("deltaY" in o){p=o.deltaY*-1;w=p}if("deltaX" in o){q=o.deltaX;if(p===0){w=q*-1}}if(p===0&&q===0){return}if(o.deltaMode===1){var v=d.data(this,"mousewheel-line-height");w*=v;p*=v;q*=v}else{if(o.deltaMode===2){var n=d.data(this,"mousewheel-page-height");w*=n;p*=n;q*=n}}s=Math.max(Math.abs(p),Math.abs(q));if(!c||s<c){c=s;if(a(o,s)){c/=40}}if(a(o,s)){w/=40;q/=40;p/=40}w=Math[w>=1?"floor":"ceil"](w/c);q=Math[q>=1?"floor":"ceil"](q/c);p=Math[p>=1?"floor":"ceil"](p/c);i.deltaX=q;i.deltaY=p;i.deltaFactor=c;i.deltaMode=0;u.unshift(i,w,q,p);if(k){clearTimeout(k)}k=setTimeout(h,200);return(d.event.dispatch||d.event.handle).apply(this,u)}function h(){c=null}function a(n,i){return g.settings.adjustOldDeltas&&n.type==="mousewheel"&&i%120===0}}));
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
(function(d){var h="iCheck",f=h+"-helper",s="checkbox",a="radio",v="checked",B="un"+v,j="disabled",i="determinate",c="in"+i,u="update",x="type",e="click",A="touchbegin.i touchend.i",q="addClass",g="removeClass",m="trigger",D="label",p="cursor",o=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);d.fn[h]=function(R,I){var N='input[type="'+s+'"], input[type="'+a+'"]',P=d(),F=function(S){S.each(function(){var T=d(this);if(T.is(N)){P=P.add(T)}else{P=P.add(T.find(N))}})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(R)){R=R.toLowerCase();F(this);return P.each(function(){var S=d(this);if(R=="destroy"){y(S,"ifDestroyed")}else{z(S,true,R)}if(d.isFunction(I)){I()}})}else{if(typeof R=="object"||!R){var J=d.extend({checkedClass:v,disabledClass:j,indeterminateClass:c,labelHover:true},R);var K=J.handle;var M=J.hoverClass||"hover";var Q=J.focusClass||"focus";var O=J.activeClass||"active";var G=!!J.labelHover;var L=J.labelHoverClass||"hover";var H=(""+J.increaseArea).replace("%","")|0;w(J.label);if(K==s||K==a){N='input[type="'+K+'"]'}if(H<-50){H=-50}F(this);return P.each(function(){var ad=d(this);y(ad);var V=this,S=V.id,W=-H+"%",ae=100+(H*2)+"%",X={position:"absolute",top:W,left:W,display:"block",width:ae,height:ae,margin:0,padding:0,background:"#fff",border:0,opacity:0},Y=o?{position:"absolute",visibility:"hidden"}:H?X:{position:"absolute",opacity:0},Z=V[x]==s?J.checkboxClass||"i"+s:J.radioClass||"i"+a,ab=d(D+'[for="'+S+'"]').add(ad.closest(D)),aa=!!J.aria,U=h+"-"+Math.random().toString(36).substr(2,6),ac='<div class="'+Z+'" '+(aa?'role="'+V[x]+'" ':""),T;if(aa){ab.each(function(){ac+='aria-labelledby="';if(this.id){ac+=this.id}else{this.id=U;ac+=U}ac+='"'})}ac=ad.wrap(ac+"/>")[m]("ifCreated").parent().append(J.insert);T=d('<ins class="'+f+'"/>').css(X).appendTo(ac);ad.data(h,{o:J,s:ad.attr("style")}).css(Y);!!J.inheritClass&&ac[q](V.className||"");!!J.inheritID&&S&&ac.attr("id",h+"-"+S);ac.css("position","relative");z(ad,true,u);if(ab.length){ab.off(e+".i mouseover.i mouseout.i "+A).on(e+".i mouseover.i mouseout.i "+A,function(ah){var af=ah[x],ag=d(this);if(!V[j]){if(af==e){if(d(ah.target).is("a")){return false}z(ad,false,true)}else{if(G){if(/ut|nd/.test(af)){ac[g](M);ag[g](L)}else{ac[q](M);ag[q](L)}}}if(o||(V.getAttribute("stop")!=null&&V.getAttribute("stop").indexOf(af)>-1)){ah.stopPropagation()}else{return true}}})}ad.on(e+".i focus.i blur.i keyup.i keydown.i keypress.i",function(ah){var ag=ah[x],af=ah.keyCode;if(ag==e){return false}else{if(ag=="keydown"&&af==32){if(!(V[x]==a&&V[v])){if(V[v]){C(ad,v)}else{l(ad,v)}}return false}else{if(ag=="keyup"&&V[x]==a){!V[v]&&l(ad,v)}else{if(/us|ur/.test(ag)){ac[ag=="blur"?g:q](Q)}}}}});T.off(e+" mousedown mouseup mouseover mouseout "+A).on(e+" mousedown mouseup mouseover mouseout "+A,function(ah){var ag=ah[x],af=/wn|up/.test(ag)?O:M;if(!V[j]){if(ag==e){z(ad,false,true)}else{if(/wn|er|in/.test(ag)){ac[q](af)}else{ac[g](af+" "+O)}if(ab.length&&G&&af==M){ab[/ut|nd/.test(ag)?g:q](L)}}if(o){ah.stopPropagation()}else{if(ab[0]&&(ab[0].className.indexOf("awsui-radio-label")>=0||ab[0].className.indexOf("awsui-checkbox-label")>=0)){return true}else{if(V.getAttribute("propagation")!=null&&V.getAttribute("propagation").indexOf(ag)>-1){return true}return false}}}})})}else{return this}}};function z(F,L,K){var G=F[0],I=/er/.test(K)?c:/bl/.test(K)?j:v,J=K==u?{checked:G[v],disabled:G[j],indeterminate:F.attr(c)=="true"||F.attr(i)=="false"}:G[I];if(/^(ch|di|in)/.test(K)&&!J){l(F,I)}else{if(/^(un|en|de)/.test(K)&&J){C(F,I)}else{if(K==u){for(var H in J){if(J[H]){l(F,H,true)}else{C(F,H,true)}}}else{if(!L||K=="toggle"){if(!L){F[m]("ifClicked")}if(J){if(G[x]!==a){C(F,I)}}else{l(F,I)}}}}}}function l(Q,H,F){var P=false;try{P=d("#isMobile").val()}catch(O){}var K=Q[0],S=Q.parent(),R=H==v,G=H==c,L=H==j,T=G?i:R?B:"enabled",J=n(Q,T+k(K[x])),N=n(Q,H+k(K[x]));if(P=="true"||P==true){if(S.hasClass("ui-checkbox")){S=S.parent()}}if(K[H]!==true){if(!F&&H==v&&K[x]==a&&K.name){var I=Q.closest("form"),M='input[name="'+K.name+'"]';M=I.length?I.find(M):d(M);M.each(function(){if(this!==K&&d(this).data(h)){C(d(this),H)}})}if(G){K[H]=true;if(K[v]){C(Q,v,"force")}}else{if(!F){K[H]=true}if(R&&K[c]){C(Q,c,false)}}E(Q,R,H,F)}if(K[j]&&!!n(Q,p,true)){S.find("."+f).css(p,"default")}S[q](N||n(Q,H)||"");if(!!S.attr("role")&&!G){S.attr("aria-"+(L?j:v),"true")}S[g](J||n(Q,T)||"")}function C(O,H,F){var N=false;try{N=d("#isMobile").val()}catch(M){}var J=O[0],Q=O.parent(),P=H==v,G=H==c,K=H==j,R=G?i:P?B:"enabled",I=n(O,R+k(J[x])),L=n(O,H+k(J[x]));if(N=="true"||N==true){if(Q.hasClass("ui-checkbox")){Q=Q.parent()}}if(J[H]!==false){if(G||!F||F=="force"){J[H]=false}E(O,P,R,F)}if(!J[j]&&!!n(O,p,true)){Q.find("."+f).css(p,"pointer")}Q[g](L||n(O,H)||"");if(!!Q.attr("role")&&!G){Q.attr("aria-"+(K?j:v),"false")}Q[q](I||n(O,R)||"")}function y(F,G){if(F.data(h)){F.parent().html(F.attr("style",F.data(h).s||""));if(G){F[m](G)}F.off(".i").unwrap();d(D+'[for="'+F[0].id+'"]').add(F.closest(D)).off(".i")}}function n(F,H,G){if(F.data(h)){return F.data(h).o[H+(G?"":"Class")]}}function k(F){return F.charAt(0).toUpperCase()+F.slice(1)}function E(G,H,I,F){if(!F){if(H){G[m]("ifToggled")}G[m]("ifChanged")[m]("if"+k(I))}}function w(F){D=F||D}})(window.jQuery||window.Zepto);
/*!
 * =====================================================
 * AWSUI组件库，基于jQuery 1.10.2
 * v1.0 (http://www.actionsoft.com.cn)
 * author zhangy
 * 发布后文件名：aws.util.js
 * =====================================================
 */
var ua=navigator.userAgent.toLowerCase();$.browser={isStrict:document.compatMode=="CSS1Compat",isOpera:ua.indexOf("opera")>-1,isSafari:ua.indexOf("safari")>-1&&ua.indexOf("chrome")==-1,isSafari3:this.isSafari&&ua.indexOf("webkit/5")!=-1,isIE:"ActiveXObject" in window,isIE6:!this.isOpera&&ua.indexOf("msie 6")>-1,isIE7:!this.isOpera&&ua.indexOf("msie 7")>-1,isIE8:!this.isOpera&&ua.indexOf("msie 8")>-1,isIE9:!this.isOpera&&ua.indexOf("msie 9")>-1,isIE10:!this.isOpera&&ua.indexOf("msie 10")>-1,isIE11:(/trident\/7\./).test(ua),isGecko:!this.isSafari&&ua.indexOf("gecko")>-1,isFirefox:!this.isSafari&&ua.indexOf("gecko")>-1&&ua.indexOf("firefox")>-1,isChrome:ua.indexOf("chrome")!==-1,isBorderBox:this.isIE&&!this.isStrict,isWindows:ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1,isMac:ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1,isAir:ua.indexOf("adobeair")!=-1,isLinux:ua.indexOf("linux")!=-1,isSecure:window.location.href.toLowerCase().indexOf("https")===0,isIPhone:ua.match(/(iphone\sos)\s([\d_]+)/)!=null||ua.match(/(ipad).*os\s([\d_]+)/)!=null,isIPhoneX:window.screen.width==375&&window.screen.height==812,isIPad:ua.match(/(ipad).*os\s([\d_]+)/)!=null,isAWSMobilePortalApp:ua.indexOf("awsmobileportal")>0,isAndroid:ua.indexOf("android")>0,isMobile:!!ua.match(/(iphone|ipod|android|ios)/i)};(function($){var parentScrollTopH="";var outserWindowH="";var iframeTop="";try{window.onmessage=function(e){e=e||event;var msg=e.data;if(msg&&msg.indexOf("paramHeight:")>-1){var msgArr=msg.split(":");if(msgArr.length==2){var params=msgArr[1].split(",");if(params.length>2){outserWindowH=params[1];parentScrollTopH=params[2];iframeTop=params[0]}}}}}catch(e){}$.widget("awsui.dialog",{options:{fixed:true,closable:true,draggable:true,containment:"document",isExist:false},close:function(){if(this.options.onClose){if(this.options.onClose()==false){return}}this.destroy()},_init:function(){if(this.options.mode===undefined){this.options.mode=this.options.model}if(this.options.mode===undefined){this.options.mode=true}$("#awsui_quicktip").remove();var title="";if(this.options.title){title=this.options.title}else{if(this.element.attr("title")){title=this.element.attr("title")}}this.element.removeAttr("title","");var wrap=this.options.height!=null&&this.options.height!="auto";var isWizard=false;if(this.element.children().hasClass("awsui-wizard")){isWizard=true}else{if(wrap){if(this.element.children().hasClass("dialog-wrap")){this.element.children().find("dialog-wrap").eq(0).remove()}else{this.element.wrapInner("<div class='dialog-wrap dlg-content'></div>")}}}if(this.element.children().hasClass("dlg-title")){}else{this.title=$("<h2 class='dlg-title'>"+title+"</h2>").prependTo(this.element)}if(this.element.children().hasClass("awsui-public-box-close")){var dialogClose=$(".awsui-public-box-close")}else{var dialogClose=$('<div class="awsui-iconfont awsui-public-box-close">&#58931</div>').appendTo(this.element)}this.element.addClass("awsui-dialog").fadeIn("fast");var self=this;dialogClose.off().on("click",function(){self.close()});if(this.options.closable){dialogClose.show()}else{dialogClose.hide()}if(this.options.buttons){var buts=$("<div class='dlg-button'></div>").appendTo($("<div class='dialog-button-wrap' style='text-align:"+(this.options.buttonAlign!=null?this.options.buttonAlign:"right")+"'></div>").appendTo(this.element));$.each(this.options.buttons,function(i,v){var item=v;var bt=$("<button type='button' class='button "+(item.cls?item.cls:"")+"'></button>").text(item.text).appendTo(buts);bt.on("click",item.handler)});this._setOption("buttons",buts)}this.element.find(".dlg-button .button:last-child").addClass("last");var optionWidth=this.options.width;if(this.options.width){optionWidth=this.options.width;var width=screen.width;if(optionWidth+50>$(window).width()){optionWidth=$(window).width()-50}this.element.css({width:optionWidth-10})}else{if(this.element.outerWidth()+50>$(window).width()){this.element.css({width:$(window).width()-50})}}var MaxHeight=$(window).height();if(wrap){var ih=this.options.height;var wrapH=ih-this.title.outerHeight(true);MaxHeight=MaxHeight-this.title.outerHeight(true);if(this.options.buttons!=null&&this.options.buttons.length){wrapH-=this.element.find(".dlg-button").outerHeight(true);MaxHeight-=this.element.find(".dlg-button").outerHeight(true)}if(wrapH>MaxHeight){wrapH=MaxHeight;wrapH-=44}this.element.find(".dialog-wrap").css({height:wrapH})}else{MaxHeight=MaxHeight-this.title.outerHeight(true);if(this.options.buttons!=null&&this.options.buttons.length){MaxHeight-=this.element.find(".dlg-button").outerHeight(true)}if(this.element.outerHeight()>MaxHeight){this.element.find(".dialog-wrap").css({height:MaxHeight-44})}}if(isWizard){var wizard=this.element.find(".awsui-wizard");this.element.css("height","");if(!this.options.isExist){this.element.css("width","")}}if(this.options.mode===true){$.mask()}var dialogWidth=this.element.outerWidth();var dialogHeight=this.element.outerHeight();var self=this;$(document).on("resize.dialog",function(){var top=0;if(self.options.fixed){self.element.css("position","fixed");top=($(window).height()-dialogHeight)/2+"px"}else{self.element.css("position","absolute");try{if(outserWindowH!=""){top=(parseInt(outserWindowH)-dialogHeight)/2+(parseInt(parentScrollTopH)-parseInt(iframeTop))+"px"}else{top=($(window).height()-dialogHeight)/2+"px"}}catch(e){top=($(window).height()-dialogHeight)/2+"px"}}var left=($(window).width()-dialogWidth)/2+"px";self.element.css({top:top,left:left})});$(document).trigger("resize.dialog");if(this.options.draggable&&$("#isMobile").val()!="true"){var t=this.title;var c=this.options.containment;this.element.draggable({handle:t,containment:c})}else{this.title.css("cursor","default")}var dlg=this;$(window).off("keydown.dialog").on("keydown.dialog",function(e){if(e.keyCode==27&&dlg.options.closable){dlg.close()}});$(document).off("keydown.dialog").on("keydown.dialog",function(e){if(e.keyCode==27&&dlg.options.closable){dlg.close()}});try{setTimeout(function(){dlg.element.find(".dlg-content,.dialog-wrap.dlg-content").preventScroll(dlg.options.scrollDiv)},200)}catch(e){console.log(阻止和功能窗口的滚动事件冒泡失败)}$(".awsui-dialog").off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(e){});$(document.body).find("a").blur();$(document.body).find("button").blur();$(document.body).find("input[type='button']").blur();$(document.body).find(".awsui-dialog").find("button[class$='blue']").focus()},_setOption:function(key,value){if(key==="disabled"){return}this._super(key,value);if(key==="title"){if(!this.options.title){this.title.html("&#160;")}this.title.text(this.options.title)}},_destroy:function(){if(!this.element.hasClass("confirm-window")){$("#simplealert").remove()}this.element.hide();var hasLoadingSimpleAlert=$("#simplealert").find(".loading").length>0;if((this.options.mode===true)&&!hasLoadingSimpleAlert){$.mask("close",this.options.isExist)}this.element.find(".dialog-wrap").children().unwrap();var title=this.element.find(".dlg-title");this.element.attr("title",title.text());title.remove();if(this.options.buttons){this.element.find(".dialog-button-wrap").remove()}this.element.find(".awsui-public-box-close").remove();this.element.removeClass("awsui-dialog").find(".dlg-close").remove();this.element.find("input[type='checkbox'][id='secondaryConfirmCheck']").remove();$(window).unbind("resize.dialog")}});FrmDialog={dlgs:{},open:function(config,url,data,id){if($("#awsui_tooltip").length>0){$("#awsui_tooltip").remove()}var dlg={initId:function(id){id=id||config.id;if(id==null){id=""}this.rawId=id;this.div="id-awsui-win-frm-2013"+id;this.frm="id-awsui-win-frm-2013-frm"+id},init:function(config,url,data){var self=this;var def={width:700,title:"",iconCls:"icon-file"};try{if(JSON.stringify(config).indexOf("CLIENT_COMMON_AC_ACTION_OPEN")>0){var buttons=config.buttons;for(var i=0;i<buttons.length;i++){var btn=buttons[i];if(btn.cls=="blue"){config.buttons.splice(i,1);break}}}}catch(e){}$.extend(def,config||{});def.mode=def.model;var oc=def.onClose;def.onClose=function(){var r=null;if(oc!=null){r=oc()}self.clear();return r};var mode=def.mode;if($(".window-mask").length>0){mode=false}def.mode=mode;if($("#"+this.div).length>0){return null}var s=$("<div id='"+this.div+"'><iframe name='"+this.frm+"' id='"+this.frm+"' frameborder=0 style='width:100%;height:100%' src=''></iframe></div>");$(document.body).append(s);$(s.find("iframe")).off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(event){event.preventDefault()});var dlg=$("#"+this.div).dialog(def);url=url||def.url;if(url!=null){var s="";s+="<html>";s+="<head>";s+="<title>loading...</title>";s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">';s+="<body>";s+="<p>&nbsp;</p>";s+='<p align="center"><img src="../commons/img/waiting.gif" style="width:40px;"></p>';s+="<p>&nbsp;</p>";s+="</body>";$(s).appendTo($("#"+this.frm)[0].contentWindow.document.body);var fm=$('<form action="'+url+'" TARGET ="'+this.frm+'" method=post></form>').appendTo($("#"+this.div));data=data||def.data||{};for(var key in data){if(data[key]!=null){var jq=$("<input type='hidden' name=\""+key+'">').appendTo(fm);jq.val(data[key])}}if(navigator.userAgent.toLowerCase().indexOf("msie 8")==-1){fm[0].submit();fm.remove()}else{setTimeout(function(){fm[0].submit();fm.remove()},1)}}this.wrap=dlg;return dlg},close:function(){$("#"+this.div).dialog("close");this.clear()},clear:function(){delete FrmDialog.dlgs[this.rawId];$("#"+this.div).remove()},name:function(){return this.frm},win:function(){var ifrm=$("#"+this.frm)[0];return ifrm.contentWindow?ifrm.contentWindow:(ifrm.contentDocument.document?ifrm.contentDocument.document:ifrm.contentDocument)},id:function(id){return this.win().document.getElementById(id)},$:function(st,context){return this.win().jQuery(st,context)}};dlg.initId(id);var inner=dlg.init(config,url,data);if(inner!=null){FrmDialog.dlgs[dlg.rawId]=dlg;return dlg}return null},get:function(id){if(id!=null){return this.dlgs[id]}var keys=[];for(var i in FrmDialog.dlgs){if(FrmDialog.dlgs.hasOwnProperty(i)){keys.push(i)}}var l=keys.length;if(l>1){alert(当前对象拥有多个实例请对特定实例操作);return null}else{if(l==0){}}for(key in FrmDialog.dlgs){return this.dlgs[key]}return null},close:function(id){if(id!=null){return this.get(id).close()}var dlg=this.get();if(dlg!=null){dlg.close()}return},name:function(){var dlg=this.get();if(dlg!=null){return dlg.name()}return null},win:function(){var dlg=this.get();if(dlg!=null){return dlg.win()}return null},id:function(id){var dlg=this.get();if(dlg!=null){return dlg.el()}return null},$:function(st,context){var dlg=this.get();if(dlg!=null){return dlg.$(st,context)}return null}};window.initSideTitle=function(obj,title,iframeId){try{var toolbar=$(obj).contents().find("#AWSRowPageToolbar");if(toolbar.length>0){var w=$(obj).width()-21;toolbar.width(w)}else{toolbar=$(obj).contents().find("#FormToolbar")}if(toolbar.length>0){var titleHtm=$("<span style='font-size:16px;font-weight:700;line-height:28px;'>"+title+"</span>");if(toolbar.children().length>0){$(toolbar.children().get(0)).before(titleHtm)}else{titleHtm.append(titleHtm)}}}catch(e){}};window.AWSForJquerySetVal=function(obj,index,newValue,oldValue){if(obj.nodeName=="SELECT"&&obj.className.indexOf("select2-hidden-accessible")>-1){if(!$(obj).data("cache")){var options=$(obj).select2("getSetting");if(options.options.ajax&&options.options.ajax.cache){$(obj).select2("trigger","queryNotOpen")}}}return newValue};$.openSidebar=function(options){var rootPath=(window.getRootPath?window.getRootPath():"..")+/commons/;var defaults={url:rootPath+"wait.htm",title:"",closeText:"关闭",width:"60%",isMode:false,duration:"slow",iframeId:"",containerId:"",color:"",buttons:[]};var err=function(msg){if(window.console){console.log(msg)}else{alert(msg)}};var opt=$.extend(defaults,options);if(opt.iframeId&&options.topZone==undefined){opt.topZone="hide"}var parentContainer=opt.parent==undefined?window:opt.parent;var sidebarId="aws-sidebar-zone";var contentId="awsui-sidebar-content-container";if(options.parent!=undefined){if(parentContainer.jQuery==undefined){err("父容器没有引入jQuery");return}}else{sidebarId+="-"+opt.containerId;contentId+="-"+opt.containerId}var sidebar=parentContainer.$('<div class="awsui-sidebar" style="display:none;"></div>');var w=$(parentContainer).width();if(parentContainer.$("#"+sidebarId).length==0){var top=parentContainer.$('<div class="awsui-sidebar-top"></div>');var content=parentContainer.$('<div id="awsui-sidebar-content-container" class="awsui-sidebar-content-container"></div>');var buttonZone=parentContainer.$('<div class="awsui-sidebar-button"></div>');var iframe;var container;sidebar.attr("id",sidebarId);content.attr("id",contentId);if(opt.containerId){if(parentContainer.$("#"+opt.containerId).length>0){content.append($("#"+opt.containerId))}else{content.html('<div id="'+opt.containerId+'" width="100%" height="100%"></div>')}}if(opt.iframeId){var initsrc=rootPath+"wait.htm";if(opt.title!=""){content.html("<iframe onload=\"window.initSideTitle(this,'"+opt.title+'\');return false;" id="'+opt.iframeId+'" name="'+opt.iframeId+'"  src="'+initsrc+'" frameborder="0" width="100%" height="100%"></iframe>')}else{content.html('<iframe id="'+opt.iframeId+'" name="'+opt.iframeId+'"  src="'+initsrc+'" frameborder="0" width="100%" height="100%"></iframe>')}}if(opt.topZone=="hide"){var closeIcon=$('<div class="awsui-iconfont awsui-sidebar-operate">&#xe6fe;</div>');closeIcon.attr("title",opt.closeText);sidebar.append(closeIcon);var defaultCloseCss={width:"25px",height:"23px",lineHeight:"23px",position:"absolute",top:"12px",right:"10px",zIndex:200,cursor:"pointer",opacity:"0.8",background:"transparent",borderRadius:"25px"};var closeCss=$.extend(defaultCloseCss,opt.closeCss);closeIcon.css(closeCss);content.css({top:"0px"})}else{top.append('<div class="awsui-iconfont awsui-sidebar-operate" title="关闭">&#xe6fe;</div>');top.append(buttonZone);var button="";if(opt.buttons){for(var i=0;i<opt.buttons.length;i++){var btn=opt.buttons[i];var button=$('<li class="button" style="border:0px;cursor:pointer;width:59px;height:40px;line-height:50px;text-align:center;padding:0px 10px 0px 10px;float:left"></li>');buttonZone.append(button);if(btn.display){button.show()}button.attr("id",btn.id);button.text(btn.text);var sidebarColor=opt.color.toLowerCase();if(sidebarColor=="white"||sidebarColor=="#fff"||sidebarColor=="#ffffff"){button.css({color:"black"})}button.off("click").on("click",btn.click)}}sidebar.append(top)}sidebar.append(content);var containBody=$(parentContainer.document.body);if(containBody.find("#"+sidebarId).length==0){containBody.append(sidebar)}var op=sidebar.find(".awsui-sidebar-operate");var opW=op.width();if(!opt.iframeId||opt.topZone!="hide"){sidebar.find(".awsui-sidebar-top").css({background:opt.color});sidebar.find(".awsui-sidebar-operate").css({background:opt.color})}var sideWidth=opt.width;if(sideWidth.indexOf("%")>-1){var str=sideWidth.substring(0,sideWidth.length-1);sideWidth=w*parseFloat(parseInt(str)/100)}if(sideWidth>=(w)||sideWidth=="100%"){sideWidth=w;op.css("left","0")}sidebar.css({right:"-"+w+"px",width:sideWidth})}else{sidebar=parentContainer.$("#"+sidebarId);op=sidebar.find(".awsui-sidebar-operate")}var defaultComplete=function(){if(opt.containerId){}if(opt.iframeId){var sideFrameWindow=parentContainer.frames[opt.iframeId];sideFrameWindow.location=opt.url}};var complete=opt.complete;if(complete==undefined){complete=defaultComplete}else{if(typeof(complete)=="function"){var comp=complete;complete=function(){defaultComplete();comp()}}else{complete=defaultComplete}}var defaultCloseCallback=function(){if(opt.isMode){$("#window-mask").off("click.close");$.mask("close")}sidebar.animate({right:"-"+w+"px"},opt.duration,function(){})};var closeCallback=opt.onClose;if(closeCallback==undefined){closeCallback=defaultCloseCallback}else{if(typeof(closeCallback)=="function"){var tmp=closeCallback;closeCallback=function(){tmp();defaultCloseCallback()}}else{closeCallback=defaultCloseCallback}}op.off("click").on("click",closeCallback);if(opt.isMode){$.mask();$("#window-mask").css("z-index",2);$("#window-mask").off("click.close").on("click.close",closeCallback)}sidebar.show();if(opt.containerId){$("#"+opt.containerId).show()}sidebar.animate({right:"0px"},opt.duration,function(){if(complete){complete()}})};var maskStackCount=0;$.mask=function(method,isExist){if(typeof method=="undefined"){method="open"}if(method==undefined){method="open"}if(method=="open"){if(maskStackCount==0){if($("#iweboffice").length>0&&window.hideGold){hideGold(true,"mask")}if($("#iwebpdftable").length>0){$("#iwebpdftable").hide()}var mask=$("<div id='window-mask' class='window-mask' style='display:none;'></div>").appendTo("body");var height=($(window).height())+"px";if($.browser.isIPhoneX){height=($(window).height()+34)+"px"}mask.css({width:$(window).width()+"px",height:height,filter:"alpha(opacity=60)"}).show();$(window).on("resize.mask",function(){mask.css({width:$(window).width()+"px",height:height})});if($.browser.isMobile||$("#isMobile").val()==="true"){mask.off("touchmove.mask").on("touchmove.mask",function(event){event.preventDefault();return false})}mask.off("mousewheel.awsui.mask").on("mousewheel.awsui.mask",function(event){event.preventDefault();return false})}maskStackCount++}else{if(method=="close"){maskStackCount--;if(maskStackCount<0){maskStackCount=0}if(isExist){maskStackCount=0}if(maskStackCount==0){$("#window-mask").remove();if($("#iweboffice").length>0&&window.hideGold){hideGold(false,"mask")}if($("#iwebpdftable").length>0){$("#iwebpdftable").show()}$(window).off("resize.mask")}}}};$.simpleAlert=function(msg,type,delay,options){var isMobile=$("#isMobile").length>0?($("#isMobile").val()=="true"):false;if(typeof msg=="string"&&msg=="close"){$("#simplealert").remove();$.mask("close");return}if(arguments.length==3){if($.type(delay)=="object"){options=delay;delay=null}}var defaults={alertType:"info"};var opt=$.extend(defaults,options);if($("#simplealert").length){$("#simplealert").remove()}if(type){opt.alertType=type}if(opt.alertType=="infoClose"){delay="no";opt.alertType="info"}if(opt.forceClose===true){}else{if(opt.alertType=="loading"||opt.alertType=="error"||opt.alertType=="warning"){delay="no"}}if(opt.alertType=="loading"){if(opt.model===undefined){opt.model=opt.mode=true}}if($(".window-mask").length>0){opt.model=opt.mode=false}var fontIconObj={};if(opt.alertType=="ok"){fontIconObj[opt.alertType]={icon:"&#60017;",color:"green"}}else{if(opt.alertType=="info"){fontIconObj[opt.alertType]={icon:"&#58933;",color:"blue"}}else{if(opt.alertType=="warning"){fontIconObj[opt.alertType]={icon:"&#58941;",color:"orange"}}else{if(opt.alertType=="error"){fontIconObj[opt.alertType]={icon:"&#58927;",color:"red"}}}}}var imgRootPath=(window.getRootPath?window.getRootPath():"..")+"/commons/img/";var simpleAlert=$("<div id='simplealert' class='simplealert radius4 "+type+" awsui-public-box' style='position:absolute;'></div>").appendTo("body");var html="";if(type=="loading"){if(msg==""){msg=正在加载+"..."}html="<div>";html+="<span class='loading'><img src='"+imgRootPath+"waiting.gif'/></span>"}else{html="<div class='awsui-public-box-icon'><div class='awsui-iconfont awsui-icon-"+fontIconObj[opt.alertType].color+"'>"+fontIconObj[opt.alertType].icon+"</div>"}if(msg.indexOf("\n")==0){msg=msg.substring(1,msg.length)}html+="</div>";if(msg!=""){html+="<div class='msg'>"+msg.replace(/\n/g,"<br/>")+"</div>"}simpleAlert.html(html);var msg=simpleAlert.children(".msg");var icon=simpleAlert.children(".icon");simpleAlert.fadeIn();if(msg.width()>=425){if((msg.width()+icon.width())>(simpleAlert.width())){msg.css("max-width",simpleAlert.width()-icon.width())}}var top=($(window).height()-simpleAlert.height())/2+$(window).scrollTop();var left=($(window).width()-simpleAlert.outerWidth())/2+$(window).scrollLeft();if(top<0){simpleAlert.css("height",($(window).height()-200)+"px");top=($(window).height()-simpleAlert.height())/2+$(window).scrollTop();msg.css("overflow","auto")}else{msg.css("overflow","none")}simpleAlert.css("top",top+"px");simpleAlert.css("left",left+"px");icon.css("top",(simpleAlert.height()-icon.height())/2-5);if(opt.model===true||opt.mode===true){$.mask()}if(delay!="no"){setTimeout(function(){if(opt.model||opt.mode===true){$.mask("close")}if(opt.callback!=null){opt.callback()}try{simpleAlert.fadeOut(300)}catch(e){}},delay?delay:1500)}else{if(opt.alertType!="loading"){var closeDom=$('<span class="awsui-iconfont awsui-public-box-close">&#58931;</span>');if(isMobile){closeDom=$('<div class="awsui-iconfont" style="font-size:18px;">&#59134;</div>').css({position:"absolute",top:"3px",right:"3px"})}closeDom.appendTo(simpleAlert).click(function(){$("#simplealert").remove();if(opt.model||opt.mode===true){$.mask("close")}if(opt.callback!=null){opt.callback()}});msg.css("margin-right",17)}}if(msg.height()>$(window).height()){msg.css("height",(simpleAlert.height()-20))}var msgTop=(simpleAlert.height()-msg.height())/2};$.confirm=function(options){var isMobile=false;if($("#isMobile").length>0){isMobile=$("#isMobile").val=="true"}var defaults={title:提示,model:true,bOkText:确定,bCancelText:取消,type:"confirm",secondaryConfirm:false,secondaryConfirmInfo:是确定};var opt=$.extend(defaults,options);if(opt.model){$.mask()}var checkbox="";if(opt.secondaryConfirm){checkbox="<div class='msg'><input id='secondaryConfirmCheck' type='checkbox' class='awsui-checkbox'><label for='secondaryConfirmCheck' class='awsui-checkbox-label'>"+opt.secondaryConfirmInfo+"</label></div>"}var confirmWin=$("<div class='confirm-window'><div class='msg'>"+(options.content.replace(/\n/g,"<br/>")||"")+"</div>"+checkbox+"</div>");$("body").append(confirmWin);var bts=[{text:options.bOkText?options.bOkText:defaults.bOkText,cls:options.cls?options.cls:"blue",handler:function(){if(!options.onConfirm||options.onConfirm()!==false){confirmWin.dialog("close");return false}return false}}];if(opt.type!="alert"){bts.push({text:options.bCancelText?options.bCancelText:defaults.bCancelText,handler:function(){if(!options.onClose||options.onClose()!==false){if(isMobile==false){confirmWin.dialog("close");return false}}return false}})}opt.buttons=bts;opt.buttonAlign="center";if(options.onClose){opt.onClose=function(){options.onClose();confirmWin.remove()}}else{opt.onClose=function(){confirmWin.remove()}}if(isMobile==false){confirmWin.dialog(opt)}else{var okCallback=opt.buttons[0].handler;var cancelCallback=opt.buttons[1].handler;mobileConfirmDialog(opt.title,opt.content,okCallback,cancelCallback)}if(opt.secondaryConfirm){$("#secondaryConfirmCheck").check();confirmWin.find("button[class='button blue']").attr("disabled","true");confirmWin.find("button[class='button blue']").addClass("disable");$("#secondaryConfirmCheck").on("ifClicked",function(){if(!$("#secondaryConfirmCheck").prop("checked")){confirmWin.find("button[class='button blue disable']").removeAttr("disabled");confirmWin.find("button[class='button blue disable']").removeClass("disable")}else{confirmWin.find("button[class='button blue']").attr("disabled","true");confirmWin.find("button[class='button blue']").addClass("disable")}})}$(document.body).find("a").blur();$(document.body).find("button").blur();$(document.body).find("input[type='button']").blur();$(document.body).find(".confirm-window").find("button[class$='blue']").focus()};var ctp=function(id,temp,opt){if(temp.is(document)){return}if(!temp.offset()||temp.hasClass("cke_wysiwyg_frame")||$.trim(opt.text)==""){return}$("#"+id).remove();var tip=$("<div id='"+id+"' class='tooltip radius4'><div class='tooltip-content'></div></div>").appendTo("body");tip.data("target",temp);var arrow="<span class='tooltip-arrow'></span><span class='tooltip-arrow-inner'></span>";if(opt.text&&typeof opt.text=="object"){tip.find(".tooltip-content").html(arrow).append(opt.text.clone(true).show())}else{tip.find(".tooltip-content").html(arrow+opt.text);$(document).off("click.tooltip")}var mHeight=-1;mHeight=($(window).height()-temp.height())/2-20;if(opt.maxWidth){tip.find(".tooltip-content").css({"max-width":opt.maxWidth,"max-height":mHeight})}opt.bordercolor=opt.borderColor?opt.borderColor:opt.bordercolor;opt.bgcolor=opt.bgColor?opt.bgColor:opt.bgcolor;var top=0,left=0,arrowLeft=0,css1,css2;if(opt.position=="bottom"){css1={top:"-12px",left:0,"border-bottom":"6px solid "+opt.bordercolor};css2={top:"-10px",left:0,"border-bottom":"6px solid "+opt.bgcolor};top=temp.offset().top+temp.outerHeight()+10;left=temp.offset().left}else{if(opt.position=="top"){css1={top:"27px",left:0,"border-top":"6px solid "+opt.bordercolor};css2={top:"27px",left:0,"border-top":"6px solid "+opt.bgcolor};top=temp.offset().top-temp.outerHeight()-10;if(opt.close==true){top=top-20;css1.top="47px";css2.top="46px"}left=temp.offset().left}else{if(opt.position=="left"){css1={top:"7px",right:"-21px","border-left":"6px solid "+opt.bordercolor};css2={top:"7px",right:"-20px","border-left":"6px solid "+opt.bgcolor};top=temp.offset().top;left=temp.offset().left-temp.outerWidth()/2-tip.width()-5}else{if(opt.position=="right"){css1={top:"7px",left:"-21px","border-right":"6px solid "+opt.bordercolor};css2={top:"7px",left:"-20px","border-right":"6px solid "+opt.bgcolor};top=temp.offset().top;left=temp.offset().left+temp.outerWidth()+10}}}}if(opt.position=="bottom"&&top+tip.outerHeight()>($(window).height()+$(window).scrollTop())){top=Math.abs(temp.offset().top-tip.outerHeight()-10);var toheight=tip.outerHeight();css1={top:toheight-1,left:0,"border-top":"6px solid "+opt.bordercolor};css2={top:toheight-2,left:0,"border-top":"6px solid "+opt.bgcolor};if(opt.arrow_left!=null){css1.left=opt.arrow_left;css2.left=opt.arrow_left}}if(left+tip.outerWidth()+2>$(window).width()){left=Math.abs(left+temp.outerWidth()-tip.outerWidth());if(opt.arrow_left!=null){css1.left=opt.arrow_left;css2.left=opt.arrow_left}else{css1.left=tip.outerWidth()-30;css2.left=tip.outerWidth()-30}}tip.find(".tooltip-arrow").css(css1);tip.find(".tooltip-arrow-inner").css(css2);tip.css({color:opt.color,border:"1px solid "+opt.bordercolor,background:opt.bgcolor,top:top,left:left});tip.fadeIn()};$.fn.tooltip=function(options){var id="awsui_tooltip";var selector="#"+id;if(typeof options=="string"){if(options=="close"){$(selector).remove();$(document).off("mousedown.tooltip")}}else{var defaults={bordercolor:"#CCC",position:"bottom",bgcolor:"#fff",color:"#444",autoClose:false,arrow_left:null,maxWidth:250,close:false};var opt=$.extend(defaults,options);var temp=$(this);ctp(id,temp,opt);if(opt.autoClose){$(selector).off("mousedown.click").on("mousedown.click",function(e){e.stopPropagation()});$(document).off("mousedown.tooltip").on("mousedown.tooltip",function(e){var dragel=$(selector)[0],target=e.target;if(dragel!==target&&!$.contains(dragel,target)){temp.tooltip("close")}})}if(opt.close){$("#"+id+" div.tooltip-content").css({});$('<span class="awsui-tabs-icon close"></span>').appendTo($(selector)).click(function(){temp.tooltip("close")});$(selector).css({width:$(selector).outerWidth()+$(selector).find(".close").width()})}if(opt.delay){setTimeout(function(){$(selector).remove();$(document).off("mousedown.tooltip")},opt.delay)}}};$.fn.quicktip=function(option){var id="awsui_quicktip";if(option=="close"){$("#"+id).remove()}$(this).off("mouseover.over").on("mouseover.over",function(event){var defaults={bordercolor:"transparent",position:"bottom",bgcolor:"#000",color:"#fff",autoClose:false,arrow_left:null,maxWidth:250};var target=event.target;if(target){var tipDom=$("#"+id);if(tipDom.length>0&&tipDom.is(":visible")&&tipDom.data("target")&&tipDom.data("target").is(target)){return}target=$(target);if(target.hasClass("iCheck-helper")){target=target.parent()}if(!(target.attr("title")&&!target.attr("no-awsui-qtip"))&&!(target.hasClass("awsui-qtip")||target.attr("awsui-qtip"))){target=target.parent()}if(target.is(":disabled")){return true}if(target.attr("title")&&!target.attr("no-awsui-qtip")){target.attr("awsui-qtip",target.attr("title"));target.removeAttr("title")}if(target.hasClass("awsui-qtip")||target.attr("awsui-qtip")){if($.browser.isMobile||$.browser.isIPad){return}var props=target.attr("awsui-qtip");if(props!=null&&props.length>0){var o=null;try{o=awsui.decode("{"+props+"}");if(o.text==null){o={text:props}}}catch(e){o={text:props}}var opt=$.extend(defaults,o);ctp(id,target,opt,event);$("#"+id).on("mouseleave.awsui.quicktip",function(){target.off("mouseleave.awsui.quicktip");$("#"+id).off("mouseleave.awsui.quicktip");$("#"+id).remove()});target.on("mouseleave.awsui.quicktip",function(){$("#"+id).remove();target.off("mouseleave.awsui.quicktip");$("#"+id).off("mouseleave.awsui.quicktip")});target.on("mousedown.awsui.quicktip",function(){$("#"+id).remove();target.off("mousedown.awsui.quicktip");$("#"+id).off("mousedown.awsui.quicktip")})}}}})};$.fn.popbox=function(options){var obj=$(this);if(typeof options=="string"&&options=="close"){if(obj.length>0&&obj.is(":visible")){obj.hide();$(".awsui-popbox-arrow").remove();$(".awsui-popbox-arrow-inner").remove();$(document).off("mousedown.popbox_");if(obj.data("popboxConfig")){$(obj.data("popboxConfig").target).data("popbox",null);$(obj.data("popboxConfig").target).find(".awsui-arrow").removeClass("up")}}return}if(window.iweboffice){$(iweboffice).css("visibility","hidden")}var opt={width:"200",height:"200",target:null,distanceTop:5,distanceLeft:10,hideArrow:false,callBack:null};opt=$.extend(opt,options);if($(opt.target).data("popbox")===true){return}obj.data("popboxConfig",options);if(!obj.hasClass("awsui-pop")){obj.addClass("awsui-pop")}var arrow=$("<div class='awsui-popbox-arrow top'></div>").appendTo("body");var arrow_inner=$("<div class='awsui-popbox-arrow-inner top'></div>").appendTo("body");var target=$(opt.target),offsetLeft=target.offset().left,offsetTop=target.offset().top,arrowTop=0,arrowInnerToop=0;var popBoxHeight=0;$(this).css("top",-8000).show();obj.css({top:-8000,width:opt.width,height:opt.height});var popBoxHeight=$(this).outerHeight();var popBoxWidth=$(this).outerWidth();$(this).css("top",0).hide();if($(document).height()-offsetTop-target.height()-40<popBoxHeight&&offsetTop>popBoxHeight){arrowTop=offsetTop-arrow.outerHeight()/2-opt.distanceTop;arrowInnerToop=arrowTop-1;if(opt.hideArrow){offsetTop=offsetTop-1-popBoxHeight}else{offsetTop=offsetTop-arrow.outerHeight()/2-opt.distanceTop-popBoxHeight}arrow.removeClass("top").addClass("bottom");arrow_inner.removeClass("top").addClass("bottom")}else{if($(document).height()-offsetTop<popBoxHeight){var newHeight=$(document).height()+(popBoxHeight-($(document).height()-offsetTop))+target.outerHeight()+50}arrowTop=offsetTop+target.outerHeight()-arrow.outerHeight()/2+opt.distanceTop;arrowInnerToop=arrowTop+1;if(opt.hideArrow){offsetTop=offsetTop+target.outerHeight()+1}else{offsetTop=offsetTop+target.outerHeight()+arrow.outerHeight()/2+opt.distanceTop}}if((offsetLeft+popBoxWidth)>$(window).width()){if(offsetLeft+target.outerWidth()>popBoxWidth){offsetLeft=offsetLeft-popBoxWidth+target.outerWidth()}else{offsetLeft=($(window).width()-popBoxWidth)/2}}initPosition();$(document).off("mousedown.popbox").on("mousedown.popbox",".awsui-popbox",function(e){e.stopPropagation()});function innerClose(){if(window.iweboffice){$(iweboffice).css("visibility","")}$(".awsui-popbox").hide();$(".awsui-popbox-arrow").remove();$(".awsui-popbox-arrow-inner").remove();$(document).off("mousedown.popbox_");$(opt.target).data("popbox",null);$(opt.target).find(".awsui-arrow").removeClass("up");if(options.onClose){options.onClose()}return}$(document).off("mousedown.popbox_").on("mousedown.popbox_",function(e){if($(opt.target).is(e.target)||$(opt.target).find(e.target).length>0){$(opt.target).data("popbox",true);return false}if($(e.target).parent().parent().parent().hasClass("confirm-window")){return}if($(e.target).parent().parent().hasClass("confirm-window")){return}if($(e.target).parent().hasClass("confirm-window")){return}if($(e.target).hasClass("confirm-window")){return}if($(e.target).hasClass("window-mask")){return}if($(e.target).attr("id")=="id-awsui-win-frm-2013address_dialog"){return}if($(e.target).parent().attr("id")=="id-awsui-win-frm-2013address_dialog"){return}if($(e.target).parent().parent().attr("id")=="id-awsui-win-frm-2013address_dialog"){return}if($(e.target).parent().parent().parent().attr("id")=="id-awsui-win-frm-2013address_dialog"){return}if($(e.target).hasClass("awsui-dialog")){return}if($(e.target).parent().hasClass("awsui-dialog")){return}if($(e.target).parent().parent().hasClass("awsui-dialog")){return}if($(e.target).parent().parent().parent().hasClass("awsui-dialog")){return}innerClose(obj)});function initPosition(){obj.css({left:offsetLeft,top:offsetTop}).fadeIn("fast",function callb(){if(opt.callBack){opt.callBack()}});if(opt.hideArrow){arrow.css("display","none");arrow_inner.css("display","none")}else{arrow.css({left:target.offset().left+target.outerWidth()/2-opt.distanceLeft,top:arrowTop}).fadeIn("fast");arrow_inner.css({left:target.offset().left+target.outerWidth()/2-opt.distanceLeft,top:arrowInnerToop})}}};var current_extend_menu=null;$.fn.menu=function(options){if(typeof options=="string"&&options=="close"){$(this).trigger("close");$(this).hide();$(this).off("mousedown.menu");$(document).off("mousedown.mousedown");$(document).off("contextmenu")}else{var defaults={target:null,useTargetPosition:true,top:0,left:0};options=$.extend(defaults,options);var temp=$(this);if(options.items!=null){temp.html("");var htmls="";for(var i=0;i<options.items.length;i++){var attrs="";var icon="";var iconFont="";var iconCls="";var items=options.items[i];if(items.icon!=null){icon="<img src='"+items.icon+"'/>"}else{if(items.iconCls!=null){iconCls="<span class='icon "+items.iconCls+"'></span>"}else{if(items.iconFont!=null){iconFont="<span class='awsui-iconfont' style='font-size:"+items.iconFont.fontSize+"; color: "+items.iconFont.color+"; padding-right:6px;'>"+items.iconFont.code+"</span>"}else{if(items.imgs){icon=items.imgs}}}}if(items.noline){attrs=" class='noline' "}var curr_item=$("<li "+attrs+" tit='"+items.tit+"'>"+icon+iconFont+iconCls+items.text+"</li>").appendTo(temp);curr_item.data("awsui-combobox-item",items);if(items.method!=null){curr_item.on("click",items,items.method)}if(items.disabled){curr_item.addClass("awsui-disabled");curr_item.off("click")}}}if(options.target!=null&&options.useTargetPosition){var tar=options.target;var offset=options.target.offset();if($("#simple-right").length>0){offset.top=offset.top-parseInt($("#simple-right").css("top"),10);offset.left=offset.left-parseInt($("#simple-right").css("left"),10)}if(options.position=="center"){options.left=offset.left+tar.outerWidth()/2-temp.outerWidth()/2}else{if(options.position=="right"){options.left=offset.left-(temp.outerWidth()-tar.outerWidth())}else{options.left=offset.left}}options.top=offset.top+tar.outerHeight();if(options.top+temp.outerHeight()-$(document).scrollTop()>$(window).height()){options.top=options.top-temp.outerHeight()-options.target.outerHeight()}}temp.css({left:options.left,top:options.top}).show();temp.children().on("mouseenter",function(){var curr_child=$(this);temp.find(".active").removeClass("active");if(!curr_child.hasClass("disable")){curr_child.addClass("active")}showMenuList(curr_child)});temp.off("mousedown.menu").on("mousedown.menu",function(e){e.stopPropagation();return false});$(document).off("mousedown.mousedown").on("mousedown.mousedown",function(){temp=$(".awsui-menu:visible");temp.menu("close")});function showMenuList(curr_child){if(curr_child.find(".awsui-right-arrow:first").length>0){var curr_second_temp=curr_child.children(".awsui-menu");if(current_extend_menu!=null){current_extend_menu.hide()}current_extend_menu=curr_second_temp;curr_second_temp.menu({left:curr_child.outerWidth()})}else{if(!curr_child.parent().hasClass("extend-menu")){if(current_extend_menu!=null){current_extend_menu.hide();current_extend_menu=null}}}}}};$.fn.numberbox=function(options){var defaults={defaultValue:0,uplength:1,symbol:"",max:100,min:0};var opt=$.extend(defaults,options);var temp=$(this);var position=3;temp.addClass("awsui-numberbox");if(opt.size=="large"){temp.addClass("awsui-numberbox-lg");position=5}else{if(opt.size=="small"){temp.addClass("awsui-numberbox-sm");position=2}}if(opt.disabled){temp.attr("disabled",opt.disabled)}else{temp.removeAttr("disabled")}if(opt.width){temp.css("width",opt.width)}else{temp.data("width","0");temp.css("width",temp.parent().width()-32)}if(temp.next().hasClass("awsui-numberbox-arrow")){return}temp.after("<span class='awsui-numberbox-arrow' style='height:"+temp.height()+"px'><span class='forms-icon up'></span><span class='forms-icon down' style='background-position-y:"+position+"px'></span></span>");temp.next().find(".forms-icon").css({height:parseInt(temp.outerHeight()-2)/2});temp.val(opt.defaultValue+opt.symbol);bindEvent();function bindEvent(){temp.next().find(".forms-icon.up").on("click",function(){if(opt.upClick!=null){opt.upClick()}var value=temp.val();if(opt.symbol!=""){value=value.substring(0,value.length-1)}value=parseFloat(value);if(value>=opt.max){return}value+=opt.uplength;if(isNaN(value)){value=0}temp.val(value+opt.symbol)});temp.next().find(".forms-icon.down").on("click",function(){if(opt.downClick!=null){opt.downClick()}var value=temp.val();if(opt.symbol!=""){value=value.substring(0,value.length-1)}value=parseFloat(value);if(value<=opt.min){return}value-=opt.uplength;if(isNaN(value)){temp.val(0)}temp.val(value+opt.symbol)})}$(window).off("resize.numberbox").on("resize.numberbox",function(){$.each($(".awsui-numberbox"),function(i,el){if($(el).data("width")=="0"){$(el).css("width",$(el).parent().width()-32)}})})};$.fn.buttonedit=function(options){var isMobile=$("#isMobile").length>0?($("#isMobile").val()=="true"):false;var defaults={iconCls:"",symbol:"...",hideSearch:false};var opt=$.extend(defaults,options);var temp=$(this);var parentButtonEdit=$(this).parent();if($(this).parent().hasClass("disable")){opt.isClearData=false}if(isMobile){if(!parentButtonEdit.hasClass("awsui-buttonedit-wrap")){var disable="";if(temp.hasClass("disable")||temp.attr("disabled")){disable=" disable"}var _before;if(typeof opt.onSuperior=="function"){_before=temp.before('<span class="awsui-buttonedit-superior"></span>').prev();temp.css({"padding-left":_before.width()});_before.position({my:"left center",at:"left+1 center",of:wrap})}var wrap=$(this).wrap("<div class='mui-icon-div"+disable+"'></div>").parent();var removeDateBtnCss="";var searchBtn=$("<span class='mui-icon-span'></span>");if(temp.hasClass("disable")||temp.attr("disabled")){searchBtn.css("cursor","default")}var after=temp.after(searchBtn).next();if(opt.validate&&!opt.multiple){temp.attr("onChange","checkDictValidate(this,'"+opt.config+"','"+opt.record+"','"+opt.rowIndx+"','"+opt.boDefName+"')")}if(opt.iconCls!=""&&opt.iconCls=="icon-address"){after.html("<span class='mui-icon mui-icon-person'></span>").next()}else{after.html("<span class='mui-icon mui-icon-search'></span>").next()}}var buttonEdit_timeout;after.css({cursor:"pointer"});if(typeof opt.onClick=="function"){if(temp.prop("readOnly")){temp.off("click.be").on("click.be",function(e){opt.onClick(e)})}if($("#isMobile").val()=="true"){temp.next().off("tap.be").on("tap.be",function(e){opt.onClick(e)})}else{temp.next().off("click.be").on("click.be",function(e){opt.onClick(e)})}}if(typeof opt.onLiveSearch=="function"){temp.off("keyup").on("keyup",function(e){window.clearTimeout(buttonEdit_timeout);buttonEdit_timeout=window.setTimeout(function(){opt.onLiveSearch(e)},500)})}if(typeof opt.onSuperior=="function"&&_before!=null){_before.off("tap.be").on("tap.be",function(e){opt.onSuperior(e);e.stopPropagation()})}}else{var inputParentWidth=null;if(!parentButtonEdit.hasClass("awsui-buttonedit-wrap")){inputParentWidth=temp.parent().outerWidth();var w=temp.outerWidth();var h=temp.outerHeight();var disable="";if(temp.hasClass("disable")||temp.attr("disabled")){disable=" disable"}var wrap=$(this).wrap("<span class='awsui-buttonedit-wrap"+disable+"'></span>").parent();var _before;if(typeof opt.onSuperior=="function"){_before=temp.before('<span class="awsui-buttonedit-superior"></span>').prev();temp.css({"padding-left":_before.width()})}var removeDateBtnCss="";var after;if(opt.iconCls!=""){var searchBtn=$("<span class='awsui-buttonedit-search'></span>");if(navigator.appName=="Microsoft Internet Explorer"&&navigator.appVersion.match(/8./i)=="8."){searchBtn=$("<span class='awsui-buttonedit-search' style='top:0px;right:1px;'></span>")}searchBtn.addClass(opt.iconCls)}else{var searchBtn=$("<span class='awsui-iconfont awsui-iconfont-buttonedit-search'></span>");if(opt.iconFont){searchBtn.append(opt.iconFont)}else{searchBtn.append("&#59113;")}}after=temp.after(searchBtn).next();if(temp.hasClass("disable")||temp.attr("disabled")){after.css("cursor","default")}if(opt.hideSearch){after.css("display","none")}if(opt.isClearData){if(isMobile=="true"||isMobile==true){removeDateBtnCss="margin-top: 3px;padding:3px;"}else{removeDateBtnCss="width:16px;height:16px;background-color:#FFF;"}var removeDate="<span gridRowIndx="+opt.gridRowIndx+" style='"+removeDateBtnCss+"cursor: pointer;display:none;' title='"+清空数据+"' class='removeAll'><img  src='../apps/_bpm.portal/img/cancel.png'  border='0' ></span>";var removeDateBtn=after.after(removeDate).next();var removeBtnRight="30px";if(opt.hideSearch){removeBtnRight="12px"}if(temp.hasClass("aws-grid-editor-default")){removeBtnRight="28px"}removeDateBtn.css({position:"absolute",right:removeBtnRight,top:2});$(removeDateBtn).on("click",function(){$(this).prevAll("input").val("");if(opt.clearField){var clearFieldArr=opt.clearField.split("|");if(opt.record!="undefined"&&opt.record!=undefined){var record=AWSGrid.getGrid(opt.boDefName).awsGrid("getRowData",opt.rowIndx);for(var i=0;i<clearFieldArr.length;i++){var field=clearFieldArr[i].trim();record[field]="";AWSGrid.getGrid(opt.boDefName).awsGrid("setEditData",record);AWSGrid.getGrid(opt.boDefName).awsGrid("refreshCell",{rowIndx:opt.rowIndx,dataIndx:field})}}else{for(var i=0;i<clearFieldArr.length;i++){var id=clearFieldArr[i].trim();var target=$("#"+id);if(target.length==1){target.val("");if(target.hasClass("awsui-select")){target.customSelect("")}else{if(target.hasClass("awsui-combobox")){target.setComboboxVal("")}}if(target.is(":hidden")&&target.parent().find("label")){target.parent().find("label").html("")}}else{var firstDom=$("input[name='"+id+"']:first");if(firstDom.length==0){break}var type=firstDom.attr("type").toLowerCase();switch(type){case"radio":if($("input[name='"+id+"']:first").is(":visible")){$("input[name='"+id+"']").check("option","checked",false)}else{var src=$("input[name='"+id+"']:first").prev().attr("src");var uncheck=src.replace("icheck_radio_check","icheck_radio_uncheck");$("input[name='"+id+"']").prev().attr("src",uncheck);$("input[name='"+id+"']").prop("checked",false)}break;case"checkbox":if($("input[name='"+id+"']:first").is(":visible")){$("input[name='"+id+"']").check("option","checked",false)}else{var src=$("input[name='"+id+"']:first").prev().attr("src");var uncheck=src.replace("icheck_checkbox_check","icheck_checkbox_uncheck");$("input[name='"+id+"']").prev().attr("src",uncheck);$("input[name='"+id+"']").prop("checked",false)}break;default:}}}var gridId=$(this).parents(".aws-grid").attr("id");if(gridId){var indx=parseInt($(this).attr("gridRowIndx"));var $tr=$("#"+gridId).awsGrid("getRowData",indx);for(var i=0;i<clearFieldArr.length;i++){var field=clearFieldArr[i].trim();$tr[field]="";$("#"+gridId).awsGrid("setEditData",$tr)}$("#"+gridId).awsGrid("refresh")}}if(opt.callback!=undefined&&opt.callback!=null){opt.callback()}}});$(this).parent().off("mouseenter").on("mouseenter",function(){if($(this).children("input").val()!=""){$(this).children(".removeAll").show()}}).off("mouseleave").on("mouseleave",function(){$(this).children(".removeAll").hide()})}if(opt.validate&&!opt.multiple){temp.attr("onChange","checkDictValidate(this,'"+opt.config+"','"+opt.record+"','"+opt.rowIndx+"','"+opt.boDefName+"')")}if(isMobile==false){var style=temp.attr("style");var isAutoWidth=style?(style.indexOf("%")>-1&&style.indexOf("100")>-1):false;if(temp.attr("nofit")==="true"){isAutoWidth=false}if(isAutoWidth){if(inputParentWidth==null){}else{temp.css({width:temp.hasClass("awsui-input")?w:(inputParentWidth-4)});wrap.css({width:inputParentWidth})}}else{wrap.css({width:w+after.width()});temp.width(w-(temp.outerWidth()-temp.width()));temp.addClass("awsui-buttonedit");temp.css({"padding-right":after.width()});temp.css({width:temp.width()-22})}}wrap.outerWidth(temp.outerWidth())}var buttonEdit_timeout;if(typeof opt.onClick=="function"){if(temp.prop("readOnly")||temp.prop("disabled")){temp.off("click").on("click",function(e){opt.onClick(e)})}temp.next().off("click").on("click",function(e){opt.onClick(e)});after.addClass("click");temp.css({"padding-right":after.width()})}if(typeof opt.onLiveSearch=="function"){temp.off("keyup").on("keyup",function(e){window.clearTimeout(buttonEdit_timeout);buttonEdit_timeout=window.setTimeout(function(){opt.onLiveSearch(e)},500)})}if(typeof opt.onSuperior=="function"&&_before!=null){_before.off("click").on("click",function(e){opt.onSuperior(e);e.stopPropagation()})}}};$.fn.checkClass=function(options){var ck=function(e){var inputClassName=$(e.target).val();if(inputClassName==""){return false}awsui.ajax.request({url:"./jd",method:"POST",dataType:"json",async:false,data:{cmd:"CONSOLE_COMMON_CLASS_CHECK",sid:options.sid,type:options.type,appId:$.type(options.appId)=="function"?options.appId():options.appId,input:inputClassName}})};if(!$(this).data("checkClass.inst")){$(this).data("checkClass.inst",true);$(this).blur(ck)}};$.fn.superInput=function(options){var defaultArr=new Array();var defaults={maxLength:15,defaultVal:defaultArr};var opt=$.extend(defaults,options);var temp=$(this);var input=temp.find("input[type=text]:first");var content=$("<div></div>").prependTo(temp);var context=[];var defalutArrTemp=opt.defaultVal;for(key in defalutArrTemp){if(defalutArrTemp[key]!=""&&typeof(defalutArrTemp[key])=="string"){var defaulthtml=$("<span class='awsui-supertext-items' id='"+key+"'>"+defalutArrTemp[key]+"<span class='forms-icon down close'></span></span>").appendTo(content);context.push(defalutArrTemp[key]);defaulthtml.find(".close").on("click",function(){$(this).parent().fadeOut(function(){context.splice($.inArray(input.val(),context),1);$(this).remove();if(!opt.onClose||opt.onClose($(this))!==false){return false}})})}}input.on("focus",function(){if(!temp.hasClass("active")){temp.addClass("active")}});input.on("keyup",function(e){if(e.keyCode==13&&input.val()!=""){if($(".awsui-supertext-items").length>=opt.maxLength){input.val("");$.simpleAlert("标签超过最大个数限制:"+opt.maxLength);return}if($.inArray(input.val(),context)>=0){input.val("");return}context.push(input.val());var html=$("<span class='awsui-supertext-items'>"+input.val()+"<span class='forms-icon down close'></span></span>").appendTo(content);html.hide();html.fadeIn();if(!opt.onAdd||opt.onAdd()!==false){}input.val("");html.find(".close").on("click",function(){$(this).parent().fadeOut(function(){context.splice($.inArray(input.val(),context),1);$(this).remove();if(!opt.onClose||opt.onClose($(this))!==false){return false}})})}else{if(e.keyCode==8&&input.val()==""){content.find(".awsui-supertext-items:last").fadeOut(function(){context.splice($.inArray(input.val(),context),1);$(this).remove();if(!opt.onClose||opt.onClose(content.find(".awsui-supertext-items:last"))!==false){return false}})}}});var fun={getData:function(){return context}};return fun};$.fn.switchButton=function(options){var defaults={showtextflag:true,color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#ffffff",onColor:"#ffffff",offColor:"#000000",className:"switchery",disabled:false,disabledOpacity:0.5,speed:"0.1s",size:"default",ontext:"开",offtext:"关",swwidth:80,swheight:28,fontSize:13};var opt=$.extend(defaults,options);if(this.attr("data-switchery")=="true"){return}var swtchButton;if($(this).length>0){if(opt.change){$(this).get(0).onchange=opt.change}swtchButton=new Switchery($(this).get(0),opt)}return swtchButton};$.fn.customSelect=function(value){if($(this).hasClass("select2-hidden-accessible")){$(this).val(value).change();return}var cf=function(select){if(typeof value=="string"){select.val(value);setValue();return}if(select.data("awsui.customSelect")){return}else{select.data("awsui.customSelect",true)}var selectWidth=select.css("width");var selectHeight=select.css("height");var style="";if(select.hasClass("awsui-select-nofit")||select.attr("nofit")=="true"){style=select.attr("style")?select.attr("style"):""}else{if(selectWidth=="0px"||selectWidth=="100px"||selectWidth=="120px"||selectWidth=="100%"||select.hasClass("txt")){if(select.parent().is("span")){if(select.parent().parent().hasClass("awsui-ux-content")||select.parent().hasClass("aws-form-ux-content")){select.width(select.parent().parent().width()-5)}else{var tempWidth=selectWidth;select.width(select.parent().parent().width()+8)}}else{if(select.parent().hasClass("awsui-ux-content")||select.parent().hasClass("aws-form-ux-content")){select.width(select.parent().width()-5)}else{if(select.parent().is("div")){}else{select.css("width",select.parent().actual("width")+8)}}}}else{if(select.is(":hidden")){select.css("width",select.actual("width"))}else{select.css("width",(parseFloat(selectWidth))+"px")}}}select.css({position:"absolute",top:0,left:0});var disable=select.prop("disabled");var display=select.css("display");var span=$("<span class='awsui-select-span' style='"+style+"'><span class='awsui-select-text'></span></span>");if(disable){span.addClass("disable");span.css("opacity","0.5")}if(display=="none"){span.css("display","none")}select.after(span);span.append(select);var fixWidth=0;if(window.event==null||!!window.ActiveXObject||"ActiveXObject" in window){fixWidth=4}span.outerWidth(select.actual("outerWidth"));span.find("span[class='awsui-select-text']").css({width:select.actual("width")-18+fixWidth,height:"19px",lineHeight:"19px","vertical-align":"-3px"});setValue();select.css({height:span.actual("outerHeight")});select.on("change",function(){setValue()});function setValue(){var text=select.find(":selected").text();var placeholder=select.attr("placeholder");if($(select).val()==""){select.parent().find("span[class='awsui-select-text']").css("color","#999").text(placeholder==null||placeholder==""?text:placeholder)}else{select.parent().find("span[class='awsui-select-text']").css("color","#000").text(text)}}};$(this).each(function(i){cf($(this))})};$.fn.milestone=function(opt){var inp=$(this);var initMilestone=function(){var readonly=opt.readonly==true;var isIE8=$.browser.isIE8;var id=inp.attr("id");inp.hide();var isMobile=$("#isMobile").val()=="true";var arrow=false;var arrowWidth=0;if(opt.showMaxNum<opt.data.length&&!isMobile){arrow=true;arrowWidth=32}else{if(opt.showMaxNum>opt.data.length){opt.showMaxNum=opt.data.length}}if(isMobile&&opt.showMaxNum>3){opt.showMaxNum=3}inp.data("opt",opt);var cs=isMobile?"overflow-y:hidden;":"overflow:hidden;";var obj=$("<div id='milestone"+id+"' class='milestoneDiv' showMaxNum="+opt.showMaxNum+" style='float: left;width:"+(opt.width-arrowWidth)+"px; height: "+opt.height+"px;"+cs+"'></div>");inp.after(obj);obj.append(inp);if(obj.parent().hasClass("required")){obj.parent().css("display","flex")}var h=opt.height||25;var leftBtn;var rightBtn;var items="";var itemWidth=(opt.width-arrowWidth)/opt.showMaxNum;var totalWidth=opt.data.length*itemWidth;if(arrow){var btnStyle="float:left;width:auto;height:"+h+"px;line-height:"+h+"px;text-align:center;cursor:pointer;";leftBtn=$("<div class='awsui-iconfont milestoneLeftBtn disable' style="+btnStyle+">&#xe715;</div>");rightBtn=$("<div class='awsui-iconfont milestoneRightBtn' style="+btnStyle+">&#xe717;</div>");obj.before(leftBtn).after(rightBtn)}var mileDiv=$("<div class='mile-scroll' style='position:relative;width:"+totalWidth+"px;height:"+h+"px;'></div>");obj.append(mileDiv);var mt=isIE8?"":h/15;var r=isIE8?h/2.5:h/2;var arrowH=isMobile?h/1.2:h/1.3;var overIcon="<span class='awsui-iconfont over'>&#xe639;</span>";for(var i=0;i<opt.data.length;i++){var index=opt.data[i].status;var bgColor=opt.defaultColor[index];var fontColor=opt.defaultColor[index+3];var status=opt.data[i].status;items+="<div class='mile-item' value='"+opt.data[i].id+"' status="+status+" style='background:"+bgColor+";color:"+fontColor+";"+(readonly?"":"cursor:pointer;")+"width:"+itemWidth+"px;height:"+h+"px;line-height:"+h+"px;'>";items+="<span class='mile-text' style='margin-left:"+5+"px;'>";if(status==1){items+=overIcon}items+=opt.data[i].name+"</span>";if(i!=opt.data.length-1){items+="<span class='point' style='background:"+bgColor+";margin-top:"+mt+"px;right:-"+r+"px;width:"+arrowH+"px;height:"+arrowH+"px;'></span>"}items+="</div>"}mileDiv.append($(items));if(arrow){var step=0;leftBtn.click(function(){step--;if(step<0){step=0;return}else{var width=obj.find(".mile-item").width();obj.children().animate({left:(-step*width+"px")},100);rightBtn.hasClass("disable")&&rightBtn.removeClass("disable");(step==0)&&leftBtn.addClass("disable");obj.find(".point").eq(step).css("display","inline-block")}});rightBtn.click(function(){step++;if(step>(opt.data.length-opt.showMaxNum)){step=opt.data.length-opt.showMaxNum;return}else{var width=obj.find(".mile-item").width();obj.children().animate({left:(-step*width+"px")},100);leftBtn.hasClass("disable")&&leftBtn.removeClass("disable");(step==opt.data.length-opt.showMaxNum)&&rightBtn.addClass("disable");obj.find(".point").eq(step-1).css("display","none")}})}if(!readonly){bindEvent()}};var bindEvent=function(){var div=inp.parent();var opt=inp.data("opt");div.find(".mile-item").off("click.base").on("click.base",function(e,onlyClick){var overCol=opt.defaultColor["1"];var curCol=opt.defaultColor["2"];var notStartCol=opt.defaultColor["3"];var overFontCol=opt.defaultColor["4"];var curFontCol=opt.defaultColor["5"];var notStartFontCol=opt.defaultColor["6"];if(inp.val()!=$(this).attr("value")||onlyClick){$(this).parent().find(".over").remove();$(this).css("background",curCol).css("color",curFontCol);$(this).find(".point").css("background",curCol);$(this).prevAll().css("background",overCol).css("color",overFontCol);$(this).prevAll().find(".point").css("background",overCol);$(this).prevAll().find(".mile-text").prepend($("<span class='awsui-iconfont over'>&#xe639;</span>"));$(this).nextAll().css("background",notStartCol).css("color",notStartFontCol);$(this).nextAll().find(".point").css("background",notStartCol);if(!onlyClick){$(this).parent().parent().find("input").val($(this).attr("value")).trigger("change")}}else{if(opt.allowClear){$(this).parent().find(".over").remove();$(this).parent().find(".mile-item").css("background",notStartCol).css("color",notStartFontCol);$(this).parent().find(".point").css("background",notStartCol);$(this).parent().parent().find("input").val("").trigger("change")}}})};if(typeof arguments[0]=="object"){initMilestone()}else{if(arguments.length==2){if(arguments[0]=="readonly"){var div=inp.parent();if(arguments[1]==true){div.find(".mile-item").css("cursor","not-allowed").off("click.base")}else{if(arguments[1]==false){div.find(".mile-item").css("cursor","pointer");bindEvent()}}}else{if(arguments[0]=="setWidth"){var div=inp.parent();var width=arguments[1];if(div.prev().hasClass("milestoneLeftBtn")){width-=32}var itemWidth=width/div.attr("showMaxNum");div.width(width);div.find(".mile-item").width(itemWidth);var totalWidth=width*(div.find(".mile-item").length);div.find(".mile-scroll").width(totalWidth)}}}}};$.cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||value===null||value===undefined)){options=$.extend({},options);if(value===null||value===undefined){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)}value=String(value);return(document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""))}options=value||{};var decode=options.raw?function(s){return s}:decodeURIComponent;var pairs=document.cookie.split("; ");for(var i=0,pair;pair=pairs[i]&&pairs[i].split("=");i++){if(decode(pair[0])===key){return decode(pair[1]||"")}}return null};function setDisabled(target,disabled){var state=$.data(target,"awsui")||{};var opts=state.options||{};$(target)[disabled?"addClass":"removeClass"]("disable");var tmp=$(target);if(disabled){opts.disabled=true;var href=tmp.attr("href");if(href){state.href=href;tmp.attr("href","javascript:void(0)")}if(target.onclick){state.onclick=target.onclick;target.onclick=null}}else{opts.disabled=false;if(state.href){tmp.attr("href",state.href)}if(state.onclick){target.onclick=state.onclick}}$.data(target,"awsui",state)}var methods={enable:function(jq){return jq.each(function(){setDisabled(this,false)})},disable:function(jq){return jq.each(function(){setDisabled(this,true)})}};$.fn.awsui=function(options,param){if(typeof options=="string"){return methods[options](this,param)}};$.fn.check=function(){if(arguments!=null&&typeof arguments[0]=="string"){if(arguments.length==1){if(arguments[0]=="disabled"){$(this).prop(arguments[0],true)}return $(this).iCheck(arguments[0])}else{if(arguments.length==2){return $(this).prop(arguments[1])}else{if(arguments.length==3){return $(this).iCheck(arguments[2]?"check":"uncheck")}}}}var options={checkboxClass:"icheckbox_minimal-grey",radioClass:"iradio_minimal-grey",increaseArea:"20%"};$.extend(options,arguments[0]||{});return $(this).each(function(){$(this).iCheck(options);var chk=$(this);if(chk.attr("title")!=null){var t=chk.attr("title");chk.removeAttr("title");chk.parent().attr("title",t)}var checkAllGroup=chk.attr("group");if(chk.hasClass("check-all")&&chk.attr("type")=="checkbox"){var checkAll=function(){if($("input[group='"+checkAllGroup+"'][class*=check-all]").prop("checked")){$("input[group='"+checkAllGroup+"'][class=awsui-checkbox]").each(function(){if(typeof($(this).attr("disabled"))=="undefined"){$(this).check("option","checked",false)}})}else{$("input[group='"+checkAllGroup+"'][class=awsui-checkbox]").each(function(){if(typeof($(this).attr("disabled"))=="undefined"){$(this).check("option","checked",true)}})}try{var callback=$("input[group='"+checkAllGroup+"'][class*=check-all]").attr("callback");eval(callback)}catch(e){}};chk.on("ifClicked",checkAll)}if(checkAllGroup&&chk.hasClass("check-all")==false){var eachCheckClick=function(){$("input[class*=check-all][group='"+checkAllGroup+"']").check("option","checked",true);$("input[class=awsui-checkbox][group='"+checkAllGroup+"']").each(function(i,v){if(!$(v).prop("checked")){$("input[class*=check-all][group='"+checkAllGroup+"']").check("option","checked",false)}});try{var callback=chk.attr("callback");eval(callback)}catch(e){}};chk.on("ifChecked",eachCheckClick);chk.on("ifUnchecked",function(){$("input[class*=check-all][group='"+checkAllGroup+"']").check("option","checked",false);try{var callback=chk.attr("callback");eval(callback)}catch(e){}})}})};$.notification=function(options){var defaultOptions={color:"green",icon:"",title:"",description:"",btn:"",delay:3000,width:400,position:"topRight",fontSize:30};options=$.extend({},defaultOptions,options);var isShowIcon=false;var positionObj={};var notify=$('<div class="awsui-notification"></div>').addClass(options.position).appendTo("body");var notifyContent=$('<div class="awsui-notification-content awsui-public-box"></div>').appendTo(notify);var iconWrapper=null;if(options.icon!=""&&options.color!=""){isShowIcon=true;iconWrapper=$('<div class="awsui-public-box-icon" style="width:'+options.fontSize+'px;"></div>').appendTo(notifyContent);var icon=iconWrapper.append('<div class="awsui-iconfont awsui-icon-'+options.color+'" style="font-size:'+options.fontSize+'px;">'+options.icon+"</div>");iconWrapper.append(icon)}if(options.img){isShowIcon=true;iconWrapper=$('<div class="awsui-public-box-icon" style="width:'+options.fontSize+'px;"></div>').appendTo(notifyContent);var img=iconWrapper.append('<img src="'+options.img+'"/>');iconWrapper.append(img)}var $body=$("<div></div>").addClass("awsui-public-box-main").append('<div class="awsui-public-box-title">'+options.title+"</div>").appendTo(notifyContent);if(options.description!=""){var description=$('<div class="awsui-public-box-content">'+options.description+"</div>").appendTo($body)}else{$body.find(".awsui-public-box-title").css({"line-height":(options.fontSize-2)+"px"});if($body.find(".awsui-public-box-title").height()>options.fontSize){$body.find(".awsui-public-box-title").css({"line-height":options.fontSize/2+"px"})}}if(options.btn!=""){var btnWrapper=$('<div class="awsui-notification-btn"></div>').appendTo(notifyContent);var btn=btnWrapper.append('<button type="button" class="awsui-btn awsui-notification-btn-primary"><span>'+options.btn+"</span></button>");btnWrapper.append(btn);btn.on("click",function(ev){notify.remove();refreshPosition()})}var closeBtn=$('<span class="awsui-iconfont awsui-public-box-close">&#58931;</span>').appendTo(notifyContent);$body.css({width:notifyContent.width()-10+"px","padding-right":10});closeBtn.on("mousedown",function(e){e.stopPropagation()});closeBtn.on("click",function(){if(options.onClose){options.onClose()}notify.remove();refreshPosition()});if(isShowIcon){var width=notifyContent.width()-notify.find(".awsui-public-box-icon").outerWidth(true);$body.css({width:width-10+"px","padding-right":10})}switch(options.position){case"topLeft":setPosition("left","top");break;case"topRight":setPosition("right","top");break;case"bottomLeft":setPosition("left","bottom");break;case"bottomRight":setPosition("right","bottom");break}function setPosition(posX,posY){var cssObj={};cssObj[posX]=-$(notifyContent).outerWidth()-30;var list=$("."+options.position);$.each(list,function(index,el){if(index==0){cssObj[posY]=20}else{cssObj[posY]=parseInt($(list[index-1]).outerHeight())+parseInt($(list[index-1]).css(posY))}});$(notify).css(cssObj);positionObj[posX]=$(notify).outerWidth()+60;$(notifyContent).animate(positionObj,500)}addDelay(notifyContent);function addDelay($el){if(options.delay>0){setTimeout(function(){notify.remove();refreshPosition()},options.delay)}}function refreshPosition(){var list=$("."+options.position);$.each(list,function(index,el){if(options.position=="bottomLeft"||options.position=="bottomRight"){if(index==0){$(el).css("bottom",20)}else{$(el).css("bottom",parseInt($(list[index-1]).outerHeight())+parseInt($(list[index-1]).css("bottom")))}}else{if(index==0){$(el).css("top",20)}else{$(el).css("top",parseInt($(list[index-1]).outerHeight())+parseInt($(list[index-1]).css("top")))}}})}};$.fn.loading=function(options){var element=$(this);var defaultOptions={size:"default",description:"",color:"",delay:0,hidden:false};options=$.extend({},defaultOptions,options);var imgRootPath=(window.getRootPath?window.getRootPath():"..")+"/commons/img/";var htmlDom=$('<div class="awsui-loading"></div>');var imgDom=$('<div class="'+options.size+'"><img src="'+imgRootPath+'waiting.gif" alt=""/></div>').appendTo(htmlDom);if(options.description!=""){var desDom=$('<div class="description" style="color:'+options.color+'">'+options.description+"</div>").appendTo(htmlDom)}addDelay(options);function addDelay(options){if(options.delay){setTimeout(function(){element.append(htmlDom);if(options.hidden){setTimeout(function(){element.remove()},options.delay)}},options.delay)}else{element.append(htmlDom);if(options.hidden){setTimeout(function(){element.remove()},1000)}}}};$.progress=function(options){var imgRootPath=(window.getRootPath?window.getRootPath():"..")+"/commons/img/";var settings={type:"line",percent:"",strokeWidth:8,color:"",icon:"",isShowInfo:true};settings=$.extend(true,settings,options);initProgress();function initProgress(){if(settings.elementId){$("#"+settings.elementId).empty();if(settings.type=="line"){var htmlDom=$('<div class="awsui-progress" ></div>');var infoHtml=$('<div class="awsui-progress-show-info"></div>').appendTo(htmlDom);var typeHtml=$('<div class="awsui-progress-'+settings.type+'"></div>').appendTo(infoHtml);var bgHtml=$('<div class="awsui-progress-bg" style="width:'+settings.percent+"%;height:"+settings.strokeWidth+'px;"></div>').appendTo(typeHtml);var textHtml=null;if(settings.icon!=""){textHtml=$('<div class="awsui-progress-text awsui-iconfont"  style="color:'+options.color+'">'+options.icon+"</div>").appendTo(htmlDom)}else{if(settings.percent!=""&&settings.isShowInfo){textHtml=$('<div class="awsui-progress-text">'+settings.percent+"%</div>").appendTo(htmlDom)}}if(settings.width){htmlDom.css("width",settings.width)}if(settings.color!=""){bgHtml.css("background",settings.color)}$("#"+settings.elementId).append(htmlDom);infoHtml.css("width",htmlDom.outerWidth()-46+"px")}else{if(settings.type=="circle"){loopFun(settings.elementId,settings.width,settings.percent,settings.color)}}}}function loopFun(b,w,n,c){this.paper=Raphael(b,w,w);this.paper.image(imgRootPath+"progressBg.png",0,0,w,w);var percent=n,drawPercent=(percent>=100?99.99:percent)/100;var r1=w/2-w/26,r2=w/2,PI=Math.PI,p1={x:w/2,y:w},p4={x:p1.x,y:p1.y-r2+r1},p2={x:p1.x+r2*Math.sin(2*PI*(1-drawPercent)),y:p1.y-r2+r2*Math.cos(2*PI*(1-drawPercent))},p3={x:p4.x+r1*Math.sin(2*PI*(1-drawPercent)),y:p4.y-r1+r1*Math.cos(2*PI*(1-drawPercent))},path=["M",p1.x," ",p1.y,"A",r2," ",r2," 0 ",percent>drawPercent?1:0," 1 ",p2.x," ",p2.y,"L",p3.x," ",p3.y,"A",r1," ",r1," 0 ",percent>drawPercent?1:0," 0 ",p4.x," ",p4.y,"Z"].join("");this.paper.path(path).attr({"stroke-width":0,stroke:c,fill:"90-"+c});$("#"+b).after('<div class="pertxt" style="width:'+w+"px;height:"+w+"px;line-height:"+w+"px;position:absolute;margin-top:-"+w+"px;color:"+c+';text-align:center;font-size:14px;">'+percent+"%</div>");$("#"+b).css("height",w+"px")}};$.fn.scopedNotifications=function(options){var _this=$(this);var defaultOptions={type:"info",content:"",description:"",fontSize:30,isShowClose:false,isShowTop:false,isShowIcon:false};options=$.extend({},defaultOptions,options);var notify=null;if(options.isShowTop){notify=$('<div class="awsui-scoped-notifications awsui-scoped-notifications-'+options.type+'" style="margin:0 10px 10px;"></div>').prependTo("body")}else{notify=$('<div class="awsui-scoped-notifications awsui-scoped-notifications-'+options.type+'"></div>').appendTo(_this)}var notifyMain=$("<div></div>").addClass("main").append('<span class="content">'+options.content+"</span>").appendTo(notify);if(options.isShowIcon){var fontIconObj={};if(options.type=="ok"){fontIconObj[options.type]={icon:"&#60017;",color:"green"}}else{if(options.type=="info"){fontIconObj[options.type]={icon:"&#58933;",color:"blue"}}else{if(options.type=="warning"){fontIconObj[options.type]={icon:"&#58941;",color:"orange"}}else{if(options.type=="error"){fontIconObj[options.type]={icon:"&#58927;",color:"red"}}}}}var iconWrapper=$('<div class="icon" style="width:'+options.fontSize+'px;"></div>').prependTo(notify);var icon=iconWrapper.append('<div class="awsui-iconfont awsui-icon-'+fontIconObj[options.type].color+'" style="font-size:'+options.fontSize+"px; line-height:"+options.fontSize+'px;">'+fontIconObj[options.type].icon+"</div>");iconWrapper.append(icon);notifyMain.css("width",Math.floor(notify.width())-options.fontSize-12+"px");if(options.isShowClose){var closeBtn=$('<span class="awsui-iconfont awsui-public-box-close">&#58931;</span>').appendTo(notify);closeBtn.on("click",function(){if(options.onClose){options.onClose()}notify.fadeOut(2000)});notifyMain.css("width",Math.floor(notify.width())-options.fontSize-22+"px")}}else{if(options.isShowClose){var closeBtn=$('<span class="awsui-iconfont awsui-public-box-close">&#58931;</span>').appendTo(notify);closeBtn.on("click",function(){if(options.onClose){options.onClose()}notify.fadeOut(2000)});notifyMain.css("width",notify.width()-12+"px")}}if(options.description!=""){var description=$('<span class="description">'+options.description+"</span>").appendTo(notifyMain);notifyMain.find(".content").css({"line-height":options.fontSize/2+"px"})}else{notifyMain.find(".content").css({"line-height":(options.fontSize-2)+"px"});if(notifyMain.find(".content").height()>options.fontSize){notifyMain.find(".content").css({"line-height":options.fontSize/2+"px"})}}};$.fn.popBox=function(options){$(this).awsuiPopBox(options)};$.fn.popConfirm=function(options){$(this).awsuiPopBox(options)};$.fn.box=function(options,value){var that=$(this);var defaultOptions={id:that.attr("id"),background:"#f9f9f9",color:"#0ca72d",isShowIcon:false,disabled:false,fontSize:20};var icon="&#60017;";if(typeof options=="string"){if(options=="disabled"||options=="readonly"){options={};options.disabled=value;options=$.extend({},defaultOptions,options)}else{that.attr(options,value)}}else{options=$.extend({},defaultOptions,options)}that.css({width:options.width,cursor:"pointer","box-shadow":"none"});if(options.isSelected){options.icon=icon;that.css({background:options.background});that.data("selected",true)}if(options.multipleSelected){that.data("multipleSelected",true)}if(options.icon){var iconWrapper=$('<div class="awsui-public-box-icon icon-position"></div>').appendTo($(this));var iconDom=iconWrapper.append('<div class="awsui-iconfont" style="font-size:'+options.fontSize+"px; color:"+options.color+'">'+options.icon+"</div>");iconWrapper.append(iconDom);if(options.width){that.find(".awsui-public-box-title").css("width",options.width-options.fontSize)}else{var width=that.attr("style").indexOf("width");if(width==-1){that.data("width","0");that.css("width",$(this).find(".awsui-public-box-title").width()+options.fontSize+42)}}}if(options.noBorder){that.addClass("awsui-noBorder")}if(options.disabled){that.data("disabled",true);that.addClass("awsui-disabled");that.find(".awsui-public-box-icon").remove();that.css("background","#f5f5f5")}else{that.off("click").on("click",function(){if(that.data("disabled")){return}if($(this).data("selected")){if(options.isClickSelected){$(this).find(".awsui-public-box-icon").remove()}$(this).data("selected",false);if($(this).data("width")){$(this).css(width,"")}$(this).css("background","")}else{var boxArr=$(".awsui-layout-box");$.each(boxArr,function(i,el){if($(el).data("multipleSelected")){return}if($(el).data("width")){$(el).css("width","")}if($(el).data("disabled")){$(el).addClass("awsui-disabled")}else{if($(el).data("selected")){if(options.isClickSelected){$(el).find(".awsui-public-box-icon").remove()}$(el).data("selected",false);$(el).css({background:""})}}});$(this).data("selected",true);$(this).css({background:options.background,"box-shadow":"none"});if(options.isClickSelected){$(this).find(".awsui-public-box-icon").remove();var iconWrapper=$('<div class="awsui-public-box-icon icon-position"></div>').appendTo($(this));var iconDom=iconWrapper.append('<div class="awsui-iconfont" style="font-size:'+options.fontSize+"px; color:"+options.color+'">'+icon+"</div>");iconWrapper.append(iconDom);if(options.width){$(this).find(".awsui-public-box-title").css("width",options.width-options.fontSize)}else{var width=$(this).attr("style").indexOf("width");if(width==-1){$(this).data("width","0");$(this).css("width",$(this).find(".awsui-public-box-title").width()+options.fontSize+42)}}}}if(options.onClick){options.onClick()}});that.hover(function(){if(that.data("disabled")){return}$(this).css("box-shadow","0px 0px 30px rgba(31, 31, 31, 0.2)");if($(this).data("selected")){$(this).css({background:options.background})}else{if(that.hasClass("awsui-noBorder")){$(this).css({background:"#fff",border:"1px solid #e9e9e9","box-shadow":"none"})}else{$(this).css("background","#f9f9f9")}}},function(){$(this).css({"box-shadow":"none",border:""});if($(this).data("selected")){$(this).css("background",options.background)}else{$(this).css("background","")}})}};$.fn.accordions=function(options){var that=$(this);var defaultOptions={background:"#f8f8f8",color:"#666",fontSize:16,icon:"&#xe717;",currentIcon:"&#xe716;",speed:0,expand:"collapse",list:[]};options=$.extend({},defaultOptions,options);var accordions={init:function(){var temp=this;if(options.list.length>0){for(var i=0;i<options.list.length;i++){var item=options.list[i];var liDom=$('<li><div class="awsui-collapse-item awsui-collapse-show" style="color:'+options.color+"; background:"+options.background+'"><div class="awsui-collapse-icon awsui-iconfont" style="font-size:'+options.fontSize+'px;">'+options.icon+'</div><span class="awsui-collapse-text">'+item.title+'</span></div><div class="awsui-collapse-menuList"><div class="awsui-collapse-box">'+item.content+"</div></div></li>");liDom.appendTo(that);var totate=false;liDom.find(".awsui-collapse-item").off();liDom.find(".awsui-collapse-item").on("click",function(){if($(this).hasClass("awsui-collapse-show")){totate=true}else{totate=false}$(this).children(".awsui-iconfont").empty();$(this).children(".awsui-iconfont").addClass("awsui-transition");if(totate){temp.handleExpandStatus(this,options.speed,totate)}else{temp.handleExpandStatus(this,options.speed,totate)}})}if(options.expand=="all"){var item=that.find(".awsui-collapse-item");$.each(item,function(i,el){temp.expandAll()})}else{if(options.expand=="first"){var item=that.find(".awsui-collapse-item").eq(0);temp.handleExpandStatus(item,0,true)}else{temp.collapseAll()}}}},handleExpandStatus:function(el,speed,isExpand){if(isExpand){$(el).removeClass("awsui-collapse-show");$(el).next(".awsui-collapse-menuList").css("border-bottom","1px solid #e9e9e9");$(el).children(".awsui-iconfont").html(options.currentIcon);$(el).next().show(speed)}else{$(el).addClass("awsui-collapse-show");$(el).children(".awsui-iconfont").html(options.icon);$(el).next().hide(speed)}},expandAll:function(){var item=that.find(".awsui-collapse-item");$.each(item,function(i,el){accordions.handleExpandStatus(el,options.speed,true)})},collapseAll:function(){var item=that.find(".awsui-collapse-item");$.each(item,function(i,el){accordions.handleExpandStatus(el,options.speed,false)})},expand:function(index){var item=that.find(".awsui-collapse-item").eq(index);accordions.handleExpandStatus(item,options.speed,true)},collapse:function(index){var item=that.find(".awsui-collapse-item").eq(index);accordions.handleExpandStatus(item,options.speed,false)}};accordions.init();return accordions}})(jQuery);(function(){$("input[type='text']").each(function(){if($(this).next().hasClass("awsui-removeIcon")){$(this).on("keyup",function(){var a=$(this).val();if(a!=""){$(this).next().css("visibility","inherit")}else{$(this).next().css("visibility","hidden")}$(this).next().on("click",function(){$(this).prev().val("");$(this).css("visibility","hidden")})})}})})(jQuery);String.prototype.format=function(c){var a=this;if(arguments.length>0){if(arguments.length==1&&typeof(c)=="object"){for(var e in c){if(c[e]!=undefined){var f=new RegExp("({"+e+"})","g");a=a.replace(f,c[e])}}}else{for(var d=0;d<arguments.length;d++){if(arguments[d]!=undefined){var f=new RegExp("({)"+d+"(})","g");a=a.replace(f,arguments[d])}}}}return a};function stopPropagation(a){a=window.event||a;if(document.all){a.cancelBubble=true}else{a.stopPaopagation()}}function isTelphone(a){var c="((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)";if(a.test(c)){return true}return false}(function(a){a.fn.addBack=a.fn.addBack||a.fn.andSelf;a.fn.extend({actual:function(c,m){if(!this[c]){throw'$.actual => The jQuery method "'+c+'" you called does not exist'}var g={absolute:false,clone:false,includeMargin:false};var j=a.extend(g,m);var f=this.eq(0);var i,k;if(j.clone===true){i=function(){var n="position: absolute !important; top: -1000 !important; ";f=f.clone().attr("style",n).appendTo("body")};k=function(){f.remove()}}else{var h=[];var e="";var d;i=function(){d=f.parents().addBack().filter(":hidden");e+="visibility: hidden !important; display: block !important; ";if(j.absolute===true){e+="position: absolute !important; "}d.each(function(){var n=a(this);var o=n.attr("style");h.push(o);n.attr("style",o?o+";"+e:e)})};k=function(){d.each(function(n){var p=a(this);var o=h[n];if(o===undefined){p.removeAttr("style")}else{p.attr("style",o)}})}}i();var l=/(outer)/.test(c)?f[c](j.includeMargin):f[c]();k();return l}})})(jQuery);function mobileCachetDialog(g,e,f,c,a){var d="<header id='mobile-header' class='mui-bar mui-bar-nav'><a class='mui-icon mui-icon-left-nav mui-pull-left' id='cachetCancelBtn'><font size='4'>"+返回+"</font></a><a class='mui-icon mui-pull-right' id='cachetOkBtn'><font size='4'>"+确定+"</font></a></header><div class='mui-content' style='padding:54px 10px 10px 10px'><div class='mui-input-row'><label>"+印章密码+"</label><span class='required'><input type='password' name='confirmPwd' id='confirmPwd' class='mui-input-clear' value='' style='border: 1px solid rgba(0,0,0,.2);width:65%;'/></span></div></div>";$("#aws-form-container").hide();$("#boItemNameSearch_div").append(d);$("#boItemNameSearch_div").show();$("#cachetCancelBtn").off("click").on("click",function(h){if(c){c()}return false});$("#cachetOkBtn").off("click").on("click",function(h){if(f){f()}return false})}function mobileConfirmDialog(g,d,f,c,a){$("#aws-form-container").hide();var e=$("#frmMain");$("<div id='popup_cachet' class='mui-cachet-div'><header class='mui-bar mui-bar-nav'><a class='mui-icon mui-icon-left-nav mui-pull-left' id='cachetCancelBtn'>"+返回+"</a><a class='mui-icon' style='float:right;' id='cachetOkBtn'>"+保存+"</a></header><div class='mui-content'><div class='mui-input-row'><label>"+印章密码+"</label><span class='required'><input type='password' name='confirmPwd' id='confirmPwd' class='mui-input-clear' value='' style='border: 1px solid rgba(0,0,0,.2);width:65%;'/></span></div></div></div>").appendTo(e);$("#cachetCancelBtn").off("click").on("click",function(h){if(c){c()}$("#popup_cachet").remove();$("#aws-form-container").show()});$("#cachetOkBtn").off("click").on("click",function(h){if(f){f()}})}$.fn.extend({preventScroll:function(a){if(typeof a=="string"){a=$(a)}$(this).each(function(){var c=this;if(navigator.userAgent.indexOf("Firefox")>=0){c.addEventListener("DOMMouseScroll",function(d){if($(c).children().eq(0).is("iframe")){d.preventDefault()}if(a){a.scrollTop(a.scrollTop()+(d.detail>0?60:-60));d.preventDefault()}},false)}else{c.onmousewheel=function(d){d=d||window.event;if($(c).children().eq(0).is("iframe")){return false}if(a){a.scrollTop(a.scrollTop()+(d.wheelDelta>0?-60:60));return false}}}})}});
/*!
 * jQuery verson 1.10.2
 * AWS combobox 插件
 * author zhangy
 * 2014年9月
 */
(function(a){a.fn.extend({getSelectionStart:function(){if(this.lengh==0){return -1}input=this[0];var d=input.value.length;if(typeof(input.selectionStart)!="undefined"){d=input.selectionStart}else{if(input.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",input.value.length);if(c.text==""){d=input.value.length}d=input.value.lastIndexOf(c.text)}}return d}})})(jQuery);(function(c){var a=function(d,e){this.opt=d;this.obj=e};a.prototype={selectVal:[],dataSource:{},init:function(){this.selectVal=[];this.dataSource={};if(this.opt&&this.opt.async&&this.opt.async.url&&this.opt.async.url.indexOf("%24")>0){this.getData()}else{this.dataToDataSource()}this.create();if(this.opt.selectVal!=""){this.selectVal=[];if(this.opt.multiple&&this.opt.selectVal.indexOf(this.opt.seperator)>0){var e=this.opt.selectVal.split(this.opt.seperator);for(var d=0;d<e.length;d++){this.selectVal.push(e[d])}this.setValue(false,true)}else{this.selectVal=[];this.selectVal.push(this.opt.selectVal);this.setValue(false,true)}}},getData:function(){var d=this;var g=c.extend({url:"",params:{}},d.opt.async||{});if(this.opt.search){this.opt.search(null,g.params)}try{if(g.params&&g.params.bindValue){g.params.bindValue=awsui.encode(AWSForm.getFormData(c("#frmMain"),c("#boItemList").val()))}}catch(f){}awsui.ajax.request({url:g.url,data:g.params,dataType:"json",type:"POST",async:false,success:function(e){d.opt.data=e;d.dataToDataSource()}});if(d.opt.data==null){d.opt.data=[]}},create:function(){if(c(this.obj).parent().hasClass("awsui-combobox")){c(this.obj).val(this.opt.selectVal);c(this.obj).prev().val(this.opt.selectVal);this.obj=c(this.obj).parent();c(this.obj).data("dataSource",this.dataSource);c(this.obj).data("dataSourceX",this.dataSourceX);if(this.dataSource){c(this.obj.children().eq(0)).attr("placeholder",请选择)}else{c(this.obj.children().eq(0)).attr("placeholder",无数据)}this.removeMenu();return}var e=this.obj.attr("event")?this.obj.attr("event"):"";var f=this.obj.attr("exstyle")?this.obj.attr("exstyle"):"";var n=可填多个值以+(this.opt.seperator!=" "?this.opt.seperator:"空格")+作为分隔符;var d=this.opt.multiple&&this.opt.editable?" awsui-qtip='"+n+"'":"";this.obj.after("<span id='"+c(this.obj).attr("id")+"_Tip' class='awsui-combobox' "+d+e+" style='"+f+"'></span>");var m=this.obj.next();m.append(this.obj);var h;if(!this.opt.width){this.opt.width=c(this.obj).css("width")}if(this.obj.attr("event")&&this.obj.attr("event").indexOf("nofit")>=0){var j=this.obj.parent(".awsui-combobox").attr("style");if(j.indexOf("width")>=0){var i=j.match("width:(.*?)px");this.opt.width=i[1]}}var k=this.obj;if(typeof(k.attr("placeholder"))=="string"&&k.attr("placeholder")!=""){this.opt.placeholder=k.attr("placeholder")}else{if(!this.opt.async&&(this.opt.data==undefined||!this.opt.data.length>0)){this.opt.placeholder=this.opt.noDataPlaceholder?this.opt.noDataPlaceholder:无数据}else{if(this.opt.editable&&this.opt.placeholder==undefined){this.opt.placeholder=请选择或输入}else{if(!this.opt.editable&&this.opt.placeholder==undefined){this.opt.placeholder=请选择}}}}if(k.val()&&k.val()!=""){this.opt.selectVal=k.val()}if(this.opt.hiddenName&&this.opt.hiddenName!=null){h=c("<input type='hidden' id='"+this.opt.hiddenName+"' name='"+this.opt.hiddenName+"'>")}else{var l="";if(this.obj.attr("id")!=null){k.hide();var g=c("<input type='text' id='_awsui_combobox_display_value_"+this.obj.attr("id")+"' "+e+" name='_awsui_combobox_value_"+this.obj.attr("id")+"' value='' >");if(this.obj.attr("title")!=undefined){g.attr("awsui-qtip",this.obj.attr("title"))}g.attr("placeholder",this.opt.placeholder);if(this.opt.editable==false){g.attr("readonly","readonly")}if(this.obj.width()){g.css("width",this.obj.width()-22)}k.before(g)}else{l="id='_awsui_combobox_hidden_' name='_awsui_combobox_hidden_'"}h=c("<input type='hidden' "+l+" >")}k.attr("placeholder",this.opt.placeholder);if(this.opt.editable==false){k.attr("readonly","readonly")}if(this.opt.editable==false||this.opt.disabled==true){this.opt.autoComplete=false}this.obj=m;if(this.opt.arrow){this.obj.append("<span class='aws-combobox-icons down'></span>")}this.initStyle();if(this.opt.disable||this.obj.find("input.awsui-combobox").attr("disabled")){this.disable()}else{this.bind()}c(".awsui-combobox").bind("mousewheel DOMMouseScroll",function(o){o.stopPropagation()})},createMenu:function(e){var h=this;if(this.opt&&this.opt.async!=null){this.getData()}var j=h.dataSource;c(this.obj).attr("createMenu","true");if(c(this.obj).data("dataSource")!=undefined){h.dataSourceX=c(this.obj).data("dataSourceX")}var i={};i.content=[];if(j!=null){var f=c("<ul id='awsui-combobox-list'></ul>").appendTo(h.obj).hide();if(!h.opt.multiple&&!h.opt.editable&&!h.obj.parent().hasClass("required")){f.append("<li val=''>"+空+"</li>")}c.each(j,function(s,l){var n,v;if(typeof l=="string"){n=l;v=l}else{n=l.value;v=l.label}if(e!=null&&n.toUpperCase().indexOf(e.toUpperCase())<0&&v.toUpperCase().indexOf(e.toUpperCase())<0){return true}else{for(var o=0;o<h.opt.data.length;o++){var x=h.opt.data[o];var u="";if(h.opt.displayField){u=x[h.opt.displayField]}else{if(x.text!=null){u=x.text}}var w="";if(h.opt.valueField){w=x[h.opt.valueField]}else{if(x.value!=null){w=x.value}}if(e!=null&&(u.toUpperCase().indexOf(e.toUpperCase())>-1||w.toUpperCase().indexOf(e.toUpperCase())>-1)){i.content.push(x)}}}var q="";for(var p=0;p<h.opt.data.length;p++){var x=h.opt.data[p];var m="";if(h.opt.valueField){m=x[h.opt.valueField]}else{m=x.text}if(m==n){if(x.imgs){q=x.imgs}break}}if(h.opt.multiple){f.append("<li val='"+n+"'><span class='aws-combobox-icons check'></span>"+q+v.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</li>")}else{f.append("<li val='"+n+"'>"+q+v.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</li>")}});var g=h.opt.width;if(h.opt.listWidth){g=h.opt.listWidth}if(h.opt.autoHeight==false){f.css({maxHeight:h.opt.menuMaxHeight,overflow:"auto"})}var k=h.obj.height()+2;var d=f.height();if(h.obj.html().indexOf("Grid")>=0){if(h.obj.parent().position().top+d>300){k-=(d+k+4)}}else{if(h.obj.offset().top+h.obj.height()+d-c(document).scrollTop()>c(window).height()){k-=(d+k+4)}}f.css({left:-1,top:k,width:g}).show();if(f.children().length==0){h.removeMenu(e)}h.bind(e?null:1)}if(h.opt.response){h.opt.response("",i);if(i.content.length==1){h.removeMenu()}}},getLabel:function(g,f){for(var e=0;e<g.length;e++){var d=g[e];if(d.value==f){return d.label}}return f},removeMenu:function(d){if(!c(this.obj).attr("createMenu")){return false}c(this.obj).removeAttr("createMenu");this.obj.find("ul").remove();if(!d&&this.opt.cascade){input=this.obj.find("input[type=text]");input.blur()}},setMenuSelect:function(){var e=this;if(e.opt.multiple){for(var d=0;d<e.selectVal.length;d++){var f=e.selectVal[d];e.obj.find("li[val='"+f+"']").find("span.check").addClass("ac")}}else{e.obj.find("li[val='"+e.selectVal[0]+"']").addClass("ac")}},dataToDataSource:function(){var d=this;var e=[];if(d.opt.data){e=d.opt.data}d.dataSource=[];d.dataSourceX={};c.each(e,function(h,j){var f,g;if(typeof j=="string"){f=j;g=j}else{f=j.label||j.text;g=d.opt.valueField?j[d.opt.valueField]:j.value}var k={value:g,label:f};d.dataSource.push(k);d.dataSourceX[f]=g})},setValue:function(l,w){var o=this,u=[],q=o.selectVal,k="";var n;var e=o.obj.data("oldTxt");var s=o.obj.data("oldVal");if(o.selectVal.length>1){var h=q.length;for(var m=0;m<h;m++){var g=q[m];var v=o.getLabel(o.dataSource,g);u.push(v)}k=u.join(o.opt.seperator);n=q.join(o.opt.seperator)}else{q=q[0];k=o.getLabel(o.dataSource,q);if(!k){if(this.opt.editable){k=q}else{k=q=""}}var f=false;for(var m=0;m<o.dataSource.length;m++){var d=o.dataSource[m];if(d.value==q){f=true}}if(!f&&o.dataSourceX&&o.dataSourceX[q]){k=q;q=o.dataSourceX[q]}n=q}if(w&&c(this.obj).find("input:last").attr("displayValue")){n=c(this.obj).find("input:last").attr("value");k=c(this.obj).find("input:last").attr("displayValue")}o.obj.find("input:first").val(k);if(this.opt.hiddenName){o.obj.find("#"+this.opt.hiddenName).val(n)}else{o.obj.find("input:last").val(n)}if(o.opt.liveSearch){o.obj.find("input:first").val(n)}if(l&&o.opt.select){var p={};var j={};if(o.opt.valueField){p[o.opt.valueField]=n;j[o.opt.valueField]=n}else{p.value=n;j.value=n}if(o.opt.displayField){p[o.opt.displayField]=k;j[o.opt.displayField]=k}else{p.text=k;j.text=k}if(s==undefined){s=""}if(e==undefined){e=""}j.oldVal=s;j.oldTxt=e;p.data=j;o.opt.select(o,p)}o.obj.data("oldVal","");o.obj.data("oldTxt","");o.obj.data("selectVal",o.selectVal)},getPositionValue:function(g,e){var d=g.split(this.opt.seperator);var f=this.getPositionIndx(g,e);return d[f]},setPositionValue:function(f,d,g){var e=this.getPositionIndx(f,d);this.selectVal[e]=g},getPositionIndx:function(g,e){var d=this.getPositionSings(g);e--;var f=0;c.each(d,function(h,j){if(j.end-j.start==1&&e==j.start){f=h;return false}if(j.start<=e&&e<j.end){f=h;return false}});return f},getPositionSings:function(e){var d=e.split(this.opt.seperator);var f=[];c.each(d,function(g,j){var h={};if(g!=0){h.start=f[g-1].end;h.end=h.start+j.length+1}else{h.start=-1;h.end=j.length}f.push(h)});return f},getValue:function(){var d=this;if(d.selectVal.length>1){return d.selectVal.join(d.opt.seperator)}else{if(d.selectVal.length==1){return d.selectVal[0]}else{return""}}},removeRepeat:function(h){var e=h.split(this.opt.seperator);var d=[];var g=0;for(var f=0;f<e.length;f++){var j=this.dataSourceX[e[f]]!=null?this.dataSourceX[e[f]]:e[f];if(c.inArray(j,d)<0&&c.inArray(e[f],d)<0&&j!=""){d.push(e[f])}else{if(f>0&&this.selIndx!=null&&g<this.selIndx){this.selIndx-=e[f].length+1}}g+=e[f].length}return d},changeValue:function(e){if(this.dataSourceX==null){return e}var d=this;c.each(e,function(g,h){var f=d.dataSourceX[h];e[g]=f!=null?f:e[g]});return e},filterValue:function(g){var e=g.split(this.opt.seperator);var d=[];for(var f=0;f<e.length;f++){var h=this.dataSourceX[e[f]];if(h!=null&&c.inArray(h,d)<0&&c.inArray(e[f],d)<0&&h!=""){d.push(h)}}return d},saveToSelectVal:function(){var e=this,f=this.obj.find("input").val();var d=f.split(this.opt.seperator);e.selectVal=[];c.each(e.dataSource,function(g,h){if(c.inArray(h.label,d)>=0){e.selectVal.push(h.value)}})},initStyle:function(){var d=this;d.obj.css({width:d.opt.width,height:d.opt.height});var e=d.opt.width;if(typeof(e)=="string"){if(e.indexOf("px")>=0){e=parseInt(e)}else{if(e.indexOf("%")>-1){e=d.obj.width()}}}d.obj.find("input").css({height:d.opt.height-4,width:e-12});if(d.opt.arrow){d.obj.find("input:first").css({paddingRight:22,width:e-33})}},initStyleDict:function(){var d=this;d.obj.css({width:"100%",height:d.opt.height});var e=d.opt.width;if(typeof(d.opt.width)=="string"&&d.opt.width.indexOf("%")>-1){e=d.obj.width()}d.obj.find("input").css({height:d.opt.height-4,width:e-12});if(d.opt.arrow){d.obj.find("input").css({paddingRight:22,width:e})}},disable:function(){this.opt.disable=true;this.obj.addClass("awsui-combobox-disable");this.obj.find("input[type=text]").attr("disabled","disabled")},enable:function(){this.opt.disable=false;this.obj.removeClass("awsui-combobox-disable");this.obj.find("input[type=text]").attr("disabled",false);this.bind()},bind:function(f){var g=this,e=g.obj.find("input[type=text]");if(g.opt.arrow){var d="span.aws-combobox-icons.down";if(g.opt.editable==false){d="span.aws-combobox-icons.down, input[type=text]"}g.obj.find(d).off("click").on("click",function(){if(g.opt.disable){return}if(c("ul[id='awsui-combobox-list']").is(":visible")){g.removeMenu()}else{g.createMenu();if(e.val()!=""){g.saveToSelectVal();g.setMenuSelect(e.val())}e.focus()}})}if(g.opt.autoComplete||g.opt.liveSearch){this.obj.find("input[type=text]").off("keyup.ap").on("keyup.ap",function(n){g.obj.data("oldVal",g.obj.find("input:last").val());var i=c(this).val();if(n.keyCode!=13&&n.keyCode!=40&&n.keyCode!=38){var h="";var u=g.obj.find("input:first").val();var s="";if(u.indexOf(" ")>-1){s=u.substring(u.lastIndexOf(" ")+1,u.length)}else{s=u}h=c.trim(s);if(g.opt.liveSearch){i=h}if(h.length>0){if(g.opt&&g.opt.async!=null){g.opt.async.params.query=h}}g.removeMenu(true);var j=i;if(g.opt.multiple&&g.opt.editable){var o=c(this).getSelectionStart();g.selIndx=o;j=g.getPositionValue(i,o)}var k=g.getDataTimeOut!=null?300:1;clearTimeout(g.getDataTimeOut);g.getDataTimeOut=setTimeout(function(){g.createMenu(j);if(e.val()!=""){var q=e.length==2?e.eq(1).val():e.eq(0).val();g.setMenuSelect(q)}},k);if(e.val()!=""){g.saveToSelectVal()}if(g.opt.filter==false){g.obj.find("input:last").val(i);if(i==""){g.selectVal=[]}else{g.selectVal=g.changeValue(i.split(g.opt.seperator))}c(g.obj).data("selectVal",g.selectVal)}else{g.selectVal=g.filterValue(i);c(g.obj).data("selectVal",g.selectVal)}}else{if(n.keyCode==13){var p=g.obj.find("li.ac");p.trigger("mouseup.combo")}}if(n.keyCode==38){var p=g.obj.find("li.ac"),m=g.obj.find("ul");var l=m.scrollTop();if(p.length){p.prev().addClass("ac").siblings().removeClass("ac");m.scrollTop(l-p.outerHeight())}else{m.find("li:last").addClass("ac")}n.preventDefault()}else{if(n.keyCode==40){var m=g.obj.find("ul"),p=m.find("li.ac");var l=m.scrollTop();if(p.length>0){p.next("li").addClass("ac").siblings("li").removeClass("ac");m.scrollTop(l+p.outerHeight())}else{m.find("li:first").addClass("ac")}n.preventDefault()}}});if(g.opt.multiple&&g.opt.editable){this.obj.find("input[type=text]").off("click.ap").on("click.ap",function(h){g.selIndx=c(this).getSelectionStart();var i=c(this).val();if(g.selIndx==0){var j=i.split(g.opt.seperator);if(j[0]!=""&&g.dataSourceX[j[0]]!=null){g.selIndx=null}}else{if(g.selIndx==i.length){g.selIndx=null}}c(g.obj).data("selectVal",g.selectVal)});this.obj.find("input[type=text]").off("blur.ap").on("blur.ap",function(i){var j=c(this).val();if(j!=""){var h=g.removeRepeat(j);c(this).val(h.join(g.opt.seperator));g.selectVal=g.changeValue(h);c(g.obj).data("selectVal",g.selectVal)}});this.obj.find("input[type=text]").off("keypress.ap").on("keypress.ap",function(m){if(String.fromCharCode(m.keyCode)!=g.opt.seperator){var o=c(this).val();var h=c(this).getSelectionStart();var n=g.getPositionValue(o,h);for(var j=0;j<g.selectVal.length;j++){var l=g.dataSourceX[n];if((g.selectVal[j]==n||g.selectVal[j]==l)&&j!=g.selectVal.length-1){var k=new RegExp(n+"$");c(this).val(o.replace(k,""));return false}}}})}}if(g.obj.find("li").length>0){if(g.opt.multiple){g.obj.find("li").off("mouseup.combo").on("mouseup.combo",function(o){if(c(g.obj).data("selectVal")!=undefined){g.selectVal=c(g.obj).data("selectVal")}g.obj.data("oldTxt",g.obj.find("input:first").val());var n=c(this);var p=n.attr("val");if(n.find("span.check").hasClass("ac")){n.find("span.check").removeClass("ac");for(var h in g.selectVal){if(g.selectVal[h]==p){g.selectVal.splice(h,1);break}}g.selIndx=null}else{n.find("span.check").addClass("ac");var m=g.obj.find("input[type=text]").val();if(g.opt.multiple&&g.opt.editable&&g.selIndx!=null){if(f==1){var k=g.getPositionIndx(m,g.selIndx);k++;if(k<g.selectVal.length){g.selectVal.splice(k,0,p)}else{g.selectVal.push(p)}var j=new RegExp(g.opt.seperator+"$");var l=j.test(g.obj.find("input").eq(0).val())?1:0;g.selIndx+=(n.text().length+l)}else{g.setPositionValue(m,g.selIndx,p);g.selIndx=null}}else{g.selectVal.push(p)}}g.setValue(true)})}else{g.obj.find("li").off("mouseup.combo").on("mouseup.combo",function(h){g.obj.data("oldTxt",g.obj.find("input:first").val());g.selectVal=[];var i=c(this).attr("val");g.selectVal.push(i);g.setValue(true);g.removeMenu()})}c(document).off("mousedown.combo").on("mousedown.combo",function(i){i.stopPropagation();var h=c(i.target);if(h.hasClass("aws-combobox-icons")||(h.attr("id")&&h.attr("id").indexOf("_awsui_combobox_display")>-1)){if(!c(h).parent().attr("createmenu")){g.removeMenu()}return}g.removeMenu();h.focus()});c(document).off("mousedown.combo",".awsui-combobox li,ul").on("mousedown.combo",".awsui-combobox li,ul",function(h){h.stopPropagation()});c(".awsui-combobox ul").bind("mousewheel DOMMouseScroll",function(h){if(h.deltaY<0&&c(this).context.scrollHeight-c(this).scrollTop()-c(this).height()==0){return false}else{if(h.deltaY>0&&c(this).scrollTop()==0){return false}else{h.stopPropagation()}}})}}};c.fn.setComboboxVal=function(e){var g=c(this);g.removeAttr("displayvalue");var f=g.data("comboboxObj");e=e.replace(/,/g,f.opt.seperator);if(f!=null){f.opt.selectVal=e;if(f.opt.async&&!f.opt.data){f.obj.find("span").click();f.obj.find("span").next().remove()}g.combobox(f.opt);g.blur();if(f.opt.select){var d={};d.value=e;f.opt.select(null,d)}}};c.fn.combobox=function(e,g){if(arguments!=null&&typeof arguments[0]=="string"){if(arguments.length==2){return c(this).parent().find("input:last").val()}else{if(arguments.length==3){return c(this).parent().find("input:last").val(arguments[2])}}}var f=c.extend({height:25,autoComplete:true,liveSearch:false,menuMaxHeight:200,autoHeight:false,arrow:true,multiple:false,editable:true,seperator:",",selectVal:"",disable:false,filter:false},e||{});if(e.source&&typeof f.source=="object"&&!f.data){f.data=e.source}if(e.source&&typeof f.source=="string"){f.async={url:e.source,params:{}}}if(e.trigger!=undefined){f.arrow=e.trigger}if(e.listHeight){f.menuMaxHeight=e.listHeight;f.autoHeight=false}if(e.value&&!f.selectVal){f.selectVal=e.value}if(e.disabled!=undefined){f.disable=e.disabled}var i=c(this);var d;var h=i.data("comboboxObj");if(c(i).parent().hasClass("awsui-combobox")&&h!=null){h.obj=i;d=h;d.opt=f;c(i).parent().data("selectVal",[])}else{d=new a(f,i);i.data("comboboxObj",d)}d.init();return d}})(jQuery);
/*!
 * jQuery verson 1.10.2
 * AWS Accordion 插件
 * author zhangy
 * 2013年8月23日18:25:02
 */
(function($){$.fn.accordion=function(options){var defaults={event:"click",style:"rows",active:0,animate:true,animateTime:250,showIcon:true,multiple:false};var temp=$(this);var opt=$.extend(defaults,options);if(opt.multiple){opt.autoHeight=true}reInitHeight();temp.addClass("ui-accordion");temp.find("[child-list]").addClass("ui-accordion-items");if(opt.addClass==null){temp.find("a[tit]").addClass("ui-accordion-title");if(opt.showIcon){temp.find("a[tit]").append("<span class='ui-accordion-icons arrow-down'></span>")}temp.find("a[tit]").next().addClass("ui-accordion-content")}else{temp.find("a[tit]").addClass(opt.addClass);temp.find("a[tit]").next().addClass(opt.contentClass)}opt.current=$(temp.find("a[tit]")[opt.active]);temp.find("a[tit]").on("click",function(){var b=true;if(opt.onExpand!=null){var node=opt.current;b=opt.onExpand(node)}if(!b){return}if(opt.multiple){var open=$("span",this).hasClass("arrow-up");if(open){$(this).next().hide();$(this).removeClass("current");$(this).find(".ui-accordion-icons").removeClass("arrow-up").addClass("arrow-down")}else{$(this).next().show();$(this).addClass("current");$(this).find(".ui-accordion-icons").removeClass("arrow-down").addClass("arrow-up")}}else{if(opt.current[0]==$(this)[0]){var open=$(this).find(".arrow-up").length;if(open){$(this).next().hide();$(this).find(".ui-accordion-icons").removeClass("arrow-up").addClass("arrow-down");return}}opt.current=$(this);if(opt.current.next().is(":hidden")){initHeight()}}});if(opt.current!=null){opt.current.click()}$(window).on("resize.accordion",function(){initHeight()});function reInitHeight(){if(opt.autoHeight===true){return}var height=temp.parent().height();var other_height=0;for(var i=0;i<temp.siblings().length;i++){var o=temp.siblings()[i];other_height+=$(o).outerHeight()}temp.css({height:height-other_height})}function initHeight(){reInitHeight();var accordionDiv=opt.current.parent().parent();var expandEvent;try{expandEvent=eval(accordionDiv.attr("onexpand"))}catch(err){}if(expandEvent==undefined){expandEvent=function(){}}opt.current.addClass("current").siblings(".current").removeClass("current");if(opt.showIcon){temp.find(".ui-accordion-icons").removeClass("arrow-up").addClass("arrow-down");opt.current.find(".ui-accordion-icons").removeClass("arrow-down").addClass("arrow-up")}var tit_height=opt.current.outerHeight();var size=temp.find("a[tit]").length;if(opt.autoHeight==true){if(opt.animate){opt.current.next().siblings(".ui-accordion-content").stop().animate({},opt.animateTime,function(){$(this).hide()});opt.current.next().show().stop().animate({},opt.animateTime,undefined,function(){expandEvent(opt.current.next())})}else{opt.current.next().css({}).show().siblings(".ui-accordion-content").hide()}}else{if(opt.animate){opt.current.next().siblings(".ui-accordion-content").stop().animate({height:"0px"},opt.animateTime,function(){$(this).hide()});opt.current.next().show().stop().animate({height:temp.height()-tit_height*size-1},opt.animateTime,undefined,function(){expandEvent(opt.current.next())})}else{opt.current.next().css({height:temp.height()-tit_height*size-1}).show().siblings(".ui-accordion-content").hide()}}}}})(jQuery);
/*!
 * jQuery verson 1.10.2
 * AWS Layout 插件
 * author zhangy
 */
(function(a){a.fn.layout=function(F){var C=a(this);if(typeof F=="string"&&F=="destroy"){C.children().html("");return}else{if(typeof F=="string"&&F=="resize"){a(window).trigger("resize.layout");return}}var l={};var e=a.extend(l,F);C.addClass("awsui-layout");var s=0,w,G=0,D=0,H=0,y=0,d=0;var h=e.head;if(h!=null&&h.target!=null){var n={};h=a.extend(n,h)}var j=e.bottom;if(j!=null&&j.target!=null){var k={show:true};j=a.extend(k,j)}var A=e.separater;if(A!=null&&A.target!=null){var z={width:6};A=a.extend(z,A);a(A.target).css({width:A.width});if(A.width==0){a(A.target).css({borderRight:0})}}var E=e.right;if(E!=null&&E.target!=null){var c={};E=a.extend(c,E)}var g=e.left;if(g!=null&&g.target!=null){var v={closable:true,showCloseIcon:true,dragable:false};g=a.extend(v,g)}var m=e.openCallback;var i=e.closeCallback;q();a(window).off("resize.layout").on("resize.layout",function(){q()});o();if(A!=null&&A.target!=null){if(!g.dragable){return}else{a(A.target).on("mouseenter",function(){a(this).css({cursor:"col-resize"})})}var x=null;var u=null;var B;a(A.target).on("mousedown.sep",function(J){var I=a(this);p(I)})}function p(I){if(x!=null){x.remove()}if(u!=null){u.remove()}a(document).on("selectstart",function(){return false});B=a(A.target).offset().left;x=a(A.target).clone(true).addClass("sep-moveObj").appendTo("body");u=a("<div></div>").addClass("sep-moveMask").appendTo("body");a(document).on("mousemove.sep",function(K){var J=Math.abs(B-K.pageX);x.css({left:K.pageX})});a(document).on("mouseup.sep",function(J){a(document).off("mousemove.sep");a(document).off("mouseup.sep");if(x!=null){H=y=J.pageX;a(g.target).animate({width:J.pageX},100,function(){a(window).trigger("resize.layout");if(g.afterDrag!=null){g.afterDrag(H)}})}x.remove();u.remove()})}function o(){if(g!=null){if(!g.closable){if(g.title==null){return}var I=g.nogradient?"nogradient":"";var J="<div class='awsui-layout-left-title "+I+"'>"+g.title+"</div>";a(g.target).prepend(J);return}var I=g.nogradient?"nogradient":"";var J="<div class='awsui-layout-left-title "+I+"'>"+g.title+"<span class='awsui-layout-left-op'><span class='awsui-layout-icon arrow-left'></span><span class='awsui-layout-icon arrow-right'></span></span></div>";a(g.target).prepend(J);if(!g.showCloseIcon){a(g.target).find(".awsui-layout-left-op").remove()}else{a(g.target).find(".awsui-layout-icon.arrow-left").off().on("click",function(){var K=a(this);a(g.target).animate({width:"0px"},100,function(){a(g.target).hide();a(g.target).find(".awsui-layout-icon.arrow-right").appendTo(a(A.target)).show()});a(A.target).animate({left:0+"px"},100);a(A.target).css({width:"32px"});a(E.target).animate({left:34+"px",width:w-34+"px"},100,function(){a(A.target).off("mousedown.sep");a(window).trigger("resize")});if(i){i()}});if(g.open==false){a(g.target).find(".awsui-layout-icon.arrow-left").trigger("click")}if(g.dragable){a(g.target).find(".awsui-layout-icon.arrow-right").on("mousedown.sep",function(K){K.stopPropagation();return false})}a(g.target).find(".awsui-layout-icon.arrow-right").off().on("click",function(L){var K=a(this);a(g.target).animate({width:H},100,function(){a(g.target).show();a(A.target).find(".awsui-layout-icon.arrow-right").appendTo(a(g.target));a(g.target).find(".awsui-layout-icon.arrow-right").hide()});a(A.target).animate({left:H+"px",width:A.width},100);a(E.target).animate({left:H+A.width+"px",width:(w-H-A.wdith)+"px"},100,function(){a(A.target).on("mousedown.sep",function(N){var M=a(this);p(M)});a(window).trigger("resize")});if(m){m()}})}}else{if(g!=null){a(g.target).css("border-right","1px solid #ccc")}}}function q(){s=C.height();w=C.width();if(h!=null){f("head",h)}if(j!=null){f("bottom",j)}if(g!=null){f("left",g)}if(A!=null){f("separater",A)}if(E!=null){f("right",E)}}function f(J,I){if(I.css){a(I.target).addClass(I.css)}else{a(I.target).addClass("awsui-layout-"+J)}if(J=="head"){if(I.show==false){if(a(h.target)!=null){a(h.target).hide()}G=0}else{if(I.height){a(I.target).css({height:I.height})}a(h.target).show();G=a(I.target).outerHeight()}}else{if(J=="bottom"){if(I.show==false){a(j.target).hide();D=0}else{if(I.height){a(I.target).css({height:I.height,"line-height":I.height})}a(j.target).show();D=a(I.target).outerHeight();if(a(j.target).parent().parent("div").length!=0){a(j.target).css("position","absolute")}}}else{if(J=="left"){if(H==0){H=y=a(I.target).outerWidth()}else{y=a(I.target).outerWidth()}}else{if(J=="separater"){if(I.show==false){a(I.target).css("width",0)}d=a(I.target).outerWidth();a(I.target).css({left:y,height:s-G-D,top:G,width:d-2})}else{if(J=="right"){a(I.target).css({width:w-y-d,left:y+d})}}}}}if(J=="left"||J=="right"){a(I.target).css({height:s-G-D,top:G})}}}})(jQuery);
/*!
 * jQuery verson 1.10.2
 * AWS Tree 插件
 * Author : zhangy
 * Date : 2013-8-26
 */
awsui.tree={init:function(obj,options){var tree={setting:{showLine:true,showIcon:true,single:false,checkbox:false,checkInherit:true,inheritOnlyVisible:false,rememberNode:false,showTitle:false,showTitleOptions:{},animate:false,animateTime:150,dblClickToExpand:true,opDefDblClick:false,sort:false,autoHeight:false,checkChildrens:true,dataModel:{url:"",method:"GET",dataType:"json",params:{},data:null},event:{},contextMenu:null},config:{data:{},nodes:{},treeObj:{},levelCount:1},getData:function(dataModel,nodeId){if(nodeId!=null){tree.config.treeObj.find("#tree_icon_"+nodeId).addClass("root-file-loading")}var result;$.ajax({url:dataModel.url,type:dataModel.method,async:false,cache:false,data:dataModel.params,dataType:dataModel.dataType,success:function(jsonData){result=jsonData;if(typeof jsonData=="string"){if(jsonData.indexOf(":RO;")>-1&&jsonData.indexOf("errorCode")>-1&&jsonData.indexOf('"result":"error"')>-1){r=awsui.decode(jsonData);var msg=r.msg;if(r.data&&r.data.desc){msg+="\n"+r.data.desc}$.simpleAlert(msg+r.data.desc,r.result);result=null}else{result=eval(jsonData)}}if(dataModel.successCallBack){dataModel.successCallBack(result)}return result},error:function(){result=null;return result},complete:function(){if(nodeId!=null){tree.config.treeObj.find(".root-file-loading").removeClass("root-file-loading")}}});return result},getAsyncData:function(dataModel,nodeId){if(nodeId!=null){var treeIconNode=tree.config.treeObj.find("#tree_icon_"+nodeId);treeIconNode.addClass("root-file-loading").css("background","");treeIconNode.find(".awsui-iconfont").hide()}var result;$.ajax({url:dataModel.url,type:dataModel.method,async:true,cache:false,data:dataModel.params,dataType:dataModel.dataType,success:function(jsonData){result=jsonData;if(typeof jsonData=="string"){if(jsonData.indexOf(":RO;")>-1&&jsonData.indexOf("errorCode")>-1&&jsonData.indexOf('"result":"error"')>-1){r=awsui.decode(jsonData);var msg=r.msg;if(r.data&&r.data.desc){msg+="\n"+r.data.desc}$.simpleAlert(msg+r.data.desc,r.result);result=null}else{result=eval(jsonData)}}},error:function(){result=null},complete:function(){if(nodeId!=null){var treeIconNode=tree.config.treeObj.find("#tree_icon_"+nodeId);treeIconNode.removeClass("root-file-loading").css("background","transparent");treeIconNode.find(".awsui-iconfont").show()}if(dataModel.callback){dataModel.callback(result)}var isOpen=tree.config.treeObj.find("#tree_switch_"+nodeId).hasClass("root-open")?true:false;if(isOpen){tree.config.treeObj.find("#tree_ul_"+nodeId).show()}else{tree.config.treeObj.find("#tree_ul_"+nodeId).hide()}}})},buildChilren:function(data,treeNode,type,callback){var parentNode=tree.config.treeObj.find("#tree_li_"+$.escapeSelector(treeNode.id));var ul=parentNode.find("#tree_ul_"+$.escapeSelector(treeNode.id));if(ul!=null&&ul.html()!=null&&type!="reload"){return}if(type!=null&&type=="reload"){ul.html("")}for(var i=0&&data!=null;i<data.length;i++){tree.addNode(data[i],parentNode,callback);tree.initIcon(data[i])}tree.initEvent(callback);tree.initStyles()},initEvent:function(callback){if(callback!=null){callback()}if(tree.setting.showTitle){var tooltipOptions={bordercolor:"#000",color:"#fff",bgcolor:"#333"};tree.setting.showTitleOptions=$.extend(tooltipOptions,tree.setting.showTitleOptions);$.each(tree.config.nodes,function(i,obj){if(obj.title!=null){$("#tree_span_"+i).on("mouseenter",function(){tree.setting.showTitleOptions.text=obj.title;$(this).quicktip(tooltipOptions)}).on("mouseleave",function(){$(this).quicktip("close")})}})}if(tree.setting.checkbox){tree.bindCheckBoxEvent()}$(".tree-items").click(function(){tree.changeClass($(this))});tree.rootIconClick();if(tree.setting.event!=null&&tree.setting.event.onClick!=null){tree.onClick(tree.setting.event.onClick)}if(tree.setting.sort&&tree.setting.event.beforeDrag!=null){tree.onMouseDown(null,"sort")}if(tree.setting.contextMenu!=null){tree.onMouseDownRight()}if(tree.setting.event!=null&&tree.setting.event.onDblClick){tree.onDblClick()}},createNode:function(node,params){var nodeHtml=$("<li li_index='"+node.id+"' id='tree_li_"+node.id+"'></li>");var title;var style=node.style!=null?(" style='"+node.style+"' "):"";var cls=node.cls!=null?node.cls:"";var disabled=node.disabled?"disable":"";if(node.dropable==false){cls+=" nodrop"}var canSort="";if(tree.setting.sort){canSort="<div sep-index='"+node.id+"' class='tree-items-sep'></div>"}if(node.open!=null){var icon=node.open==true?"root-open":"root-close";title=$("<a parent class='tree-items'></a>").appendTo(nodeHtml);var node_title=(node.title&&tree.setting.showTitle)?node.title:"";var html="<span nodestate id='tree_switch_"+node.id+"' class='"+icon+"'></span>"+tree.bindCheckBox("file",node,params)+"<span id='tree_icon_"+node.id+"' nodeIcon class='root-file'></span><span class='tree-items-title "+disabled+" "+cls+"'  tit awsui-qtip='"+node_title+"' id='tree_span_"+node.id+"' "+style+">"+node.name+"</span>"+canSort;title.append(html)}else{title=$("<a class='tree-items'></a>").appendTo(nodeHtml);var node_title=(node.title&&tree.setting.showTitle)?node.title:"";var html="<span class='line-items'></span>"+tree.bindCheckBox("doc",node,params)+"<span id='tree_icon_"+node.id+"' nodeIcon class='root-doc'></span><span class='tree-items-title "+disabled+" "+cls+"' tit awsui-qtip='"+node_title+"' id='tree_span_"+node.id+"'"+style+">"+node.name+"</span>"+canSort;title.append(html)}title.attr("tbindex",node.id);return nodeHtml.append(title)},createRootNode:function(node){var icon=node.isLeaf?"line-items end":(node.open==null?"tree-indent":(node.open==true?"root-open":"root-close"));var cls=node.cls!=null?node.cls:"";if(node.dropable==false){cls+=" nodrop"}var node_title=node.title?node.title:"";var li=$("<li main level='0' li_index="+node.id+" id='tree_li_"+node.id+"'><a tbindex='"+node.id+"' parent class='tree-items'><span nodestate id='tree_switch_"+node.id+"' class='"+icon+"'></span>"+tree.bindCheckBox("root",node)+"<span id='tree_icon_"+node.id+"' class='root-file'></span><span class='tree-items-title "+cls+"' tit awsui-qtip='"+node_title+"' id='tree_span_"+node.id+"'>"+node.name+"</span></a></li>");return li},initIcon:function(node){var treeNode=tree.config.treeObj.find("#tree_icon_"+$.escapeSelector(node.id));var treeNodes=tree.config.treeObj.find("[id='tree_icon_"+$.escapeSelector(node.id)+"']");var len=treeNodes.length;if(len>1){for(var i=0;i<len;i++){if($($(treeNodes)[i]).attr("style")==undefined){treeNode=$($(treeNodes)[i]);break}}}var prev=treeNode.prev();var isOpen=false;if(prev.hasClass("root-open")){isOpen=true}var icon=node.icon,iconOpen=node.iconOpen,iconClose=node.iconClose,iconCls=node.iconCls,noSet=true;var iconFont=node.iconFont;if(iconOpen!=null&&(isOpen||node.open)){treeNode.css({background:"url("+iconOpen+") no-repeat"});noSet=false}else{if(iconClose!=null&&(!isOpen||!node.open)){treeNode.css({background:"url("+iconClose+") no-repeat"});noSet=false}}if(noSet){if(iconFont!=null){var code;var color;if(typeof(iconFont)=="string"){code=iconFont}else{if(typeof(iconFont)=="object"){code=iconFont.code;color=iconFont.color}}var html=$("<div class='awsui-iconfont' style='font-size: 14px;'>"+code+"</div>");if(color){html.css("color",color)}treeNode.html(html);treeNode.css("background","transparent")}else{if(icon!=null){treeNode.css({background:"url("+icon+") no-repeat"})}else{if(iconCls!=null){treeNode.addClass(iconCls)}}}}},initStyles:function(){if(!tree.setting.showIcon){tree.config.treeObj.find(".root-file").hide();tree.config.treeObj.find(".root-doc").hide()}if(!tree.setting.showLine){tree.config.treeObj.find(".tree-indent").removeClass("line");tree.config.treeObj.find("[nodestate]").addClass("none");tree.config.treeObj.find(".line-items").addClass("none")}else{function changeStyle(i){var nodes=tree.config.treeObj.find("li[level="+i+"]");var pid="-100";for(var j=0;j<nodes.length;j++){var temp=$(nodes[j]);var id=temp.attr("li_index");if(j==(nodes.length-1)){doChange(temp)}var parentNode=tree.config.nodes[id];if(parentNode.pid!=null&&parentNode.pid!=pid){var newTemp=$(nodes[j-1]);doChange(newTemp)}pid=parentNode.pid}}function doChange(temp){temp.find("[nodestate]:first").addClass("end");temp.find("span[level="+i+"]").removeClass("line");temp.children("ul").find("li:last > a:first > .line-items").addClass("end")}tree.config.treeObj.find("ul[tit]").each(function(){var temp=$(this);var last=temp.children(":last");temp.find("li:last > a:first > .line-items").addClass("end")});for(var i=0;i<tree.config.levelCount;i++){changeStyle(i)}var nodeFirst=tree.config.treeObj.find("li[level=0]");if(nodeFirst.length>1){tree.config.treeObj.find("[nodestate]:first").addClass("start")}else{tree.config.treeObj.find("[nodestate]:first").addClass("first")}}},resizeTree:function(){if(tree.setting.autoHeight!=null&&tree.setting.autoHeight==true){return}var height=tree.config.treeObj.parent().height();var otherHeight=0;tree.config.treeObj.siblings(":visible").each(function(){otherHeight+=$(this).outerHeight()});tree.config.treeObj.css({height:height-otherHeight})},addNode:function(newNode,parentNodeDom,callback,params){var parent=tree.config.treeObj.find("#tree_ul_"+$.escapeSelector(newNode.pid));if(parent.length){var index=parent.parent().attr("level");tree.config.nodes[newNode.id+""]=newNode;tree.createNode(newNode,params).appendTo(parent);tree.getIndent(newNode.id,(parseInt(index)+1));if(callback!=null){callback()}}else{var style="";var index=parentNodeDom.attr("li_index");if(parentNodeDom.find("a[tbindex='"+index+"']").find(".root-doc").length){tree.changeToFolder(index);tree.config.nodes[index].open=true}var pNode=tree.config.nodes[index];if(pNode!=null){if(pNode.open!=null&&pNode.open==false){style="style='display:none'"}parent=$("<ul tit id='tree_ul_"+newNode.pid+"' "+style+"></ul>").appendTo(parentNodeDom);tree.addNode(newNode,parentNodeDom,callback,params)}}},addNodeByTarget:function(newNode,targetNodeId,position,callback){var target=tree.getNodeLiDomById(targetNodeId);var pid=target.parent().prev("a").attr("tbindex");var targetIndex=tree.getIndex(targetNodeId);var li=tree.createNode(newNode);if(position=="before"){target.before(li)}else{target.after(li)}tree.getIndent(newNode.id,targetIndex);if(callback!=null){callback()}},buildTree:function(data,callback,params){tree.setting.line=tree.setting.showLine==true?"line":"";tree.setting.isOpen=false;for(var i=0;i<data.length;i++){var id=data[i].id;var pid=data[i].pid;var isOpen=data[i].open;var parent=tree.config.treeObj.find("#tree_li_"+$.escapeSelector(pid));tree.config.nodes[id+""]=data[i];if(!parent.length&&pid==null){tree.createRootNode(data[i]).appendTo(tree.config.treeObj)}else{if(tree.setting.smartBuild!==true){tree.addNode(data[i],parent,callback,params)}}}this.initEvent(callback);if(tree.setting.event.afterLoad!=null){tree.setting.event.afterLoad(tree)}this.initStyles();if(this.setting.rememberNode){var nodeId=$.cookie("tree_node");if(nodeId!=""&&nodeId!=null){var nodeDom=this.getNodeDomById(nodeId);this.expandNodes(nodeDom,true,false,true,{nodeId:nodeId})}}for(var i=0;i<data.length;i++){tree.initIcon(data[i])}},refreshDataFromNodes:function(){var data=[];$.each(tree.config.nodes,function(i,node){data.push(node)});tree.config.data=data},refresh:function(dataModel){tree.config.treeObj.html("");if(dataModel.data!=null){var data_=tree.config.data;if(dataModel.data!=null){data_=dataModel.data}tree.buildTree(data_)}else{if(dataModel.url!=null){var data=tree.getData(dataModel);var dataModel={};dataModel.data=data;this.refresh(dataModel)}}},refreshNode:function(params){if(params.data!=null){var node=tree.config.nodes[params.id];var nodeLi=tree.getNodeLiDomById(params.id);nodeLi.children("ul").find("li").remove();for(var i=0;i<params.data.length;i++){var node=params.data[i];tree.addNode(node,nodeLi);tree.initIcon(node)}tree.initEvent();tree.initStyles()}else{if(params.dataModel!=null){var data=tree.getData(params.dataModel);var newParams={};newParams.data=data;newParams.id=params.id;tree.refreshNode(newParams)}else{if(params.id!=null){var nodes=tree.getChildrenByPid(params.id);var newData=[];$.each(nodes,function(i,value){newData.push(value)});tree.refreshNode({data:newData,id:params.id})}}}},refreshNodeById:function(n,obj){var node=this.getNodeById(n.id);node=$.extend(node,n);var nodeDom=obj;if(obj==null){nodeDom=this.getNodeDomById(n.id)}nodeDom.find(".tree-items-title:first").text(node.name);this.config.nodes[n.id+""]=node},getIndent:function(id,index){var treeItemsLi=tree.config.treeObj.find("#tree_li_"+$.escapeSelector(id));var treeItemsLis=tree.config.treeObj.find("[id='tree_li_"+$.escapeSelector(id)+"']");if(treeItemsLis.length>1){for(var i=0;i<treeItemsLis.length;i++){if($(treeItemsLis[i]).find("span[class='tree-indent line']").length==0){treeItemsLi=$(treeItemsLis[i]);break}}}treeItemsLi.attr("level",index);if(index>tree.config.levelCount){tree.config.levelCount=index}var treeItems=treeItemsLi.find("a:first");var htmls="";for(var j=0;j<index;j++){htmls+="<span level="+j+" class='tree-indent line'></span>"}treeItems.prepend(htmls)},setIndent:function(id,dom){var li=tree.getNodeLiDomById(id);var index=li.attr("level");var sourceIndex=dom.attr("level");var changed=index-sourceIndex;var html="";if(changed>0){for(var i=0;i<changed+1;i++){html+="<span class='tree-indent line'></span>"}dom.find(".tree-items").prepend(html)}else{if(changed==0){dom.find(".tree-items").find(".tree-indent:last").after("<span class='tree-indent line'></span>")}else{for(var i=0;i<changed*(-1)-1;i++){dom.find(".tree-items").find(".tree-indent:first").remove()}}}dom.find(".tree-items").each(function(){var i=(parseInt(index)+1);$(this).parent().attr("level",i);if(i>tree.config.levelCount){tree.config.levelCount=i}})},getParentIndex:function(id){var curr_index=tree.config.treeObj.find("#tree_li_"+id).parent().prev().attr("level");return curr_index},getIndex:function(id){var curr_index=tree.config.treeObj.find("#tree_li_"+id).attr("level");return curr_index},exsitsChildren:function(id){var chilren=this.getNodeIdsByPid(id);if(chilren.length>=1){return true}else{return false}},existsChildren:function(id){var item=tree.config.treeObj.find(".tree-items[tbindex='"+id+"']");if(item.next("ul")==null||item.next("ul").html()==null||item.next("ul").html()==""){return false}else{return true}},bindCheckBox:function(type,obj,params){var html="";if(tree.setting.checkbox&&obj.nocheck!=true){var node=tree.config.nodes[obj.id];var disabled="";if(obj.disabled){disabled="disabled='disabled'"}if(tree.config.treeObj.find("#ckb_"+node.pid).is(":checked")||node.checked){if(tree.setting.checkInherit&&!tree.setting.inheritOnlyVisible){if(!tree.setting.checkChildrens&&!node.checked||params&&params.nodestateClick){html="<input value='"+obj.id+"' "+type+" type='checkbox'  "+disabled+" id='ckb_"+obj.id+"' />"}else{html="<input value='"+obj.id+"' "+type+" type='checkbox' checked='checked' "+disabled+" id='ckb_"+obj.id+"' />"}}else{html="<input value='"+obj.id+"' "+type+" type='checkbox' "+disabled+" id='ckb_"+obj.id+"' />"}}else{html="<input value='"+obj.id+"' "+type+" type='checkbox'"+disabled+" id='ckb_"+obj.id+"' />"}}return html},toggleNodeUI:function(obj,hide){var node_item=tree.config.treeObj.find("#tree_li_"+(obj.id||obj));hide=hide||node_item.is(":visible");node_item[hide?"hide":"show"]()},toggleCheck:function(obj,check){var ck=tree.config.treeObj.find("#tree_li_"+(obj.id||obj)).find("input[type=checkbox]");check=check||!ck.is(":checked");ck.prop("checked",check)},isChecked:function(obj){return tree.config.treeObj.find("#tree_li_"+(obj.id||obj)).find("input[type=checkbox]").prop("checked")},bindCheckBoxEvent:function(){tree.config.treeObj.find("input[type=checkbox]").off("click.check").on("click.check",function(event){var ck=$(this);var nodeObj=tree.getNodeById(ck.attr("value"));if(tree.setting.event.onCheck!=null){tree.setting.event.onCheck(ck,nodeObj)}if(tree.setting.event.checkChange!=null&&tree.setting.event.checkChange(nodeObj,ck.is(":checked"))===false){event.stopPropagation();return}if(ck.attr("doc")==null){if(tree.setting.checkInherit){ck.parent().next().find("input[type=checkbox]").each(function(){if(tree.setting.inheritOnlyVisible&&$(this).is(":hidden")){return}var ckd=ck.is(":checked");if(this.checked!=ckd){this.checked=ckd;if(tree.setting.event.onCheck!=null){var nodeObj=tree.getNodeById($(this).attr("value"));tree.setting.event.onCheck(this,nodeObj)}}})}}else{var type=ck.is(":checked");var checked=ck.parent().parent().siblings().find("input[type=checkbox]:checked");if(checked.length>0){event.stopPropagation();return}checkParent(ck.attr("value"),type)}function checkParent(id,type){var node=tree.getParentNodeById(id);if(node==null){return}if(!tree.setting.checkInherit){return}tree.config.treeObj.find("#ckb_"+node.id).prop("checked",type);if(node.pid!=0){checkParent(node.id,type)}}event.stopPropagation()})},checkBoxEvent:function(ck,event){},setCheckNodes:function(nodeIdsArr,bool){$.each(nodeIdsArr,function(i,v){tree.config.treeObj.find("#ckb_"+v).prop("checked",true);var obj=tree.config.treeObj.find(".tree-items[tbindex='"+v+"']");if(bool){tree.expandNodes(obj,true)}})},getCheckedNodes:function(){var nodes=[];tree.config.treeObj.find("input[type=checkbox]:checked").each(function(){var id=$(this).attr("value");var node=tree.getNodeById(id);nodes.push(node)});return nodes},getUnique:function(arr){var data=[];var obj={};for(var i=0;i<arr.length;i++){obj[arr[i]]=arr[i]}for(key in obj){if(obj.hasOwnProperty(key)){data.push(key)}}return data},getSelectedNode:function(){var obj=tree.config.treeObj.find(".tree-items.current");var tbindex=obj.attr("tbindex");if(tbindex!=null){return tree.config.nodes[tbindex]}},getNodeById:function(id){return tree.config.nodes[id]},getNodeDomById:function(id){return tree.config.treeObj.find(".tree-items[tbindex='"+id+"']")},getNodeLiDomById:function(id){return tree.config.treeObj.find("#tree_li_"+$.escapeSelector(id))},getNodeLevel:function(id){var li=tree.getNodeLiDomById(id);if(li!=null){return li.attr("level")}else{return"0"}},removeNodeLiById:function(id){tree.config.treeObj.find("#tree_li_"+id).remove()},getParentNodeById:function(id){var node=tree.getNodeById(id);if(node==null){return null}return tree.getNodeById(node.pid)},getRootNode:function(){var root=[];$.each(tree.config.nodes,function(i,value){if(value.pid==null){root.push(value)}});return root},isChildren:function(sourceNodeDom,targetNodeDom){var b=false;var pid=targetNodeDom.attr("tbindex")?targetNodeDom.attr("tbindex"):targetNodeDom.attr("id").substring(8);var sourceId=sourceNodeDom.attr("tbindex");var children=tree.getNodeIdsByPid(pid);for(var i=0;i<children.length;i++){if(sourceId==children[i]){b=true;break}}return b},isLeafNode:function(targetNodeDom,sourceNodeDom){var sourceId=targetNodeDom.attr("tbindex")?targetNodeDom.attr("tbindex"):targetNodeDom.attr("id").substring(8);var pid=sourceNodeDom.attr("tbindex");var pids=[];tree.getParentIdsById(sourceId,pids);for(var i=0;i<pids.length;i++){if(pid==pids[i]){return true}}return false},getNodeIdsByPid:function(id){var data=[];$.each(tree.config.nodes,function(i,value){if(value.pid==id){data.push(value.id)}});return data},getParentIdsById:function(id,pids){var node=tree.getNodeById(id);if(node!=undefined&&node.pid!=null){pids.push(node.pid);tree.getParentIdsById(node.pid,pids)}},getChildrenByPid:function(id){var data=[];function getChildren(id){var newData=[];$.each(tree.config.nodes,function(i,value){if(value.pid==id){newData.push(value);if(value.open!=null){var nodes=getChildren(value.id);$.each(nodes,function(j,v){newData.push(v)})}}});return newData}data=getChildren(id);return data},getNodesByPid:function(id,data,containParent){data=data||[];containParent=containParent!=null?containParent:true;var dataSource=tree.config.data;for(var i=0;i<dataSource.length;i++){var node=dataSource[i];if(node.pid==id){if(!containParent){if(node.open==null){data.push(node)}}else{data.push(node)}tree.getNodesByPid(node.id,data,containParent)}}return data},clickToExpand:function(){tree.config.treeObj.find(".tree-items[parent]").off("click.expand").on("click.expand",function(){var obj=$(this);tree.expandNode(obj)})},dblClickToExpand:function(){tree.config.treeObj.find(".tree-items[parent]").off("dblclick.expand").on("dblclick.expand",function(){var obj=$(this);if(tree.setting.event.dblClick!=null){tree.setting.event.dblClick()}if(!tree.setting.opDefDblClick){tree.expandNode(obj)}})},rootIconClick:function(){tree.config.treeObj.find(".tree-items[parent]").find("span[nodestate]").off("mouseup.expand").on("mouseup.expand",function(e){if(e.which==3){return}var obj=$(this).parent();tree.expandNode(obj,null,{nodestateClick:true})});if(tree.setting.dblClickToExpand){tree.config.treeObj.find(".tree-items[parent]").find("span[nodestate]").off("dblclick.expand").on("dblclick.expand",function(e){e.stopPropagation()});tree.dblClickToExpand()}else{tree.config.treeObj.find(".tree-items[parent]").find("span[nodestate]").off("click.expand").on("click.expand",function(e){e.stopPropagation()});tree.clickToExpand()}},showOrHide:function(isParent,obj,keepOpen){if(isParent!=null){var id=obj.parent().attr("li_index");if(obj.next().css("display")=="none"||obj.next().css("display")==null){if(tree.setting.animate){obj.next().slideDown(tree.setting.animateTime)}else{obj.next().show()}tree.changeIcon(id,"open");if(this.setting.rememberNode){$.cookie("tree_node",id,{expires:30})}if(tree.setting.event!=null&&tree.setting.event.afterExpand!=null){tree.setting.event.afterExpand(tree)}}else{if(keepOpen&&keepOpen!=null){if(tree.setting.animate){obj.next().slideDown(tree.setting.animateTime)}else{obj.next().show()}return;tree.changeIcon(id,"open");if(this.setting.rememberNode){$.cookie("tree_node",id,{expires:30})}if(tree.setting.event!=null&&tree.setting.event.afterExpand!=null){tree.setting.event.afterExpand(tree)}}else{if(!keepOpen&&keepOpen!=null){if(tree.setting.animate){obj.next().slideUp(tree.setting.animateTime)}else{obj.next().hide()}tree.changeIcon(id,"close")}else{if(tree.setting.animate){obj.next().slideUp(tree.setting.animateTime)}else{obj.next().hide()}tree.changeIcon(id,"close");if(tree.setting.event!=null&&tree.setting.event.afterCollapse!=null){tree.setting.event.afterCollapse(tree)}}}}tree.changeRootIcon(obj)}},changeToFolder:function(id){var obj=tree.getNodeDomById(id);var nodeIcon=obj.find("#tree_icon_"+id);var switchIcon=$("<span nodestate id='tree_switch_"+id+"' class='root-open'></span>");if(!$("#tree_switch_"+id).length){obj.find(".line-items:first").remove();nodeIcon.before(switchIcon)}nodeIcon.removeClass("root-doc").addClass("root-file");obj.attr("parent","")},changeToNormal:function(id){var obj=tree.getNodeDomById(id);if(tree.config.treeObj.find("#tree_ul_"+id).html()==null||tree.config.treeObj.find("#tree_ul_"+id).html()==""){obj.removeAttr("parent");obj.find("#tree_icon_"+id).removeClass("root-file").addClass("root-doc");obj.find("[nodestate]").before("<span class='line-items'></span>");obj.find("[nodestate]").remove()}},expandNode:function(obj,keepOpen,params){var isParent=obj.attr("parent");if(tree.setting.event!=null&&tree.setting.event.beforeExpand!=null){var node=tree.config.nodes[(obj.attr("tbindex")+"")];tree.setting.event.beforeExpand(node,params)}tree.showOrHide(isParent,obj,keepOpen)},expandNodes:function(obj,expandParent,currentStyle,keepOpen,params){var b=false;if(keepOpen){b=true}if(obj.next().is(":hidden")||obj.next().css("display")=="none"||obj.next().css("display")==null||obj.next().length==0){var isParent=obj.attr("parent");if(currentStyle!=null&&currentStyle){this.config.treeObj.find(".tree-items").remove("current");obj.addClass("current")}if(expandParent){var parentNode=tree.getParentNodeById(obj.attr("tbindex"));if(parentNode!=null){var nodeObj=tree.getNodeDomById(parentNode.id);tree.expandNodes(nodeObj,true,false,keepOpen,params)}}if(tree.setting.event!=null&&tree.setting.event.beforeExpand!=null){var node=tree.config.nodes[obj.attr("tbindex")];tree.setting.event.beforeExpand(node,{tree:tree,params:params})}tree.showOrHide(isParent,obj,b)}},selectNode:function(id,expandParent){var obj=tree.getNodeDomById(id);if(obj==null){return}tree.config.treeObj.find(".tree-items").removeClass("current");obj.addClass("current");if(expandParent){var pids=[];tree.getParentIdsById(id,pids);for(var i=0;i<pids.length;i++){var pNode=pids[i];var objDom=tree.getNodeDomById(pNode);tree.showOrHide(true,objDom,true)}}},cancelSelectNode:function(){tree.config.treeObj.find(".tree-items").removeClass("current")},changeIcon:function(id,type){var obj=tree.config.nodes[id];if(type=="open"){var iconOpen=obj.iconOpen;if(iconOpen!=null){tree.config.treeObj.find("#tree_icon_"+id).css({background:"url("+iconOpen+") no-repeat"})}}else{if(type=="close"){var iconClose=obj.iconClose;if(iconClose!=null){tree.config.treeObj.find("#tree_icon_"+id).css({background:"url("+iconClose+") no-repeat"})}}}},changeClass:function(obj){tree.config.treeObj.find(".tree-items").removeClass("current");obj.addClass("current")},changeRootIcon:function(obj){if(obj.find("[nodestate]").hasClass("root-open")){obj.find("[nodestate]").removeClass("root-open").addClass("root-close");var nodeFirst=tree.config.treeObj.find("li[level=0]");if(nodeFirst.length>1){tree.config.treeObj.find("[nodestate]:first").addClass("start")}else{tree.config.treeObj.find("[nodestate]:first").addClass("first").removeClass("end")}}else{obj.find("[nodestate]").removeClass("root-close").addClass("root-open")}},focusNode:function(id){var obj=this.getNodeDomById(id);tree.config.treeObj.find(".tree-items").removeClass("current");obj.addClass("current")},collapse:function(obj,nodeId){obj.next().hide();tree.changeIcon(tree.config.data,nodeId,"close");tree.changeRootIcon(obj)},beforeExpand:function(treeNode,callback){var b=false;var node=tree.getNodesByPid(treeNode.id);if(node!=null){b=true}else{}return b},onExpand:function(treeNode){if(this.beforeExpand(treeNode)){return true}else{return false}},onClick:function(callback,e){tree.config.treeObj.find(".tree-items").off("click.nodeClick").on("click.nodeClick",function(e){var tbindex=$(this).attr("tbindex");var treeNode=tree.config.nodes[tbindex];if(callback!=null){callback(treeNode,e);e.stopPropagation()}});tree.config.treeObj.find(".tree-items").find("span[nodestate]").off("click.nodeClick").on("click.nodeClick",function(e){e.stopPropagation()})},onDblClick:function(){tree.config.treeObj.find(".tree-items").off("dblclick.nodeClick").on("dblclick.nodeClick",function(e){var obj=$(this);var id=obj.attr("tbindex");var node=tree.config.nodes[id];if(node.boOpenModelFlag){tree.setting.event.onDblClick(node)}if(node.leaf==true){tree.setting.event.onDblClick(node);return}if(obj.attr("parent")!=null){return}tree.setting.event.onDblClick(node)})},onMouseDownRight:function(){tree.config.treeObj.find(".tree-items").on("mousedown",function(e){if(e.which==3){var temp=$(this);var id=temp.attr("tbindex");var node=tree.config.nodes[id];if(node!=null&&node.menu!=null&&node.menu==false){return}tree.config.treeObj.find(".tree-items").removeClass("current");var contextMenu=tree.setting.contextMenu;temp.addClass("current");var target=$(contextMenu.target);var winWidth=window.innerWidth;var left=e.pageX;if(target.width()+left>winWidth){left=winWidth-target.width()-2}var options={left:left,top:e.pageY,target:temp,items:contextMenu.items,useTargetPosition:false};target.menu(options);e.stopPropagation();$(document).off("contextmenu").on("contextmenu",function(){return false})}})},moveObj:null,moveNode:null,moveIndex:0,moveParentObj:null,onMouseDown:function(callback,type){tree.config.treeObj.find(".tree-items").off("mousedown.mousedown").on("mousedown.mousedown",function(e){if(e.which==3){tree.config.treeObj.find(".tree-items").off("mouseup.mouseup");tree.config.treeObj.find(".tree-items").off("mousemove.drag");tree.config.treeObj.find(".tree-items").find(".tree-items-sep").off("mouseenter.sep");return}var tbindex=$(this).attr("tbindex");var treeNode=tree.config.nodes[tbindex];if(callback!=null&&type==null){callback(treeNode)}else{if(type=="sort"){if(treeNode.dragable==false){return}var b=false;if(tree.setting.event.beforeDrag!=null){b=tree.setting.event.beforeDrag(treeNode)}tree.moveNode=treeNode;if(b){tree.moveIndex=tbindex;tree.onMouseEnter();tree.onMouseUp(null,"sort");tree.treeItemSepMouseUp(null,"sort");tree.onMouseMove("",tree.moveObj,e.pageY)}}}})},onMouseUp:function(callback,type){tree.config.treeObj.find(".tree-items").off("mouseup.mouseup").on("mouseup.mouseup",function(e){var temp=$(this);var tbindex=temp.attr("tbindex");var treeNode=tree.config.nodes[tbindex];var parentLi=temp.parent();if(callback!=null&&type==null){callback(treeNode)}else{if(type=="sort"){if(tbindex==tree.moveIndex){}else{if(tree.moveObj!=null){if(tree.isLeafNode(temp.parent(),tree.moveObj)||(tree.moveObj.attr("parent")==""&&tree.isChildren(temp.parent(),tree.moveObj))){}else{if((treeNode.dropable==true||treeNode.dropable==null)){var b=false;if(tree.setting.event.beforeDrop!=null){if(tree.moveObj.find("span:first").hasClass("insert")){b=tree.setting.event.beforeDrop(treeNode,tree.moveNode,"below")}else{b=tree.setting.event.beforeDrop(treeNode,tree.moveNode)}}if(b){var sourceNode=tree.config.nodes[tree.moveIndex];tree.config.nodes[(tree.moveIndex+"")]=sourceNode;if(tree.setting.event.onDrop!=null){if(tree.moveObj.find("span:first").hasClass("insert")){tree.setting.event.onDrop(treeNode,tree.moveNode,"below");if(treeNode.pid!=null){sourceNode.pid=treeNode.pid}else{sourceNode.pid=null}}else{tree.setting.event.onDrop(treeNode,tree.moveNode);if(treeNode.pid!=null){sourceNode.pid=treeNode.id}else{sourceNode.pid=null}}}}}}}}$(".tree-items").off("mousemove.drag");$(".tree-items").find(".tree-items-sep").off("mouseenter.sep");$(".tree-items").find("span[tit]").off("mouseenter.drag");tree.moveObj=null;if(tree.moveParentObj!=null){tree.changeToNormal(tree.moveParentObj.attr("tbindex"))}$(".tree-items").find("span[tit]").removeClass("tree-items-mouseenter");$(".tree-items-mousedown-curr").remove();tree.moveParentObj=null}}})},onMouseMove:function(type,obj,y){tree.config.treeObj.find(".tree-items").off("mousemove.drag").on("mousemove.drag",function(e){if(tree.moveObj==null){var top=e.pageY;if(Math.abs(top-y)<5){return}var node=$(this).clone(true);node.find("div.awsui-iconfont").remove();tree.moveObj=node.appendTo("body").off("mousedown.mousedown");tree.moveParentObj=$(this).parent().parent().prev();tree.moveObj.find("span:first").addClass("ui-tree-icons inner")}tree.moveObj.css({left:e.pageX+15,top:e.pageY+15});if(!tree.moveObj.hasClass("tree-items-mousedown-curr")){tree.moveObj.addClass("tree-items-mousedown-curr")}})},onMouseEnter:function(){tree.config.treeObj.find(".tree-items").find("span[tit]").off("mouseenter.drag").on("mouseenter.drag",function(e){var th=$(this);th.addClass("tree-items-mouseenter");var parent=th.parent();if(parent.attr("parent")!=null&&parent.attr("tbindex")!=tree.moveObj.attr("tbindex")){tree.expandNodes(parent)}if(th.hasClass("nodrop")){tree.moveObj.find("span:first").addClass("ui-tree-icons nodrop").removeClass("insert").removeClass("inner")}else{if(!tree.moveObj.find("span:first").hasClass("inner")){tree.moveObj.find("span:first").addClass("ui-tree-icons inner").removeClass("insert")}}}).off("mouseleave.drag").on("mouseleave.drag",function(e){var th=$(this);th.removeClass("tree-items-mouseenter");if(th.hasClass("nodrop")){if(tree.moveObj!=null){tree.moveObj.find("span:first").removeClass("nodrop")}}});$(".tree-items").find(".tree-items-sep").off("mouseenter.sep").on("mouseenter.sep",function(e){$(this).addClass("tree-items-sep-line");if(tree.moveObj!=null){if(!tree.moveObj.find("span:first").hasClass("insert")){tree.moveObj.find("span:first").addClass("ui-tree-icons insert").removeClass("inner")}}}).off("mouseleave.sep").on("mouseleave.sep",function(e){$(this).removeClass("tree-items-sep-line")})},treeItemSepMouseUp:function(callback){tree.config.treeObj.find(".tree-items").find(".tree-items-sep").off("mouseup.sep").on("mouseup.sep",function(event){if(tree.moveObj!=null){var dropSort="below";var temp=$(this);var parentAttr=temp.parent().attr("parent");if(parentAttr!=undefined&&parentAttr!=null&&parentAttr.length>0){temp=$(this).parent().next("ul").find("div[sep-index]:first");dropSort="above"}if(tree.isLeafNode(temp.parent(),tree.moveObj)||(tree.moveObj.attr("parent")!=null&&tree.moveObj.attr("parent")==""&&tree.isChildren(temp.parent(),tree.moveObj))){}else{var tbindex=temp.attr("sep-index");var treeNode=tree.config.nodes[tbindex];var sourceIndex=tree.moveObj.attr("tbindex");var text=$(this).parent().text();var b=false;if(tree.setting.event.beforeDrop!=null){if(tree.moveObj.find("span:first").hasClass("insert")){b=tree.setting.event.beforeDrop(treeNode,tree.moveNode,dropSort)}else{b=tree.setting.event.beforeDrop(treeNode,tree.moveNode)}}if(b&&tree.setting.event.onDrop!=null){if(tree.moveObj.find("span:first").hasClass("insert")){tree.setting.event.onDrop(treeNode,tree.moveNode,dropSort)}else{tree.setting.event.onDrop(treeNode,tree.moveNode)}var pindex=tree.getParentIndex($(this).parent().attr("tbindex"));var sourceNode=tree.config.nodes[sourceIndex];if(treeNode.pid!=null){sourceNode.pid=treeNode.pid}else{sourceNode.pid=null}tree.config.nodes[sourceIndex]=sourceNode;tree.refreshDataFromNodes();if(tree.setting.event.afterDrop!=null){tree.setting.event.afterDrop()}}}}$(".tree-items").find("span[tit]").off("mouseenter.drag");$(".tree-items").off("mousemove.drag");$(".tree-items").find(".tree-items-sep").off("mouseup.sep");$(".tree-items-mousedown-curr").remove();$(".tree-items").off("mousemove.drag");$(".tree-items").find(".tree-items-sep").off("mouseenter.sep");$(".tree-items").find("span[tit]").off("mouseenter.drag").removeClass("tree-items-mouseenter");tree.changeToNormal(tree.moveParentObj.attr("tbindex"));tree.moveObj=null;tree.moveParentObj=null;event.stopPropagation();tree.initEvent();tree.initStyles()})},destroy:function(){tree.config.treeObj.html("")}};tree.setting=$.extend(true,tree.setting,options);if(tree.setting.dataModel.url!=""){var result=tree.getData(tree.setting.dataModel);tree.setting.dataModel.data=result}tree.config.data=tree.setting.dataModel.data;tree.config.treeObj=obj;tree.config.treeObj.addClass("ui-tree");tree.buildTree(tree.config.data);tree.resizeTree();$(window).bind("selectstart",function(){});return tree}};awsui.tabs={init:function(d,a){var c={config:{height:"33",nogradient:false},memory:[],scrollObj:{},tabObj:null,tabContainer:null,tabContentPanel:null,addTab:function(e,i){e=$.extend(a,e);var g=e.item;if(c.existsTab(g.index)){c.focusTab(g.index,e);return}c.tabContainer.find(".awsui-tabs-items[index]").removeClass("current");c.tabContainer.find(".awsui-tabs-items[index]").children().children().removeClass("awsui-tab-curent-text");var f=$("<div index="+g.index+" class='awsui-tabs-items "+a.tabPosition+"'><span>"+g.title+"</span></div>").appendTo(c.tabContainer);e.contentPanel.find(".awsui-tab-content-item").removeClass("awsui-tab-this");if(g&&g.content){e.contentPanel.append(g.content);g.content.addClass("awsui-tab-this");g.content.bind("mousewheel",function(k){k.stopPropagation();var j=$(this);var l=c.tabContentPanel.scrollTop();c.scrollObj["item"+g.index]=l})}f.css({height:a.height-8,"line-height":(a.height-7)+"px"});f.addClass("current");$(".current").children().children().addClass("awsui-tab-curent-text");if(e.contextMenu){c.initContextMenu(g.index)}c.bindClick(g);if(e.close){var h=$("<span class='awsui-tabs-icon close'></span>").appendTo(f);h.off("click.tabclose").on("click.tabclose",function(k){var j=c.onCloseTab(h.parent());if(j!==false){c.closeTab(g.index,e)}k.stopPropagation()})}c.focusTab(g.index);c.resizeTab(f);if(i!=null){i()}},onCloseTab:function(f){var e=true;if(a.onCloseTab!=null){e=a.onCloseTab(f)}return e},closeTab:function(e,i){var j=this;var l=c.tabObj.find('.awsui-tabs-items[index="'+e+'"]');if(i!=null&&i=="all"){var k=null;c.tabObj.find(".awsui-tabs-items").each(function(){if($(this).find(".awsui-tabs-icon.close").length>0){var m=$(this).attr("index");$('.awsui-layout-iframe[index="'+m+'"]').remove();$(this).remove();if($.inArray(m,j.memory)>=0){j.memory.splice($.inArray(m,j.memory),1)}}});c.resizeTab("remove");var f=this.memory.length;if(f>0){var h;if(f<2){h=this.memory[0]}else{h=this.memory[f-1]}var g=this.getTabItem(h);c.focusTab(g,setting)}}else{if(i!=null&&i=="others"){c.tabObj.find(".awsui-tabs-items").each(function(){var m=$(this).attr("index");if(e!=m&&$(this).find(".awsui-tabs-icon.close").length>0){$('.awsui-layout-iframe[index="'+m+'"]').remove();$(this).remove()}});c.focusTab(e);c.resizeTab("remove")}else{if($.inArray(e,this.memory)>=0){this.memory.splice($.inArray(e,this.memory),1)}var f=this.memory.length;if(l.hasClass("current")){var h;if(f<2){h=this.memory[0]}else{h=this.memory[f-1]}var g=this.getTabItem(h);c.focusTab(g)}$('.awsui-layout-iframe[index="'+e+'"]').remove();l.remove();if(a.contentPanel.children().length!=0){a.contentPanel.find('.awsui-tab-content-item[index="'+e+'"]').remove();$(c.tabObj[0]).find(".awsui-tabs-items").eq(parseInt(e-2)).addClass("current");$(c.tabObj[0]).find(".awsui-tabs-items[index="+(parseInt(e)-1)+"]").children().children().addClass("awsui-tab-curent-text");a.contentPanel.find(".awsui-tab-content-item").eq(parseInt(e-2)).addClass("awsui-tab-this")}c.resizeTab("remove");return}}},focusTab:function(h){c.tabContentPanel.scrollTop(0);$(".awsui-tabs-container.top").css("border-bottom","1px solid #e9e9e9");if(typeof h=="object"){var f=h.attr("index");var g={};g.beforeTabIndex=c.getCurrentTab().attr("index");$('.awsui-tabs-items[index="'+g.beforeTabIndex+'"]').children().children().removeClass("awsui-tab-curent-text");c.tabContainer.find("div[index]").removeClass("current");h.addClass("current");h.children().children().addClass("awsui-tab-curent-text");if(a.contentPanel.children().length>0){$('.awsui-tab-content-item[index="'+f+'"]').siblings().removeClass("awsui-tab-this");$('.awsui-tab-content-item[index="'+f+'"]').addClass("awsui-tab-this");$.each(c.scrollObj,function(k,l){var j=k.split("item")[1];if(j==f){c.tabContentPanel.scrollTop(l);c.tabContentPanel.attr("data-scrollTop",l)}})}$('.awsui-layout-iframe[index="'+f+'"]').show().siblings(".awsui-layout-iframe").hide();if($.inArray(f,this.memory)>=0){this.memory.splice($.inArray(f,this.memory),1)}if(f!=null){this.memory.push(f)}c.resizeTab(h);if(a.afterClick!=null){b=a.afterClick(h)}if(a.focusShowAfter!=null&&h.beforeTabIndex!=f){var e=h.text();g.title=e;g.index=f;a.focusShowAfter(g)}c.tabObj.trigger("scrollCustom",{focusTab:h})}else{var g=c.getTabItem(h);g.siblings().each(function(){$(this).children().children().removeClass("awsui-tab-curent-text")});g.children().children().addClass("awsui-tab-curent-text");c.focusTab(g)}},getTabFirst:function(){var e=c.tabObj.find(".awsui-tabs-items[index]:first");return e},getTabLast:function(){var e=c.tabObj.find(".awsui-tabs-items[index]:last");return e},getCurrentTab:function(){var e=c.tabObj.find(".awsui-tabs-items[index].current");return e},getTabItem:function(e){var f=c.tabObj.find('.awsui-tabs-items[index="'+e+'"]');return f},changeIndex:function(e,f,h){var g=this.getTabItem(e);if(g!=null){g.attr("index",f)}if($(".awsui-layout-iframe[index="+e+"]").length){$(".awsui-layout-iframe[index="+e+"]").attr("index",f)}var i={index:f,title:g.html()};this.bindClick(i,h)},removeAllTabs:function(){c.tabObj.find(".awsui-tabs-items[index]").remove();this.memory=[]},setTitle:function(e,h){var f=c.getTabItem(e);var g;f.find(".awsui-tabs-icon.close").length==0?g=false:g=true;if(g){f.html(h+"<span class='awsui-tabs-icon close'></span>");var i=f.find(".awsui-tabs-icon.close").eq(0);i.off("click.tabclose").on("click.tabclose",function(k){var j=c.onCloseTab(i.parent());if(j!==false){c.closeTab(e)}k.stopPropagation()})}else{f.html(h)}},getTabItemPrev:function(e){var f=c.tabObj.find('.awsui-tabs-items[index="'+e+'"]');return f.prev()},existsTab:function(e){var f=false;c.tabContainer.find(".awsui-tabs-items[index]").each(function(){var g=$(this).attr("index");if(g==e){f=true;current_item=$(this)}});return f},isOverWidth:function(){var f=c.tabObj.outerWidth();var e=0;c.tabObj.find(".awsui-tabs-items").each(function(){e+=$(this).outerWidth()});return(f>0&&(e>=f-25))},resizeTab:function(e){if(c.isOverWidth()){if(!$(".awsui-tabs-items-prev").length){f()}c.bindMove(e)}else{if(e=="remove"){c.tabContainer.animate({left:"0px"},50)}g()}function f(){c.tabObj.append("<span class='awsui-tabs-items-prev'></span><span class='awsui-tabs-items-next'></span>");c.tabObj.find(".awsui-tabs-items-prev, .awsui-tabs-items-next").css({height:a.height-1})}function g(){if(c.tabObj.find(".awsui-tabs-items-next").length){c.tabObj.find(".awsui-tabs-items-next").remove();c.tabObj.find(".awsui-tabs-items-prev").remove()}}},bindMove:function(e){if(e!=null&&e=="remove"){var i=$(".awsui-tabs-items-prev").offset().left;var l=c.tabContainer.find(".awsui-tabs-items:first");var h=l.offset().left;if(h>=i){return}c.tabContainer.animate({left:"=+"+l.outerWidth()},200,function(){})}else{if(typeof e=="object"){if(e==null){return}var k=e.offset().left;var m=$(".awsui-tabs-items-prev").offset().left;var f=$(".awsui-tabs-items-next").offset().left;if(k<=f&&(k+e.outerWidth())>f){g("right");$(".awsui-tabs-items-prev").removeClass("hide")}else{if(k<=m&&(k+e.outerWidth())>m){c.tabContainer.stop().animate({left:"+="+(m-k+25)},200);$(".awsui-tabs-items-next").removeClass("hide")}else{if((k+e.outerWidth())<m){g("left")}else{if(k>f){g("right")}}}}if(c.tabContainer.find(".awsui-tabs-items:first").attr("index")==e.attr("index")){$(".awsui-tabs-items-next").removeClass("hide")}if(c.tabContainer.find(".awsui-tabs-items:last").attr("index")==e.attr("index")){$(".awsui-tabs-items-prev").removeClass("hide")}}}$(".awsui-tabs-items-prev").off().on("mousedown",function(){j("scroll_right")});$(".awsui-tabs-items-next").off().on("mousedown",function(){j("scroll_left")});function j(p){if(p=="scroll_left"){var q=$(".awsui-tabs-items-next").offset().left;var s=c.tabContainer.find(".awsui-tabs-items:last").offset().left;var n=c.tabContainer.find(".awsui-tabs-items:last").outerWidth();if(s+n<=q-7){return}c.tabContainer.stop().animate({left:"-="+n},200,function(){s=c.tabContainer.find(".awsui-tabs-items:last").offset().left;if(s+n<=q-7){$(".awsui-tabs-items-next").addClass("hide");c.tabContainer.css({right:0+"px"})}if($(".awsui-tabs-items-prev").hasClass("hide")){$(".awsui-tabs-items-prev").removeClass("hide")}})}else{if(p=="scroll_right"){var q=$(".awsui-tabs-items-prev").offset().left;var s=c.tabContainer.find(".awsui-tabs-items:first").offset().left;var o=c.tabContainer.find(".awsui-tabs-items:first").outerWidth();if(s>=q+7){return}c.tabContainer.stop().animate({left:"+="+o},200,function(){s=c.tabContainer.find(".awsui-tabs-items:first").offset().left;if(s>=q+5){$(".awsui-tabs-items-prev").addClass("hide");c.tabContainer.stop().animate({left:0+"px"},50)}if($(".awsui-tabs-items-next").hasClass("hide")){$(".awsui-tabs-items-next").removeClass("hide")}})}}}function g(p){if(p=="left"){c.tabContainer.stop().animate({left:"0px"},50)}else{if(p=="right"){var q=$(".awsui-tabs-items-next").offset().left;var s=c.tabContainer.data("left")||c.tabContainer.find(".awsui-tabs-items:last").offset().left;var n=c.tabContainer.find(".awsui-tabs-items:last").outerWidth();if(s+n<=q-7){return}var o=(k+e.outerWidth()-f+10);s-=o;c.tabContainer.data("left",s);c.tabContainer.stop().animate({left:"-="+o},200)}}}},bindClick:function(f,e){c.tabObj.find('.awsui-tabs-items[index="'+f.index+'"]').off("click.tab").on("click.tab",function(){var g=true;if(a.onClick!=null){g=a.onClick(f)}if(g){c.focusTab(f.index,e)}})},initContextMenu:function(e,f){$('.awsui-tabs-items[index="'+e+'"]').off("mousedown").on("mousedown",function(k){var h=$(this);if(k.which==3){var j=k.pageX;var i=k.pageY;var l=[];if(f.close){l.push({text:关闭,tit:"closeMe",method:function(){c.closeTab(e);$("#"+f.contextMenuTarget).menu("close")}})}l.push({text:关闭其他,tit:"closeOthers",method:function(){c.closeTab(e,"others");$("#"+f.contextMenuTarget).menu("close")}});if(f.close){l.push({text:关闭全部,tit:"closeAll",method:function(){c.closeTab(e,"all");$("#"+f.contextMenuTarget).menu("close")}})}var g={left:j,top:i,items:l};$("#"+f.contextMenuTarget).menu(g);k.stopPropagation();$(document).off("contextmenu").on("contextmenu",function(){return false})}})},resizePage:function(g){var e=g.parent().height();var f=0;g.siblings(":visible").each(function(){if($(this).attr("id")==="window-mask"){return true}if($(this).hasClass("awsui-dialog")){return true}f+=$(this).height()});g.css({height:e-f-1})}};if(a.tabPosition==null){a.tabPosition="top"}a=$.extend(c.config,a);c.tabObj=d;c.tabObj.addClass("awsui-tabs").css({height:a.height});if(a.nogradient){c.tabObj.addClass("nogradient")}if(a.noborder){c.tabObj.addClass("awsui-no-border")}c.tabContainer=$("<div class='awsui-tabs-container "+a.tabPosition+"'></div>").appendTo(c.tabObj);c.tabContainer.css({height:a.height-1});if(a.contentPanel!=null){c.tabContentPanel=a.contentPanel;c.resizePage(a.contentPanel)}$(window).resize(function(){c.resizePage(a.contentPanel)});$(".awsui-tab-curent-text").css("color","options");return c}};
/*!
 * jQuery File Upload Plugin 5.40.3
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(c){if(typeof define==="function"&&define.amd){define(["jquery","jquery.ui.widget"],c)}else{c(window.jQuery)}}(function(c){c.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||c('<input type="file">').prop("disabled"));c.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);c.support.xhrFormDataFileUpload=!!window.FormData;c.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);c.widget("blueimp.fileupload",{options:{dropZone:c(document),pasteZone:c(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(d,a){d=this.messages[d]||d.toString();if(a){c.each(a,function(g,f){d=d.replace("{"+g+"}",f)})}return d},formData:function(a){return a.serializeArray()},add:function(d,a){if(d.isDefaultPrevented()){return false}if(a.autoUpload||(a.autoUpload!==false&&c(this).fileupload("option","autoUpload"))){a.process().done(function(){a.submit()})}},processData:false,contentType:false,cache:false},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:c.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=((Date.now)?Date.now():(new Date()).getTime());this.loaded=0;this.bitrate=0;this.getBitrate=function(g,h,a){var f=g-this.timestamp;if(!this.bitrate||!a||f>a){this.bitrate=(h-this.loaded)*(1000/f)*8;this.loaded=h;this.timestamp=g}return this.bitrate}},_isXHRUpload:function(a){return !a.forceIframeTransport&&((!a.multipart&&c.support.xhrFileUpload)||c.support.xhrFormDataFileUpload)},_getFormData:function(a){var d;if(c.type(a.formData)==="function"){return a.formData(a.form)}if(c.isArray(a.formData)){return a.formData}if(c.type(a.formData)==="object"){d=[];c.each(a.formData,function(g,f){d.push({name:g,value:f})});return d}return[]},_getTotal:function(d){var a=0;c.each(d,function(g,f){a+=f.size||1});return a},_initProgressObject:function(d){var a={loaded:0,total:0,bitrate:0};if(d._progress){c.extend(d._progress,a)}else{d._progress=a}},_initResponseObject:function(a){var d;if(a._response){for(d in a._response){if(a._response.hasOwnProperty(d)){delete a._response[d]}}}else{a._response={}}},_onProgress:function(e,g){if(e.lengthComputable){var h=((Date.now)?Date.now():(new Date()).getTime()),a;if(g._time&&g.progressInterval&&(h-g._time<g.progressInterval)&&e.loaded!==e.total){return}g._time=h;a=Math.floor(e.loaded/e.total*(g.chunkSize||g._progress.total))+(g.uploadedBytes||0);this._progress.loaded+=(a-g._progress.loaded);this._progress.bitrate=this._bitrateTimer.getBitrate(h,this._progress.loaded,g.bitrateInterval);g._progress.loaded=g.loaded=a;g._progress.bitrate=g.bitrate=g._bitrateTimer.getBitrate(h,a,g.bitrateInterval);this._trigger("progress",c.Event("progress",{delegatedEvent:e}),g);this._trigger("progressall",c.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(a){var f=this,e=a.xhr?a.xhr():c.ajaxSettings.xhr();if(e.upload){c(e.upload).bind("progress",function(h){var d=h.originalEvent;h.lengthComputable=d.lengthComputable;h.loaded=d.loaded;h.total=d.total;f._onProgress(h,a)});a.xhr=function(){return e}}},_isInstanceOf:function(a,d){return Object.prototype.toString.call(d)==="[object "+a+"]"},_initXHRData:function(l){var j=this,h,k=l.files[0],a=l.multipart||!c.support.xhrFileUpload,i=c.type(l.paramName)==="array"?l.paramName[0]:l.paramName;l.headers=c.extend({},l.headers);if(l.contentRange){l.headers["Content-Range"]=l.contentRange}if(!a||l.blob||!this._isInstanceOf("File",k)){l.headers["Content-Disposition"]='attachment; filename="'+encodeURI(k.name)+'"'}if(!a){l.contentType=k.type||"application/octet-stream";l.data=l.blob||k}else{if(c.support.xhrFormDataFileUpload){if(l.postMessage){h=this._getFormData(l);if(l.blob){h.push({name:i,value:l.blob})}else{c.each(l.files,function(e,d){h.push({name:(c.type(l.paramName)==="array"&&l.paramName[e])||i,value:d})})}}else{if(j._isInstanceOf("FormData",l.formData)){h=l.formData}else{h=new FormData();c.each(this._getFormData(l),function(e,d){h.append(d.name,d.value)})}if(l.blob){h.append(i,l.blob,k.name)}else{c.each(l.files,function(e,d){if(j._isInstanceOf("File",d)||j._isInstanceOf("Blob",d)){h.append((c.type(l.paramName)==="array"&&l.paramName[e])||i,d,encodeURI(d.uploadName||d.name))}})}}l.data=h}}l.blob=null},_initIframeSettings:function(a){var d=c("<a></a>").prop("href",a.url).prop("host");a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a);if(a.redirect&&d&&d!==location.host){a.formData.push({name:a.redirectParamName||"redirect",value:a.redirect})}},_initDataSettings:function(a){if(this._isXHRUpload(a)){if(!this._chunkedUpload(a,true)){if(!a.data){this._initXHRData(a)}this._initProgressListener(a)}if(a.postMessage){a.dataType="postmessage "+(a.dataType||"")}}else{this._initIframeSettings(a)}},_getParamName:function(a){var f=c(a.fileInput),e=a.paramName;if(!e){e=[];f.each(function(){var i=c(this),h=i.prop("name")||"files[]",d=(i.prop("files")||[1]).length;while(d){e.push(h);d-=1}});if(!e.length){e=[f.prop("name")||"files[]"]}}else{if(!c.isArray(e)){e=[e]}}return e},_initFormSettings:function(a){if(!a.form||!a.form.length){a.form=c(a.fileInput.prop("form"));if(!a.form.length){a.form=c(this.options.fileInput.prop("form"))}}a.paramName=this._getParamName(a);if(!a.url){a.url=a.form.prop("action")||location.href}a.type=(a.type||(c.type(a.form.prop("method"))==="string"&&a.form.prop("method"))||"").toUpperCase();if(a.type!=="POST"&&a.type!=="PUT"&&a.type!=="PATCH"){a.type="POST"}if(!a.formAcceptCharset){a.formAcceptCharset=a.form.attr("accept-charset")}},_getAJAXSettings:function(d){var a=c.extend({},this.options,d);this._initFormSettings(a);this._initDataSettings(a);return a},_getDeferredState:function(a){if(a.state){return a.state()}if(a.isResolved()){return"resolved"}if(a.isRejected()){return"rejected"}return"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(h,i,j){var a=c.Deferred(),g=a.promise();i=i||this.options.context||g;if(h===true){a.resolveWith(i,j)}else{if(h===false){a.rejectWith(i,j)}}g.abort=a.promise;return this._enhancePromise(g)},_addConvenienceMethods:function(e,g){var h=this,a=function(d){return c.Deferred().resolveWith(h,d).promise()};g.process=function(d,f){if(d||f){g._processQueue=this._processQueue=(this._processQueue||a([this])).pipe(function(){if(g.errorThrown){return c.Deferred().rejectWith(h,[g]).promise()}return a(arguments)}).pipe(d,f)}return this._processQueue||a([this])};g.submit=function(){if(this.state()!=="pending"){g.jqXHR=this.jqXHR=(h._trigger("submit",c.Event("submit",{delegatedEvent:e}),this)!==false)&&h._onSend(e,this)}return this.jqXHR||h._getXHRPromise()};g.abort=function(){if(this.jqXHR){return this.jqXHR.abort()}this.errorThrown="abort";h._trigger("fail",null,this);return h._getXHRPromise(false)};g.state=function(){if(this.jqXHR){return h._getDeferredState(this.jqXHR)}if(this._processQueue){return h._getDeferredState(this._processQueue)}};g.processing=function(){return !this.jqXHR&&this._processQueue&&h._getDeferredState(this._processQueue)==="pending"};g.progress=function(){return this._progress};g.response=function(){return this._response}},_getUploadedBytes:function(g){var a=g.getResponseHeader("Range"),f=a&&a.split("-"),h=f&&f.length>1&&parseInt(f[1],10);return h&&h+1},_chunkedUpload:function(a,u){a.uploadedBytes=a.uploadedBytes||0;var v=this,x=a.files[0],w=x.size,z=a.uploadedBytes,y=a.maxChunkSize||w,q=this._blobSlice,p=c.Deferred(),n=p.promise(),s,o;if(!(this._isXHRUpload(a)&&q&&(z||y<w))||a.data){return false}if(u){return true}if(z>=w){x.error=a.i18n("uploadedBytes");return this._getXHRPromise(false,a.context,[null,"error",x.error])}o=function(){var d=c.extend({},a),e=d._progress.loaded;d.blob=q.call(x,z,z+y,x.type);d.chunkSize=d.blob.size;d.contentRange="bytes "+z+"-"+(z+d.chunkSize-1)+"/"+w;v._initXHRData(d);v._initProgressListener(d);s=((v._trigger("chunksend",null,d)!==false&&c.ajax(d))||v._getXHRPromise(false,d.context)).done(function(h,f,g){z=v._getUploadedBytes(g)||(z+d.chunkSize);if(e+d.chunkSize-d._progress.loaded){v._onProgress(c.Event("progress",{lengthComputable:true,loaded:z-d.uploadedBytes,total:z-d.uploadedBytes}),d)}a.uploadedBytes=d.uploadedBytes=z;d.result=h;d.textStatus=f;d.jqXHR=g;v._trigger("chunkdone",null,d);v._trigger("chunkalways",null,d);if(z<w){o()}else{p.resolveWith(d.context,[h,f,g])}}).fail(function(h,f,g){d.jqXHR=h;d.textStatus=f;d.errorThrown=g;v._trigger("chunkfail",null,d);v._trigger("chunkalways",null,d);p.rejectWith(d.context,[h,f,g])})};this._enhancePromise(n);n.abort=function(){return s.abort()};o();return n},_beforeSend:function(d,a){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0}this._initResponseObject(a);this._initProgressObject(a);a._progress.loaded=a.loaded=a.uploadedBytes||0;a._progress.total=a.total=this._getTotal(a.files)||1;a._progress.bitrate=a.bitrate=0;this._active+=1;this._progress.loaded+=a.loaded;this._progress.total+=a.total},_onDone:function(a,h,i,k){var j=k._progress.total,l=k._response;if(k._progress.loaded<j){this._onProgress(c.Event("progress",{lengthComputable:true,loaded:j,total:j}),k)}l.result=k.result=a;l.textStatus=k.textStatus=h;l.jqXHR=k.jqXHR=i;this._trigger("done",null,k)},_onFail:function(i,g,h,j){var a=j._response;if(j.recalculateProgress){this._progress.loaded-=j._progress.loaded;this._progress.total-=j._progress.total}a.jqXHR=j.jqXHR=i;a.textStatus=j.textStatus=g;a.errorThrown=j.errorThrown=h;this._trigger("fail",null,j)},_onAlways:function(g,f,h,a){this._trigger("always",null,a)},_onSend:function(m,o){if(!o.submit){this._addConvenienceMethods(m,o)}var n=this,e,s,l,q,a=n._getAJAXSettings(o),p=function(){n._sending+=1;a._bitrateTimer=new n._BitrateTimer();e=e||(((s||n._trigger("send",c.Event("send",{delegatedEvent:m}),a)===false)&&n._getXHRPromise(false,a.context,s))||n._chunkedUpload(a)||c.ajax(a)).done(function(g,d,f){n._onDone(g,d,f,a)}).fail(function(g,d,f){n._onFail(g,d,f,a)}).always(function(d,h,f){n._onAlways(d,h,f,a);n._sending-=1;n._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>n._sending){var g=n._slots.shift();while(g){if(n._getDeferredState(g)==="pending"){g.resolve();break}g=n._slots.shift()}}if(n._active===0){n._trigger("stop")}});return e};this._beforeSend(m,a);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){l=c.Deferred();this._slots.push(l);q=l.pipe(p)}else{this._sequence=this._sequence.pipe(p,p);q=this._sequence}q.abort=function(){s=[undefined,"abort","abort"];if(!e){if(l){l.rejectWith(a.context,s)}return p()}return e.abort()};return this._enhancePromise(q)}return p()},_onAdd:function(i,x){var j=this,F=true,G=c.extend({},this.options,x),C=x.files,a=C.length,B=G.limitMultiFileUploads,z=G.limitMultiFileUploadSize,H=G.limitMultiFileUploadSizeOverhead,v=0,w=this._getParamName(G),D,E,e,y,A=0;if(z&&(!a||C[0].size===undefined)){z=undefined}if(!(G.singleFileUploads||B||z)||!this._isXHRUpload(G)){e=[C];D=[w]}else{if(!(G.singleFileUploads||z)&&B){e=[];D=[];for(y=0;y<a;y+=B){e.push(C.slice(y,y+B));E=w.slice(y,y+B);if(!E.length){E=w}D.push(E)}}else{if(!G.singleFileUploads&&z){e=[];D=[];for(y=0;y<a;y=y+1){v+=C[y].size+H;if(y+1===a||((v+C[y+1].size+H)>z)||(B&&y+1-A>=B)){e.push(C.slice(A,y+1));E=w.slice(A,y+1);if(!E.length){E=w}D.push(E);A=y+1;v=0}}}else{D=w}}}x.originalFiles=C;c.each(e||C,function(g,f){var d=c.extend({},x);d.files=e?f:[f];d.paramName=D[g];j._initResponseObject(d);j._initProgressObject(d);j._addConvenienceMethods(i,d);F=j._trigger("add",c.Event("add",{delegatedEvent:i}),d);return F});return F},_replaceFileInput:function(a){var d=a.clone(true);c("<form></form>").append(d)[0].reset();a.after(d).detach();c.cleanData(a.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(g,f){if(f===a[0]){return d[0]}return f});if(a[0]===this.element[0]){this.element=d}},_handleFileTreeEntry:function(m,k){var p=this,l=c.Deferred(),q=function(d){if(d&&!d.entry){d.entry=m}l.resolve([d])},o=function(d){p._handleFileTreeEntries(d,k+m.name+"/").done(function(e){l.resolve(e)}).fail(q)},n=function(){a.readEntries(function(d){if(!d.length){o(s)}else{s=s.concat(d);n()}},q)},a,s=[];k=k||"";if(m.isFile){if(m._file){m._file.relativePath=k;l.resolve(m._file)}else{m.file(function(d){d.relativePath=k;l.resolve(d)},q)}}else{if(m.isDirectory){a=m.createReader();n()}else{l.resolve([])}}return l.promise()},_handleFileTreeEntries:function(a,e){var f=this;return c.when.apply(c,c.map(a,function(d){return f._handleFileTreeEntry(d,e)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(d){d=d||{};var a=d.items;if(a&&a.length&&(a[0].webkitGetAsEntry||a[0].getAsEntry)){return this._handleFileTreeEntries(c.map(a,function(f){var g;if(f.webkitGetAsEntry){g=f.webkitGetAsEntry();if(g){g._file=f.getAsFile()}return g}return f.getAsEntry()}))}return c.Deferred().resolve(c.makeArray(d.files)).promise()},_getSingleFileInputFiles:function(g){g=c(g);var a=g.prop("webkitEntries")||g.prop("entries"),h,f;if(a&&a.length){return this._handleFileTreeEntries(a)}h=c.makeArray(g.prop("files"));if(!h.length){f=g.prop("value");if(!f){return c.Deferred().resolve([]).promise()}h=[{name:f.replace(/^.*\\/,"")}]}else{if(h[0].name===undefined&&h[0].fileName){c.each(h,function(e,d){d.name=d.fileName;d.size=d.fileSize})}}return c.Deferred().resolve(h).promise()},_getFileInputFiles:function(a){if(!(a instanceof c)||a.length===1){return this._getSingleFileInputFiles(a)}return c.when.apply(c,c.map(a,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(e){var a=this,f={fileInput:c(e.target),form:c(e.target.form)};this._getFileInputFiles(f.fileInput).always(function(d){f.files=d;if(a.options.replaceFileInput){a._replaceFileInput(f.fileInput)}if(a._trigger("change",c.Event("change",{delegatedEvent:e}),f)!==false){a._onAdd(e,f)}})},_onPaste:function(e){var a=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,f={files:[]};if(a&&a.length){c.each(a,function(i,d){var h=d.getAsFile&&d.getAsFile();if(h){f.files.push(h)}});if(this._trigger("paste",c.Event("paste",{delegatedEvent:e}),f)!==false){this._onAdd(e,f)}}},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var a=this,g=e.dataTransfer,h={};if(g&&g.files&&g.files.length){e.preventDefault();this._getDroppedFiles(g).always(function(d){h.files=d;if(a._trigger("drop",c.Event("drop",{delegatedEvent:e}),h)!==false){a._onAdd(e,h)}})}},_onDragOver:function(d){d.dataTransfer=d.originalEvent&&d.originalEvent.dataTransfer;var a=d.dataTransfer;if(a&&c.inArray("Files",a.types)!==-1&&this._trigger("dragover",c.Event("dragover",{delegatedEvent:d}))!==false){d.preventDefault();a.dropEffect="copy"}},_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop});this._on(this.options.pasteZone,{paste:this._onPaste})}if(c.support.fileInput){this._on(this.options.fileInput,{change:this._onChange})}},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(a,f){var e=c.inArray(a,this._specialOptions)!==-1;if(e){this._destroyEventHandlers()}this._super(a,f);if(e){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var a=this.options;if(a.fileInput===undefined){a.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]')}else{if(!(a.fileInput instanceof c)){a.fileInput=c(a.fileInput)}}if(!(a.dropZone instanceof c)){a.dropZone=c(a.dropZone)}if(!(a.pasteZone instanceof c)){a.pasteZone=c(a.pasteZone)}},_getRegExp:function(e){var f=e.split("/"),a=f.pop();f.shift();return new RegExp(f.join("/"),a)},_isRegExpOption:function(a,d){return a!=="url"&&c.type(d)==="string"&&/^\/.*\/[igm]{0,3}$/.test(d)},_initDataAttributes:function(){var f=this,a=this.options,e=c(this.element[0].cloneNode(false));c.each(e.data(),function(i,h){var d="data-"+i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(e.attr(d)){if(f._isRegExpOption(i,h)){h=f._getRegExp(h)}a[i]=h}})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(d){var a=this;if(!d||this.options.disabled){return}if(d.fileInput&&!d.files){this._getFileInputFiles(d.fileInput).always(function(e){d.files=e;a._onAdd(null,d)})}else{d.files=c.makeArray(d.files);this._onAdd(null,d)}},send:function(i){if(i&&!this.options.disabled){if(i.fileInput&&!i.files){var k=this,a=c.Deferred(),h=a.promise(),l,j;h.abort=function(){j=true;if(l){return l.abort()}a.reject(null,"abort","abort");return h};this._getFileInputFiles(i.fileInput).always(function(d){if(j){return}if(!d.length){a.reject();return}i.files=d;l=k._onSend(null,i);l.then(function(g,e,f){a.resolve(g,e,f)},function(g,e,f){a.reject(g,e,f)})});return this._enhancePromise(h)}i.files=c.makeArray(i.files);if(i.files.length){return this._onSend(null,i)}}return this._getXHRPromise(false,i&&i.context)}})}));
/*!
 * jQuery File Upload Processing Plugin 1.3.0
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(c){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.fileupload"],c)}else{c(window.jQuery)}}(function(d){var c=d.blueimp.fileupload.prototype.options.add;d.widget("blueimp.fileupload",d.blueimp.fileupload,{options:{processQueue:[],add:function(a,g){var e=d(this);g.process(function(){return e.fileupload("process",g)});c.call(this,a,g)}},processActions:{},_processFile:function(a,h){var i=this,k=d.Deferred().resolveWith(i,[a]),j=k.promise();this._trigger("process",null,a);d.each(a.processQueue,function(g,f){var e=function(l){if(h.errorThrown){return d.Deferred().rejectWith(i,[h]).promise()}return i.processActions[f.action].call(i,l,f)};j=j.pipe(e,f.always&&e)});j.done(function(){i._trigger("processdone",null,a);i._trigger("processalways",null,a)}).fail(function(){i._trigger("processfail",null,a);i._trigger("processalways",null,a)});return j},_transformProcessQueue:function(e){var a=[];d.each(e.processQueue,function(){var j={},h=this.action,i=this.prefix===true?h:this.prefix;d.each(this,function(g,f){if(d.type(f)==="string"&&f.charAt(0)==="@"){j[g]=e[f.slice(1)||(i?i+g.charAt(0).toUpperCase()+g.slice(1):g)]}else{j[g]=f}});a.push(j)});e.processQueue=a},processing:function(){return this._processing},process:function(a){var f=this,g=d.extend({},this.options,a);if(g.processQueue&&g.processQueue.length){this._transformProcessQueue(g);if(this._processing===0){this._trigger("processstart")}d.each(a.files,function(j){var e=j?d.extend({},g):g,i=function(){if(a.errorThrown){return d.Deferred().rejectWith(f,[a]).promise()}return f._processFile(e,a)};e.index=j;f._processing+=1;f._processingQueue=f._processingQueue.pipe(i,i).always(function(){f._processing-=1;if(f._processing===0){f._trigger("processstop")}})})}return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=d.Deferred().resolveWith(this).promise()}})}));
/*!
 * jQuery File Upload User Interface Plugin 9.5.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(c){if(typeof define==="function"&&define.amd){define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],c)}else{c(window.jQuery,window.tmpl)}}(function(c,d){c.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{autoUpload:false,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:undefined,prependFiles:false,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(a){if(a.result&&c.isArray(a.result.files)){return a.result.files}return[]},add:function(a,i){if(a.isDefaultPrevented()){return false}var e=c(this),j=e.data("blueimp-fileupload")||e.data("fileupload"),k=j.options;i.context=j._renderUpload(i.files).data("data",i).addClass("processing");k.filesContainer[k.prependFiles?"prepend":"append"](i.context);j._forceReflow(i.context);j._transition(i.context);i.process(function(){return e.fileupload("process",i)}).always(function(){i.context.each(function(f){c(this).find(".size").text(j._formatFileSize(i.files[f].size))}).removeClass("processing");j._renderPreviews(i)}).done(function(){i.context.find(".start").prop("disabled",false);if((j._trigger("added",a,i)!==false)&&(k.autoUpload||i.autoUpload)&&i.autoUpload!==false){i.submit()}}).fail(function(){if(i.files.error){i.context.each(function(f){var g=i.files[f].error;if(g){c(this).find(".error").text(g)}})}})},send:function(a,e){if(a.isDefaultPrevented()){return false}var g=c(this).data("blueimp-fileupload")||c(this).data("fileupload");if(e.context&&e.dataType&&e.dataType.substr(0,6)==="iframe"){e.context.find(".progress").addClass(!c.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%")}return g._trigger("sent",a,e)},done:function(a,e){if(a.isDefaultPrevented()){return false}var k=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),n=e.getFilesFromResponse||k.options.getFilesFromResponse,l=n(e),m,o;if(e.context){e.context.each(function(g){var f=l[g]||{error:"Empty file upload result"};o=k._addFinishedDeferreds();k._transition(c(this)).done(function(){var h=c(this);m=k._renderDownload([f]).replaceAll(h);k._forceReflow(m);k._transition(m).done(function(){e.context=c(this);k._trigger("completed",a,e);k._trigger("finished",a,e);o.resolve()})})})}else{m=k._renderDownload(l)[k.options.prependFiles?"prependTo":"appendTo"](k.options.filesContainer);k._forceReflow(m);o=k._addFinishedDeferreds();k._transition(m).done(function(){e.context=c(this);k._trigger("completed",a,e);k._trigger("finished",a,e);o.resolve()})}},fail:function(a,e){if(a.isDefaultPrevented()){return false}var i=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),j,k;if(e.context){e.context.each(function(g){if(e.errorThrown!=="abort"){var f=e.files[g];f.error=f.error||e.errorThrown||true;k=i._addFinishedDeferreds();i._transition(c(this)).done(function(){var h=c(this);j=i._renderDownload([f]).replaceAll(h);i._forceReflow(j);i._transition(j).done(function(){e.context=c(this);i._trigger("failed",a,e);i._trigger("finished",a,e);k.resolve()})})}else{k=i._addFinishedDeferreds();i._transition(c(this)).done(function(){c(this).remove();i._trigger("failed",a,e);i._trigger("finished",a,e);k.resolve()})}})}else{if(e.errorThrown!=="abort"){e.context=i._renderUpload(e.files)[i.options.prependFiles?"prependTo":"appendTo"](i.options.filesContainer).data("data",e);i._forceReflow(e.context);k=i._addFinishedDeferreds();i._transition(e.context).done(function(){e.context=c(this);i._trigger("failed",a,e);i._trigger("finished",a,e);k.resolve()})}else{i._trigger("failed",a,e);i._trigger("finished",a,e);i._addFinishedDeferreds().resolve()}}},progress:function(a,e){if(a.isDefaultPrevented()){return false}var g=Math.floor(e.loaded/e.total*100);if(e.context){e.context.each(function(){c(this).find(".progress").attr("aria-valuenow",g).children().first().css("width",g+"%")})}},progressall:function(e,k){if(e.isDefaultPrevented()){return false}var j=c(this),l=Math.floor(k.loaded/k.total*100),m=j.find(".fileupload-progress"),a=m.find(".progress-extended");if(a.length){a.html((j.data("blueimp-fileupload")||j.data("fileupload"))._renderExtendedProgress(k))}m.find(".progress").attr("aria-valuenow",l).children().first().css("width",l+"%")},start:function(a){if(a.isDefaultPrevented()){return false}var e=c(this).data("blueimp-fileupload")||c(this).data("fileupload");e._resetFinishedDeferreds();e._transition(c(this).find(".fileupload-progress")).done(function(){e._trigger("started",a)})},stop:function(a){if(a.isDefaultPrevented()){return false}var e=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),g=e._addFinishedDeferreds();c.when.apply(c,e._getFinishedDeferreds()).done(function(){e._trigger("stopped",a)});e._transition(c(this).find(".fileupload-progress")).done(function(){c(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");c(this).find(".progress-extended").html("&nbsp;");g.resolve()})},processstart:function(a){if(a.isDefaultPrevented()){return false}c(this).addClass("fileupload-processing")},processstop:function(a){if(a.isDefaultPrevented()){return false}c(this).removeClass("fileupload-processing")},destroy:function(e,h){if(e.isDefaultPrevented()){return false}var i=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),a=function(){i._transition(h.context).done(function(){c(this).remove();i._trigger("destroyed",e,h)})};if(h.url){h.dataType=h.dataType||i.options.dataType;c.ajax(h).done(a).fail(function(){i._trigger("destroyfailed",e,h)})}else{a()}}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(a){if(!a){a=c.Deferred()}this._finishedUploads.push(a);return a},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var a=c(this),h=a.prop("href"),i=a.prop("download"),g="application/octet-stream";a.bind("dragstart",function(f){try{f.originalEvent.dataTransfer.setData("DownloadURL",[g,i,h].join(":"))}catch(e){}})},_formatFileSize:function(a){if(typeof a!=="number"){return""}if(a>=1000000000){return(a/1000000000).toFixed(2)+" GB"}if(a>=1000000){return(a/1000000).toFixed(2)+" MB"}return(a/1000).toFixed(2)+" KB"},_formatBitrate:function(a){if(typeof a!=="number"){return""}if(a>=1000000000){return(a/1000000000).toFixed(2)+" Gbit/s"}if(a>=1000000){return(a/1000000).toFixed(2)+" Mbit/s"}if(a>=1000){return(a/1000).toFixed(2)+" kbit/s"}return a.toFixed(2)+" bit/s"},_formatTime:function(f){var g=new Date(f*1000),a=Math.floor(f/86400);a=a?a+"d ":"";return a+("0"+g.getUTCHours()).slice(-2)+":"+("0"+g.getUTCMinutes()).slice(-2)+":"+("0"+g.getUTCSeconds()).slice(-2)},_formatPercentage:function(a){return(a*100).toFixed(2)+" %"},_renderExtendedProgress:function(a){return this._formatBitrate(a.bitrate)+" | "+this._formatTime((a.total-a.loaded)*8/a.bitrate)+" | "+this._formatPercentage(a.loaded/a.total)+" | "+this._formatFileSize(a.loaded)+" / "+this._formatFileSize(a.total)},_renderTemplate:function(a,f){if(!a){return c()}var g=a({files:f,formatFileSize:this._formatFileSize,options:this.options});if(g instanceof c){return g}return c(this.options.templatesContainer).html(g).children()},_renderPreviews:function(a){a.context.find(".preview").each(function(g,f){c(f).append(a.files[g].preview)})},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(a){a.preventDefault();var i=c(a.currentTarget),h=i.closest(".template-upload"),e=h.data("data");i.prop("disabled",true);if(e&&e.submit){e.submit()}},_cancelHandler:function(a){a.preventDefault();var g=c(a.currentTarget).closest(".template-upload,.template-download"),e=g.data("data")||{};e.context=e.context||g;if(e.abort){e.abort()}else{e.errorThrown="abort";this._trigger("fail",a,e)}},_deleteHandler:function(a){a.preventDefault();var e=c(a.currentTarget);this._trigger("destroy",a,c.extend({context:e.closest(".template-download"),type:"DELETE"},e.data()))},_forceReflow:function(a){return c.support.transition&&a.length&&a[0].offsetWidth},_transition:function(a){var e=c.Deferred();if(c.support.transition&&a.hasClass("fade")&&a.is(":visible")){a.bind(c.support.transition.end,function(g){if(g.target===a[0]){a.unbind(c.support.transition.end);e.resolveWith(a)}}).toggleClass("in")}else{a.toggleClass("in");e.resolveWith(a)}return e},_initButtonBarEventHandlers:function(){var e=this.element.find(".fileupload-buttonbar"),a=this.options.filesContainer;this._on(e.find(".start"),{click:function(g){g.preventDefault();a.find(".start").click()}});this._on(e.find(".cancel"),{click:function(g){g.preventDefault();a.find(".cancel").click()}});this._on(e.find(".delete"),{click:function(g){g.preventDefault();a.find(".toggle:checked").closest(".template-download").find(".delete").click();e.find(".toggle").prop("checked",false)}});this._on(e.find(".toggle"),{change:function(g){a.find(".toggle").prop("checked",c(g.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",false).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",true).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=this.document[0].createElement(a.filesContainer.prop("nodeName"));if(d){if(a.uploadTemplateId){a.uploadTemplate=d(a.uploadTemplateId)}if(a.downloadTemplateId){a.downloadTemplate=d(a.downloadTemplateId)}}},_initFilesContainer:function(){var a=this.options;if(a.filesContainer===undefined){a.filesContainer=this.element.find(".files")}else{if(!(a.filesContainer instanceof c)){a.filesContainer=c(a.filesContainer)}}},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();if(!c.support.fileInput){this._disableFileInputButton()}},enable:function(){var a=false;if(this.options.disabled){a=true}this._super();if(a){this.element.find("input, button").prop("disabled",false);this._enableFileInputButton()}},disable:function(){if(!this.options.disabled){this.element.find("input, button").prop("disabled",true);this._disableFileInputButton()}this._super()}})}));
/*!
 * =====================================================
 * AWS附件上传通用库文件
 * v1.0 (http://www.actionsoft.com.cn)
 * 发布后文件名：aws.upfile.js
 * =====================================================
 */
function __awsui_upfile_handler(e,a,d){var c=$("#"+e).parent().data("upfile-opts");var f=c[a];if(f!=null){if(a=="complete"){f()}else{return f.apply(c,d)}}}(function(c){var d=false;var a=navigator.userAgent.toLowerCase();if(a.indexOf("msie 8")>-1||a.indexOf("msie 9")>-1){d=true}var e=function(){var h=document.URL;var g="uf";if(h&&h.indexOf("/r/")!=-1){g=h.substring(0,h.indexOf("/r/"))+"/r/uf"}else{if(h&&h.indexOf("/apps")>-1){g=h.substring(0,h.indexOf("/apps"))+"/r/uf"}}var f=g+"?";return f};c.fn.upfile=function(G){if(d){if("close"==G){c(this).find("div[t_upfile]").remove();c(this).removeData("upfile-instance");return}if(c(this).data("upfile-instance")!=null){return}}var R=c(this);var D=G||{};var C=G.sid,E=G.groupValue,ab=G.extParam===undefined?"":G.extParam,F=G.fileValue,I=G.repositoryName;var g=false;var k=5*1024*1024;if(G.maxFileSize!=null||G.sizeLimit!=null){k=G.maxFileSize||G.sizeLimit}AWSFile.sizelimit=k;var O="[]";if(G.filter!=null||G.filesToFilter!=null){O=G.filter||G.filesToFilter;if(jQuery.isArray(O)){O=awsui.encode(O)}}if(G.isShowProgress&&G.isShowProgress==true){g=true;AWSFile.initProgress()}var K=G.appId;var B=0;if(G.numLimit!=null||G.maxUpLength!=null){B=G.numLimit||G.maxUpLength}if(G.filesToFilter){var u;try{u=G.filesToFilter[0][1]}catch(ad){}}var z=0;var Q="";if(c(this).attr("id")!=undefined){Q="upfile_"+c(this).attr("id")}else{Q="upfile_"+Math.random().toString(36).substring(7)}if(d){var L={sizeLimit:k,filter:O,numLimit:B,url:e()+"appId="+G.appId+"&sid="+C+"&groupValue="+E+"&fileValue="+F+"&repositoryName="+I+"&extParam="+ab,eId:Q};var af=G.complete;var Y=G.progress;var x=G.done;var i=G.add;G.add=function(al,w){AWSFile.currentLoading_t=0;AWSFile.currentLoading_t_progress=1;z=0;var aj=c("#"+G.fileDomId).val();if(aj){z=aj.split("@@@@").length}var an={};var h=new Array();var ak=arguments[0].length;if(ak>0){for(var ai=0;ai<ak;ai++){var p={};p.name=arguments[0][ai]["fileName"];p.type=arguments[0][ai]["fileType"];p.size=arguments[0][ai]["fileSize"];h.push(p)}}an.files=h;an.originalFiles=h;var am=AWSFile.addCallbackFn(i,an,G,z);if(am){c.simpleAlert(正在上传请稍候,"loading",{model:true})}return am};G.progress=function(aj,ai){var p={};var w=new Array();if(arguments!=null){var h={};h.name=arguments[0];w.push(h)}p.files=w;p.loaded=arguments[1];p.total=arguments[2];AWSFile.progressCallbackFn(Y,p,g)};G.done=function(al,ak){c.simpleAlert("close");var h=false;if(arguments.length>3&&arguments[3]!=null){try{var w=awsui.decode(arguments[3]);if(w.data.result!=="ok"){h=true}if(h){if(G.error!=null){G.error.apply(R,arguments)}else{c.simpleAlert(w.data.result.data.msg,"error")}}}catch(al){alert(al)}}if(!h){var ai={};var aj=new Array();if(arguments!=null){var p={};p.name=arguments[0];p.type=arguments[2];p.size=arguments[1];aj.push(p)}ai.files=aj;var w=awsui.decode(arguments[3]);ai.result=w;AWSFile.doneCallbackFn(x,G,ai)}};G.complete=function(p,h){c.simpleAlert("close");c(".ph_loaded").html(100+"%");c(".inner_mask").css("width",100+"%");c.simpleAlert(上传成功,"ok",2000);if(af!=null){af.apply(R,arguments)}else{AWSFile.completeCallbackFn(g)}};var v="upfile"+Q;var m="../commons/js/jquery/scripts/ui/upfile/FileUpload.swf";htmls="";htmls+='<div id="'+v+'" style="position :absolute;top:0px;left:0px;">';htmls+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+Q+'">';htmls+='<param name="movie" value="'+m+'" />';htmls+='<param name="quality" value="high" />';htmls+='<param name="allowScriptAccess" value="sameDomain" />';htmls+='<param name="allowFullScreen" value="true" />';htmls+='<param name="wmode" value="transparent" />';htmls+='<param name="flashvars" value="'+c.param(L)+'" />';htmls+='<embed id="'+Q+'" name="'+Q+'" wmode="transparent" allowScriptAccess="sameDomain" allowNetworking ="all" quality="high" width="100%" height="100%" src="'+m;htmls+='" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/cn/products/flashplayer" flashvars="'+c.param(L)+'">';htmls+="</embed>";htmls+="</object>";htmls+="</div>";c(this).css("position","relative");var X=c(this).actual("outerWidth");var aa=c(this).actual("outerHeight");var ae=c(htmls).appendTo(c(this));c(this).data("upfile-instance",ae);ae.data("upfile-opts",G);ae.width(X);ae.height(aa)}else{var f="";var n="";if(G.filesToFilter){var N=G.filesToFilter[0][1];if(N){var y=N.split(";").join(",");y=y.replace(/\*/g,"");if(y.length>0){if(y.indexOf(".xls,")>-1){y=y.replace(".xls,","application/vnd.ms-excel,")}if(y.indexOf(".xlsx,")>-1){y=y.replace(".xlsx,","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,")}if(y.indexOf(".doc,")>-1){y=y.replace(".doc,","application/msword,")}if(y.indexOf(".docx,")>-1){y=y.replace(".docx,","application/vnd.openxmlformats-officedocument.wordprocessingml.document,")}if(y.indexOf(".ppt,")>-1){y=y.replace(".ppt,","application/vnd.ms-powerpoint,")}if(y.indexOf(".pptx,")>-1){y=y.replace(".pptx,","application/vnd.openxmlformats-officedocument.presentationml.presentation,")}if(y.indexOf(".app")>-1){y=y.replace(".app","application/app")}if(y.indexOf(".zip")>-1){y=y.replace(".zip","application/zip")}if(y.indexOf(".cer")>-1){y=y.replace(".cer","application/x-x509-ca-cert")}if(y.indexOf(".p12")>-1){y=y.replace(".p12","application/x-pkcs12")}if(y.indexOf(".crt")>-1){y=y.replace(".crt","application/x-x509-ca-cert")}if(y.indexOf(".pdf")>-1){y=y.replace(".pdf","application/pdf")}}n="accept='"+y+"'";if(G.accept){n="accept='"+G.accept+"'"}}}f="<input type='file' style='display:none;' id='"+Q+"' "+(B==1?"":"multiple='multiple' ")+n+">";c(f).insertAfter(c(this));var m=encodeURI(e()+"appId="+G.appId+"&sid="+C+"&groupValue="+E+"&fileValue="+F+"&repositoryName="+I+"&extParam="+ab);var s={appId:G.appId,sid:C,groupValue:E,fileValue:F,repositoryName:I,extParam:ab};var j=0;var U={url:m,autoUpload:true,sequentialUploads:G.sequentialUploads===true,dataType:"json",fileInput:c("#"+Q),paramName:s,add:function(ai,w){if(w){if(w.files&&w.files.length>0){if("/"==w.files[0].name){return false}}}z=0;var h=c("#"+G.fileDomId).val();if(h){z=h.split("@@@@").length}var p=AWSFile.addCallbackFn(G.add,w,G,z);if(p){w.submit();if(j==0){c.simpleAlert(正在上传请稍候,"loading",{model:true})}j++}},progress:function(p,h){AWSFile.progressCallbackFn(G.progress,h,g)},complete:function(p,h){if(G.complete){G.complete(p,h)}else{AWSFile.completeCallbackFn(g)}},done:function(p,h){j--;if(j==0){c.simpleAlert("close")}if(h.result.data.result=="error"){c.simpleAlert(h.result.data.msg,"error")}else{AWSFile.doneCallbackFn(G.done,G,h)}},error:function(p,h){}};c("#"+Q).on("click",function(){c("#"+Q).fileupload(U);c("#"+Q).off("click")});var M=c("#isMobile").val();var T="click";if(M=="true"){T="tap"}c(this).off(T).on(T,function(){if(c(this).hasClass("disable")){return}try{if(c(this).attr("id")){var ai=c(this).attr("id").substring(3,c(this).attr("id").length-5);var aj=c("#"+ai).attr("fileCount");var p=c("#"+ai).val();if(aj&&parseInt(aj)>0&&p){var h=p.split("@@@@").length;if(parseInt(aj)<=h){c.simpleAlert(上传文件总数不允许超过+parseInt(aj),"info");return}}}}catch(w){}c("#"+Q).trigger("click");AWSFile.currentLoading_t=0;AWSFile.currentLoading_t_progress=1;return false})}if(!M){var Z=G.cloudDCEnabled!=null?G.cloudDCEnabled:false;var ah=G.cloudDCBut!=null?G.cloudDCBut:"";if(Z){var ac=false;awsui.ajax.request({type:"POST",url:"./jd",dataType:"json",async:false,data:{sid:C,cmd:"CLIENT_FILE_IFSUPPORT_CLOUDDC"},success:function(h){ac=h.data.ifSupportCloudDC},error:function(h){}});if(ac){var ag=c(this).attr("class");var W=c(this).attr("id");var J=c(this).attr("style");var q=c(this).outerHeight();var l=G.fileDomId;var H=G.boId;var S=G.boDefId;var A=c("#boDefName").length>0?c("#boDefName").val():"";var o=c("#taskInstId").val()==undefined?"":c("#taskInstId").val();var V=c("#processInstId").val()==undefined?"":c("#processInstId").val();if(c("#clouddc_"+W).length==0){if(ah!=""){var P=c(ah);P.attr("id","clouddc_"+W);c(P).insertAfter(c(this))}else{var P="<button type='button' id=\"clouddc_"+W+"\" class='"+ag+"'  style=\""+J+";height:"+q+'px; ">'+云文档+"</button>";c(P).insertAfter(c(this))}c("#clouddc_"+W).on("click",function(){var h=FrmDialog.open({title:云文档,width:800,height:500,id:"openclouddc",url:"./w?cmd=CLIENT_FILE_CLOUDDC_PULL_HOME_PAGE&sid="+C,data:{appId:G.appId,groupValue:E,fileValue:F,repositoryName:I,processInstId:V,taskInstId:o,boId:H,boItemName:l,boDefId:S,boName:A},buttons:[{text:确认上传,cls:"blue",handler:function(){var p=c("#id-awsui-win-frm-2013-frmopenclouddc")[0];var w=p.contentWindow?p.contentWindow:(p.contentDocument.document?p.contentDocument.document:p.contentDocument);w.saveCloudDCFile(G,G.add,G.complete,G.done)}},{text:取消,handler:function(){FrmDialog.close()}}]})})}}}}}})(jQuery);var AWSFile={currentLoading_t:0,currentLoading_t_progress:1,sizelimit:0,addCallbackFn:function(c,j,q,o){var k=this;var m;var n=true;if(c){var d=c(m,j);if(d==false){n=false}}else{var g=q.fileDomId;if($("select[uid=securityLevelSelBo_"+g+"]").length>0){var a=$("select[uid=securityLevelSelBo_"+g+"]").val();var f=true;var p=true;try{if($("#formFileSecurityCheck").length>0){p=$("#formFileSecurityCheck").val()==="true"}else{p=parent.$("#formFileSecurityCheck").val()==="true"}}catch(m){}if(p){$.each(j.files,function(e,s){var u=s.name;if(a=="0"){if(u.indexOf("普通")<0||u.indexOf("秘密")>0||u.indexOf("机密")>0||u.indexOf("绝密")>0){f=false}}else{if(a=="1"){if(u.indexOf("秘密")<0||u.indexOf("普通")>0||u.indexOf("机密")>0||u.indexOf("绝密")>0){f=false}}else{if(a=="2"){if(u.indexOf("机密")<0||u.indexOf("秘密")>0||u.indexOf("普通")>0||u.indexOf("绝密")>0){f=false}}else{if(a=="3"){if(u.indexOf("绝密")<0||u.indexOf("秘密")>0||u.indexOf("机密")>0||u.indexOf("普通")>0){f=false}}}}}})}if(!f){$.simpleAlert("上传文件名必须包含所选密级信息且不允许包含其他密级信息","info",3000);return false}}if(q.numLimit!=0&&q.numLimit<o+j.originalFiles.length){$.simpleAlert(上传文件总数不允许超过+q.numLimit,"info");n=false}if(j.originalFiles.length>0){$.each(j.originalFiles,function(e,s){if(s.size>0){if(q.sizeLimit!=0&&q.sizeLimit<s.size){n=false;var u=k.formatSize(q.sizeLimit);u=u.replace(".00","");$.simpleAlert(文件大小不允许超过+u,"info",2000);return false}}else{n=false;$.simpleAlert(空文件不能上传,"info",2000);return false}})}var h="";if(q.filesToFilter){var l=q.filesToFilter[0][1];if(l){var i=l.split(";").join(",");h=i.replace(/\*/g,"")}}if(n){$.each(j.files,function(u,v){h=h.toLowerCase();if(h.length>0){var w=v.name.lastIndexOf(".");if(w==-1){n=false;$.simpleAlert(文件类型不正确,"info",2000);return false}var s=v.name.substring(w,v.name.length);s=s.toLowerCase();if((h+",").indexOf(s+",")==-1){n=false;$.simpleAlert(文件类型不正确,"info",2000);return false}}if(v.size>0){try{if(q.isShowProgress){AWSFile.upfileAddCallBackFun(v.name,v.type,v.size)}}catch(x){}}})}}return n},progressCallbackFn:function(a,d,c){var f;if(a){a(f,d)}else{$.each(d.files,function(g,h){try{if(c){AWSFile.upfileProgressCallBackFun(h.name,d.loaded,d.total)}}catch(i){}})}},doneCallbackFn:function(d,c,f){var g;if(d){d(g,f)}else{var a=$("#"+c.fileDomId).val();if(!a){a=""}var h=a.split("@@@@");$.each(f.files,function(i,j){if(c.saveFile){var l=j.name;try{l=f.result.data.data.attrs.fileName}catch(k){}a=a+"@@@@"+l;c.saveFile(l,j.size,c.fileDomId,c.boId,c.groupValue,c.fileValue,c.repositoryName)}});if(a.startWith("@@@@")){a=a.substring(4,a.length)}$("#"+c.fileDomId).val(a)}if(c.isShowProgress){}},completeCallbackFn:function(a){if(!($("#simplealert").length>0&&$("#simplealert").is(":visible"))){$.simpleAlert(上传成功,"ok",2000)}if(a){setTimeout(function(){$(".progress_wrap").animate({height:"0px"},"fast",function(){$(".dlg_hd .min").removeClass("min").addClass("max")})},"2000")}},initProgress:function(){if(!($("div").hasClass("dlg_hd"))){progressFile="";progressFile+='<div class="box">';progressFile+='<div class="dlg_hd"><font style="font-size:16px;">'+上传状态+'</font>  <h3><a href="javascript:void();" class="min zom"></a><a href="#" class="progress_close"></a></h3></div>';progressFile+='<div class="progress_wrap"><div class="progress_header clearfix">';progressFile+='<div class="progress_title">'+标题+'</div><div class="progress_size">'+大小+"</div>";progressFile+='<div class="progress_loaded">'+进度+'</div><div class="progress_content"></div></div></div></div>';$(progressFile).appendTo("body")}},upfileAddCallBackFun:function(a,d,c){AWSFile.currentLoading_t++;if($(".box").is(":visible")==false){$(".box").slideToggle("fast",function(){});$(".dlg_hd .zom").off("click").on("click",function(){if($(this).hasClass("min")){$(".progress_wrap").animate({height:"0px"},"fast",function(){$(".dlg_hd .min").removeClass("min").addClass("max")});return false}else{$(".progress_wrap").animate({height:"170px"},"fast",function(){$(".dlg_hd .max").removeClass("max").addClass("min")});return false}});$(".dlg_hd .progress_close").off("click").on("click",function(){AWSFile.currentLoading_t=0;AWSFile.currentLoading_t_progress=1;$(".box").hide();$(".progress_content").empty();return false});setTimeout(function(){$(".box").slideToggle("fast",function(){AWSFile.currentLoading_t=0;AWSFile.currentLoading_t_progress=1;$(".box").hide();$(".progress_content").empty()})},"3000")}else{$(".progress_wrap").animate({height:"170px"},"fast",function(){$(".dlg_hd .max").removeClass("max").addClass("min")})}if(AWSFile.currentLoading_t==1){$(".progress_content").empty()}var e=$("<div class='p_item' t="+AWSFile.currentLoading_t+"><div class='inner_mask'></div><div class='inner_result'><div class='ph_title'></div><div class='ph_size'></div><div class='ph_loaded'></div></div>");$(".progress_content").append(e);return true},upfileProgressCallBackFun:function(a,e,d){if(a!=""&&a!=null&&a!=undefined){var c=(e/d)*100;$(".p_item[t="+AWSFile.currentLoading_t_progress+"]").find(".ph_title").html(a);$(".p_item[t="+AWSFile.currentLoading_t_progress+"]").find(".ph_size").html(AWSFile.formatSize(d));$(".p_item[t="+AWSFile.currentLoading_t_progress+"]").find(".ph_loaded").html(Math.floor(c)+"%");$(".p_item[t="+AWSFile.currentLoading_t_progress+"]").find(".inner_mask").css("width",c+"%");if(e==d){AWSFile.currentLoading_t_progress++}}},formatSize:function formatSize(d){if(d=="0"){return"-"}d=parseFloat(d);var a=["B","KB","MB","GB","TB","PB","EB","ZB","YB","BB"];var e=1024;var c=0;while(true){if(d>=1024){d=parseFloat(d/e).toFixed(2);c++}else{break}}return d+a[c]},removeFile:function(d,e,g,c,f){var a=$("#isMobile").val();awsui.MessageBox.confirm(提示,确定要删除吗文件名+f,function(){AWSFile.removeFileAjax(d,e,g,c,f)})},removeFileAjax:function(d,e,g,a,f){var c=this;awsui.ajax.request({url:"./jd",method:"POST",alert:false,data:{sid:$("#sid").val(),cmd:"CLIENT_UI_FILE_ROVEME",uuId:d,appId:e,fileName:f,boDefId:g,boItemName:a},success:function(i){if(i.result=="ok"){$.simpleAlert(i.msg,i.result);$("#"+d).remove();var j=$("#"+a).val();var h="@@@@";if(j.indexOf(h)>-1){if(j.endWith(f)){j=j.replace(h+f,"")}else{j=j.replace(f+h,"")}}else{j=""}$("#"+a).val(j);if(c.removeComplete){c.removeComplete()}}else{$.simpleAlert(i.msg,i.result)}}})},addComment:function(d,e,c,a){if(!$("#"+e).parent().is("body")){$(document.body).append($("#"+e))}$("#"+e).popbox({target:$("#img_"+e),height:100});$("#"+c).off("blur").on("blur",function(){if(!a){var f=$(this).val();awsui.ajax.request({url:"./jd",method:"POST",data:{sid:$("#sid").val(),cmd:"CLIENT_UI_FILE_SAVE_COMMENT",uuId:d,remark:f},success:function(g){if(awsui.ajax.ok(g)){$("#"+c).val(f);var h=c.replace("remark_","img_pop");$("#"+h).attr("awsui-qtip",f);if(f==null||f.trim()==""){$("#"+h).find("img").css("opacity","0.5");$("#"+h).find("img").css("filter","alpha(opacity=50)")}else{$("#"+h).find("img").css("opacity","1.0");$("#"+h).find("img").css("filter","alpha(opacity=100)")}}}})}})},officeFilePreview:function(d,i,e,l,n,j,f,g,k,m){if(f=="1"){this.officeFileEdit(d,i,e,l,n,j,f,g,k,m);return}var a="";var c=$("#sid").val();var h={appId:n,repositoryName:l,groupValue:JSON.stringify(e),fileValue:j,fileName:i,editType:f,copyType:g,printType:k,localType:m,showHandToolbar:0,sid:$("#sid").val(),cmd:"CLIENT_UI_FILE_PREVIEW_FILE",documentHeight:"95%"};$.simpleAlert("文件预览后台处理中...","info",800);awsui.ajax.request({type:"POST",url:"./jd",dataType:"json",alert:false,data:h,err:function(o){$.simpleAlert("close");$.simpleAlert(o.msg,o.result,2000)},ok:function(p){$.simpleAlert("close");if(p.result=="ok"){try{if(awsWebview.isMobileAWSApp()){var o=new String(document.location);o=o.substring(0,o.indexOf("r/w"));awsWebview.openWebview(o+"r/w"+p.data.url.replace("./w",""))}else{var s=window.open(p.data.url);if($.browser.isMobile&&$.browser.isSafari){if(s==null){window.location.href=p.data.url}}}}catch(q){var s=window.open(p.data.url);if($.browser.isMobile&&$.browser.isSafari){if(s==null){window.location.href=p.data.url}}}}else{$.simpleAlert(p.msg,p.result,2000)}}})},officeFileEdit:function(d,i,e,l,n,j,f,g,k,m){var a="";var c=$("#sid").val();var h={downloadUrl:d,appId:n,repositoryName:l,groupValue:JSON.stringify(e),fileValue:j,fileName:i,editType:f,copyType:g,printType:k,localType:m,showHandToolbar:0,documentHeight:"95%"};a="./w?sid="+c+"&cmd=com.actionsoft.apps.formui.iweboffice_view_online&"+$.param(h);window.open(a)},addWaterMark:function(e,m,j,d,g,k,l,h,i){if(!i){var c=$("#sid").val();var f={sid:c,uuId:e,appId:m,fileName:g,boDefId:j,boItemName:d,waterMarkFontColor:k,waterMarkPosition:l,waterMarkFontSize:h};var a="./jd?cmd=CLIENT_UI_FILE_ADD_WATERMARK";awsui.ajax.post(a,f,function(o){if(o.result=="ok"){var n=o.data["pictureLogoThumDownLoadUrl"];if(n!=""){$("#img_"+e).attr("src",n+"&v="+new Date().getTime());$("#preview_a_"+e).attr("href",n);$($($("#"+e).children()[0]).children().children()[1]).attr("href",n);if($("#isMobile").val()!="true"){$("a[rel=fancyboxgrouppreview]").fancybox({transitionIn:"none",transitionOut:"none",titlePosition:"over",showNavArrows:"true"});$.simpleAlert(水印添加成功,"ok")}}}else{$.simpleAlert(o.msg,o.result)}},"json")}else{}},compressFile:function(e,k,j,c,h,i){if(!i){var f=$("#compresswidth_"+e).val();var d=$("#sid").val();var g={sid:d,uuId:e,appId:k,fileName:h,boDefId:j,boItemName:c,compressWidth:f};var a="./jd?cmd=CLIENT_UI_FILE_COMPRESS_FILE";awsui.ajax.post(a,g,function(m){if(m.result=="ok"){var l=m.data["pictureLogoThumDownLoadUrl"];$("#img_"+e).attr("src",l+"&v="+new Date().getTime());$("#preview_a_"+e).attr("href",l);if($("#isMobile").val()!="true"){$("a[rel=fancyboxgrouppreview]").fancybox({transitionIn:"none",transitionOut:"none",titlePosition:"over",showNavArrows:"true"});$.simpleAlert(图片压缩成功,"info")}}else{$.simpleAlert(m.msg,m.result)}},"json")}else{}},fileAuth:function(c){var a="./w?sid="+$("#sid").val()+"&cmd=CLIENT_COMMON_AC_ACTION_OPEN&resourceId="+c+"&resourceType=portal.uifile";FrmDialog.open({title:"AC授权",width:750,height:400,url:a,id:"addFileAC",buttons:[{text:"添加",cls:"blue",handler:function(){FrmDialog.win().saveAC()}},{text:"关闭",handler:function(){FrmDialog.close()}}]})},getFileSuffixIcon:function(h){try{h=h.toLowerCase()}catch(g){}var f=h.substring(h.lastIndexOf(".")+1);var d=["ai","apk","avi","bmp","chm","css","dmg","doc","exe","file","gif","html","icon","ics","ie","ipa","jpg","js","key","mov","mp3","mp4","mpg","normal","outlook","pdf","php","png","ppt","psd","rar","torrent","txt","visio","vsd","xls","xml","zip"];if($.inArray(f,d)>-1){return"../commons/img/fileSuffix/"+f+".png"}var a=[["word","rtf","docx","wps"],["xls","xlt","xlw","xlsx","et"],["html","htm"],["jpg","pcx","jpeg"],["ppt","pot","dps","pps","pptx","potx","ppsx"],["zip","tar","jar","gz"],["txt","logging","ini"],["avi","mpeg","mpg","ra","rm","rmvb","mov","qt","asf","wmv","swf"],["access","mdb","accdb"],["xml","xsd"]];for(var c in a){if($.inArray(f,a[c])>-1){return"../commons/img/fileSuffix/"+a[c][0]+".png"}}return"../commons/img/fileSuffix/unknown.png"},getFilesHtml:function(a){if(a==null||$.trim(a)==""){return""}var d=a.split(/@@@@|,/);for(var c=0;c<d.length;c++){d[c]='<img border="0" width="15" src="'+this.getFileSuffixIcon(d[c])+'" align="absmiddle">'+d[c]}return d.join(",")},checkCallback:function(c,a){if($("#awsuiFile_"+a).length>0&&$("#awsuiFile_"+a).find("input[group=fileAll_"+a+"]").length==1){$("#download_btn_"+a).hide()}else{if($("#file_tab").length>0&&$("#file_tab").find("input[group=fileAll_"+a+"]").length==1){$("#download_btn_"+a).hide()}else{if($(c).prop("checked")){$("#download_btn_"+a).show()}else{if($("#awsuiFile_"+a).length>0&&$("#awsuiFile_"+a).find("input[group=fileAll_"+a+"]:checked").length>0){$("#download_btn_"+a).show()}else{if($("#file_tab").length>0&&$("#file_tab").find("input[group=fileAll_"+a+"]:checked").length>0){$("#download_btn_"+a).show()}else{$("#download_btn_"+a).hide()}}}}}}};function confirmDialog(d,c,f){var e="popupDialog";$('<div data-role="popup" id="'+e+'" data-confirmed="no" data-transition="pop" data-overlay-theme="a" data-theme="a" data-dismissible="false" style="max-width:500px;"> <div data-role="header" data-theme="a"><h1>'+d+'</h1></div><div role="main" class="ui-content"><h3 class="ui-title">'+d+"</h3>"+c+'<br><a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b optionConfirm" data-rel="back">Yes</a><a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b optionCancel" data-rel="back" data-transition="flow">No</a></div></div>').appendTo($.mobile.pageContainer);var a=$("#"+e);a.trigger("create");a.popup({afterclose:function(h,i){a.find(".optionConfirm").first().off("click");var g=a.attr("data-confirmed")==="yes"?true:false;$(h.target).remove();if(g&&f){f()}}});a.popup("open");a.find(".optionConfirm").first().on("click",function(){a.attr("data-confirmed","yes")})}
/*!
 * 注意awsui.combobox_old已经被新的替代，但是为了兼容awsui.userinput插件，所以保留代码至此，使用压缩处理
 * 
 * AWS UI Combobox
 * jQuery verson 1.10.2
 * author chengy
 * 2013年10月23日19:13:42
 * 
 * 该插件已经作废
 * 
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(e,d){var f=0;e.widget("awsui.combobox_old",{version:"1.10.3",defaultElement:"<input>",options:{renderTo:null,target:null,autoFocus:true,hiddenName:null,delay:300,minLength:0,trigger:true,triggerClass:"awsui-combobox-trigger",triggerOpenClass:"awsui-combobox-trigger-open",source:null,disabled:false,editable:true,multiple:false,multipleCheck:"awsui-combobox-item-check",multipleUnCheck:"awsui-combobox-item-uncheck",seperator:",",valueField:"value",displayField:"label",change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_initTrigger:function(){if(this.options.trigger!==false){var a=this.element,c=this;this.wrapper=this.element.wrap("<span class='awsui-combobox-wrap'></span>").parent();this.trigger=e('<a href="javaScript:void"  class="'+this.options.triggerClass+'"> </a>').appendTo(this.wrapper).click(function(){c._triggerClick()});var g=this.trigger.outerWidth(true);a.css({width:a.width()-g+4});a.css({"padding-right":g});if(this.options.triggerOpenClass!=null){var c=this;this.element.on("comboboxopen",function(){if(c.trigger!=null){c.trigger.addClass(c.options.triggerOpenClass)}})}}},widget:function(){return this.wrapper||this.element},_isExpanded:function(){return this.list.is(":visible")},_scrollIntoView:function(l){var a,m,k,o,n,c;if(this.list.outerHeight()<this.list.prop("scrollHeight")){a=parseFloat(e.css(this.list[0],"borderTopWidth"))||0;m=parseFloat(e.css(this.list[0],"paddingTop"))||0;k=l.offset().top-this.list.offset().top-a-m;o=this.list.scrollTop();n=this.list.height();c=l.height();if(k<0){this.list.scrollTop(o+k)}else{if(k+c>n){this.list.scrollTop(o+k-n+c)}}}},_initList:function(){var a=this.element;this.list=e("<ul id='"+a.attr("id")+"_menu'>").addClass("awsui-menu").appendTo(this.__renderTo());if(this.options.triggerOpenClass!=null){var c=this;this.list.on("close",function(){if(c.trigger!=null){c.trigger.removeClass(c.options.triggerOpenClass)}})}this._on(this.element,{keyup:function(l){if(this.element.prop("readOnly")){return}var j=e.ui.keyCode;switch(l.keyCode){case j.UP:if(!this._isExpanded()){this.search(null,l);if(this.options.autoFocus){this._menuselect(e("li:last",this.list))}}else{if(e("li:first",this.list)[0]===e("li.active",this.list)[0]){return}if(e("li.active",this.list).length==0){this._menuselect(e("li:last",this.list))}else{this._menuselect(e("li.active",this.list).prev())}}break;case j.DOWN:if(!this._isExpanded()){this.search(null,l);this._menuselect(e("li:first",this.list))}else{if(e("li:last",this.list)[0]===e("li.active",this.list)[0]){return}if(e("li.active",this.list).length==0){this._menuselect(e("li:first",this.list))}else{this._menuselect(e("li.active",this.list).next())}}break;case j.ENTER:case j.NUMPAD_ENTER:var k=e("li.active",this.list);if(this._isExpanded()&&k.length==1){l.preventDefault();var m=k.data("awsui-combobox-item");this._select(k,m)}break;case j.ESCAPE:if(this._isExpanded()){this.close(l);l.preventDefault()}break;default:clearTimeout(this.searching);this.searching=this._delay(function(){if(this.lastQuery!==this._value()){this.selectedItem=null;this.search(null,l)}},this.options.delay);break}}})},_menuselect:function(a){e("li.active",this.list).removeClass("active");a.addClass("active");this._scrollIntoView(a)},_reList:function(o){var p=this;var a=function(g){p._select(e(this),g.data)};var c=this._value();for(var m=0;m<o.length;m++){var i=o[m];i.text=i[this.options.displayField];if(this.options.multiple){i.iconCls=this.options.multipleUnCheck;if(this._isChecked(i[this.options.valueField])){i.iconCls=this.options.multipleCheck}}i.method=a}var n=this.options.target!=null?this.options.target:this.element;this.list.menu({target:n,items:o});if(this.options.autoFocus){this._menuselect(e("li:first",this.list))}},_initState:function(){if(this.options.editable===false){this._setOption("editable",false)}if(this.options.disabled===true){this.disable()}},_initSize:function(){var c=this.list;if(this.options.listHeight!=null){c.css({"max-height":this.options.listHeight,"overflow-y":"auto","overflow-x":"hidden"})}if(this.options.width!=null){this.element.css({width:a})}var a=this.options.target!=null?this.options.target.outerWidth():this.element.outerWidth();var g=this.options.listWidth!=null?this.options.listWidth:a;c.outerWidth(g)},_create:function(){this.element.addClass("awsui-combobox-input").attr("autocomplete","off");if(this.options.hiddenName!=null){this.hiddenField=e("<input type='hidden' id='"+this.options.hiddenName+"' name='"+this.options.hiddenName+"'>").insertBefore(this.element);if(this.element.attr("name")==this.options.hiddenName){this.element.removeAttr("name")}}this._initTrigger();this._initList();this._initSize();this._initSource();this._initData();this._initState();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_initData:function(){if(this.options.value==null){if(this.options.initData!=null&&e.isArray(this.options.initData)){var a=this;e.each(this.options.initData,function(g,c){a._addItemValue(a._normItem(c))})}}},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("awsui-combobox-input").removeAttr("autocomplete");this.list.element.remove();if(this.trigger){this.trigger.remove()}if(this.hiddenField){this.hiddenField.remove()}},_setOption:function(c,a){this._super(c,a);if(c==="source"){this._initSource()}if(c==="appendTo"){this.list.appendTo(this.__renderTo())}if(c==="editable"){this.element.prop("readOnly",!a);if(a===false){var g=this;this.element.on("mousedown",function(h){if(!g._isExpanded()){h.stopPropagation();g._triggerClick()}})}}if(c==="disabled"){this.element.prop("disabled",a);if(a&&this.xhr){this.xhr.abort()}}},_triggerClick:function(){this.element.focus();if(this._isExpanded()){return}this.search("",null)},_select:function(j,c){var l=this;var k=this._trigger("select",null,{item:j,data:c,value:c[l.options.valueField],oldVal:this._value()});if(k!==false){if(this.options.multiple===true){var m=this._value();var a=j.find(".icon").hasClass(this.options.multipleCheck);if(a){this._deleteItemValue(c);j.find(".icon").removeClass(this.options.multipleCheck).addClass(this.options.multipleUnCheck)}else{this._addItemValue(c);j.find(".icon").removeClass(this.options.multipleUnCheck).addClass(this.options.multipleCheck)}}else{this._addItemValue(c)}this._trigger("selected",null,{item:j,data:c,value:l._value()})}if(this.options.multiple!==true){this._close()}},_addItemValue:function(a){var g=a[this.options.valueField];var c=a[this.options.displayField];if(this.options.multiple===true){c=this._value().length>0?this._value()+this.options.seperator+a[this.options.displayField]:a[this.options.displayField];g=this.option("value")!=null&&this.option("value").length>0?this.option("value")+this.options.seperator+a[this.options.valueField]:a[this.options.valueField]}this._setvalue(g);this._value(c)},_deleteItemValue:function(a){var c=this.value().split(this.options.seperator);var i=this._value().split(this.options.seperator);for(var h=0;h<c.length;h++){if(c[h]==a[this.options.valueField]){c.splice(h,1);i.splice(h,1)}}this._setvalue(c.join(this.options.seperator));this._value(i.join(this.options.seperator))},_setvalue:function(a){this.option("value",a);if(this.hiddenField){this.hiddenField.val(a)}},value:function(){return this.option("value")==null?"":this.option("value")},_initSource:function(){var a,g,c=this;if(e.isArray(this.options.source)){a=this.options.source;this.source=function(i,j){j(c._filter(a,i.term))}}else{if(typeof this.options.source==="string"){g=this.options.source;this.source=function(i,j){if(c.xhr){c.xhr.abort()}c.xhr=e.ajax({url:g,dataType:"json",data:i,success:function(h){if(e.isArray(h)){j(h)}else{console.log("error:combobox data must json array")}},error:function(){j([])}})}}else{this.source=this.options.source}}},search:function(a,g){a=a!=null?a:this._value();this.lastQuery=this._value();if(a.length<this.options.minLength){return this.close(g)}var c={term:a};if(this._trigger("search",g,c)===false){return}this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source(c,this._query())},_query:function(){var a=this,c=++f;return function(g){if(c===f){a._process(g)}a.pending--;if(!a.pending){a.element.removeClass("ui-autocomplete-loading")}}},_isChecked:function(c){var a=this.value();return a!=""&&(this.options.seperator+a+this.options.seperator).indexOf(this.options.seperator+c+this.options.seperator)!=-1},_process:function(a){if(a){a=this._normalize(a)}this._trigger("response",null,{content:a});if(!this.options.disabled&&a&&a.length&&!this.cancelSearch){this._reList(a);this._trigger("open")}else{this._close()}},close:function(a){this.cancelSearch=true;this._close(a)},_close:function(a){this.list.menu("close")},_normItem:function(a){if(typeof a==="string"){return{label:a,value:a}}return e.extend({label:a[this.options.displayField]||a[this.options.valueField],value:a[this.options.valueField]||a[this.options.displayField]},a)},_normalize:function(a){if(a==null&&a==""){a=[]}if(a.length&&a[0][this.options.displayField]&&a[0][this.options.valueField]){return a}return e.map(a,this._normItem)},_value:function(){var a=this.element[0].nodeName.toLowerCase(),c=a==="textarea",i=a==="input";var h=this.element[c||i?"val":"text"];return h.apply(this.element,arguments)},_escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},_filter:function(a,h){var c=new RegExp(this._escapeRegex(h),"i");var i=this;return e.grep(a,function(g){return c.test(g[i.options.displayField]||g[i.options.valueField]||g)})},__renderTo:function(){var a=this.options.appendTo;if(a){a=a.jquery||a.nodeType?e(a):this.document.find(a).eq(0)}if(!a){a=this.element.closest(".ui-front")}if(!a.length){a=this.document[0].body}return a}})}(jQuery));
/*!
 * 
 * AWS UI UserInput主函数
 * jQuery verson 1.10.2
 * 
 */
(function(a){a.widget("awsui.userinput",a.awsui.combobox_old,{options:{trigger:false},_initData:function(){this.box=a("<div style='overflow:auto;'></div>").prependTo(this.options.superbox);a.awsui.combobox_old.prototype._initData.call(this);if(this.options.disabled){this.box.find(".close").hide()}},_setOption:function(c,d){this._super(c,d);if(this.box&&c==="disabled"){this.box.find(".close")[d?"hide":"show"]();this.options.superbox[d?"addClass":"removeClass"]("disable")}},_addItemValue:function(g){var c="";if(g.notfind){c="notfind"}var e=a("<span class='awsui-supertext-items "+c+"'><span class='awsui-supertext-item'>"+g[this.options.displayField]+"</span><span class='forms-icon down close'></span></span>").appendTo(this.box);e.data("awsui-supertext-items-data",g);var d=this;e.find(".close").on("click",function(){a(this).parent().fadeOut(function(){d.__r(a(this))})});d._setvalue(d._getvalue());d._trigger("add",null,{label:g[this.options.displayField],v:g.value});var h=this.element;var f=a("#"+h.attr("id")+"_menu");f.css({left:this.options.target.offset().left,top:this.options.target.offset().top+this.options.target.outerHeight(true)});if(this.options.callback!=null){this.options.callback()}},__r:function(e){var c=e.data("awsui-supertext-items-data");e.remove();this._setvalue(this._getvalue());this._trigger("del",null,{label:c[this.options.displayField],v:c.value})},_deleteItemValue:function(e){var c=this;a.each(this.box.find(".awsui-supertext-items"),function(){if(e.value==a(this).data("awsui-supertext-items-data")[c.options.valueField]){a(this).fadeOut(function(){c.__r(a(this))})}});var f=this.element;var d=a("#"+f.attr("id")+"_menu");d.css({left:this.options.target.offset().left,top:this.options.target.offset().top+this.options.target.outerHeight(true)})},_isChecked:function(e){var f=false;var d=this;a.each(this.box.find(".awsui-supertext-items"),function(){if(e==a(this).data("awsui-supertext-items-data")[d.options.valueField]){f=true;return false}});return f},_getvalue:function(){var d="";var c=this;a.each(this.box.find(".awsui-supertext-items"),function(){if(d!=""){d+=c.options.seperator}d+=a(this).data("awsui-supertext-items-data")[c.options.valueField]});return d},_destroy:function(){a.awsui.combobox_old.prototype._destroy.call(this);this.box.remove()}})})(jQuery);
/*!
 * =====================================================
 * Switchery
 * iOS 7 style switches for your checkboxes
 * http://abpetkov.github.io/switchery/
 * =====================================================
 */
(function(){function c(a){var d=c.modules[a];if(!d){throw new Error('failed to require "'+a+'"')}if(!("exports" in d)&&typeof d.definition==="function"){d.client=d.component=true;d.definition.call(this,d.exports={},d);delete d.definition}return d.exports}c.loader="component";c.helper={};c.helper.semVerSort=function(m,n){var u=m.version.split(".");var p=n.version.split(".");for(var q=0;q<u.length;++q){var s=parseInt(u[q],10);var a=parseInt(p[q],10);if(s===a){var i=u[q].substr((""+s).length);var o=p[q].substr((""+a).length);if(i===""&&o!==""){return 1}if(i!==""&&o===""){return -1}if(i!==""&&o!==""){return i>o?1:-1}continue}else{if(s>a){return 1}else{return -1}}}return 0};c.latest=function(y,i){function v(d){throw new Error('failed to find latest module of "'+d+'"')}var z=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;var a=/(.*)~(.*)/;if(!a.test(y)){v(y)}var u=Object.keys(c.modules);var q=[];var w=[];for(var s=0;s<u.length;s++){var A=u[s];if(new RegExp(y+"@").test(A)){var p=A.substr(y.length+1);var B=z.exec(A);if(B!=null){q.push({version:p,name:A})}else{w.push({version:p,name:A})}}}if(q.concat(w).length===0){v(y)}if(q.length>0){var x=q.sort(c.helper.semVerSort).pop().name;if(i===true){return x}return c(x)}var x=w.pop().name;if(i===true){return x}return c(x)};c.modules={};c.register=function(a,d){c.modules[a]={definition:d}};c.define=function(d,a){c.modules[d]={exports:a}};c.register("abpetkov~transitionize@0.0.3",function(a,f){f.exports=e;function e(g,d){if(!(this instanceof e)){return new e(g,d)}this.element=g;this.props=d||{};this.init()}e.prototype.isSafari=function(){return(/Safari/).test(navigator.userAgent)&&(/Apple Computer/).test(navigator.vendor)};e.prototype.init=function(){var d=[];for(var g in this.props){d.push(g+" "+this.props[g])}this.element.style.transition=d.join(", ");if(this.isSafari()){this.element.style.webkitTransition=d.join(", ")}}});c.register("ftlabs~fastclick@v0.6.11",function(a,f){function e(h){var d,i=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=h;if(!h||!h.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return e.prototype.onClick.apply(i,arguments)};this.onMouse=function(){return e.prototype.onMouse.apply(i,arguments)};this.onTouchStart=function(){return e.prototype.onTouchStart.apply(i,arguments)};this.onTouchMove=function(){return e.prototype.onTouchMove.apply(i,arguments)};this.onTouchEnd=function(){return e.prototype.onTouchEnd.apply(i,arguments)};this.onTouchCancel=function(){return e.prototype.onTouchCancel.apply(i,arguments)};if(e.notNeeded(h)){return}if(this.deviceIsAndroid){h.addEventListener("mouseover",this.onMouse,true);h.addEventListener("mousedown",this.onMouse,true);h.addEventListener("mouseup",this.onMouse,true)}h.addEventListener("click",this.onClick,true);h.addEventListener("touchstart",this.onTouchStart,false);h.addEventListener("touchmove",this.onTouchMove,false);h.addEventListener("touchend",this.onTouchEnd,false);h.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){h.removeEventListener=function(m,g,n){var l=Node.prototype.removeEventListener;if(m==="click"){l.call(h,m,g.hijacked||g,n)}else{l.call(h,m,g,n)}};h.addEventListener=function(l,g,m){var n=Node.prototype.addEventListener;if(l==="click"){n.call(h,l,g.hijacked||(g.hijacked=function(j){if(!j.propagationStopped){g(j)}}),m)}else{n.call(h,l,g,m)}}}if(typeof h.onclick==="function"){d=h.onclick;h.addEventListener("click",function(g){d(g)},false);h.onclick=null}}e.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;e.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);e.prototype.deviceIsIOS4=e.prototype.deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);e.prototype.deviceIsIOSWithBadTarget=e.prototype.deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);e.prototype.needsClick=function(d){switch(d.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(d.disabled){return true}break;case"input":if((this.deviceIsIOS&&d.type==="file")||d.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(d.className)};e.prototype.needsFocus=function(d){switch(d.nodeName.toLowerCase()){case"textarea":return true;case"select":return !this.deviceIsAndroid;case"input":switch(d.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !d.disabled&&!d.readOnly;default:return(/\bneedsfocus\b/).test(d.className)}};e.prototype.sendClick=function(j,i){var k,d;if(document.activeElement&&document.activeElement!==j){document.activeElement.blur()}d=i.changedTouches[0];k=document.createEvent("MouseEvents");k.initMouseEvent(this.determineEventType(j),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);k.forwardedTouchEvent=true;j.dispatchEvent(k)};e.prototype.determineEventType=function(d){if(this.deviceIsAndroid&&d.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};e.prototype.focus=function(g){var d;if(this.deviceIsIOS&&g.setSelectionRange&&g.type.indexOf("date")!==0&&g.type!=="time"){d=g.value.length;g.setSelectionRange(d,d)}else{g.focus()}};e.prototype.updateScrollParent=function(h){var d,i;d=h.fastClickScrollParent;if(!d||!d.contains(h)){i=h;do{if(i.scrollHeight>i.offsetHeight){d=i;h.fastClickScrollParent=i;break}i=i.parentElement}while(i)}if(d){d.fastClickLastScrollTop=d.scrollTop}};e.prototype.getTargetElementFromEventTarget=function(d){if(d.nodeType===Node.TEXT_NODE){return d.parentNode}return d};e.prototype.onTouchStart=function(i){var k,d,j;if(i.targetTouches.length>1){return true}k=this.getTargetElementFromEventTarget(i.target);d=i.targetTouches[0];if(this.deviceIsIOS){j=window.getSelection();if(j.rangeCount&&!j.isCollapsed){return true}if(!this.deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier){i.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(k)}}this.trackingClick=true;this.trackingClickStart=i.timeStamp;this.targetElement=k;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((i.timeStamp-this.lastClickTime)<200){i.preventDefault()}return true};e.prototype.touchHasMoved=function(i){var d=i.changedTouches[0],h=this.touchBoundary;if(Math.abs(d.pageX-this.touchStartX)>h||Math.abs(d.pageY-this.touchStartY)>h){return true}return false};e.prototype.onTouchMove=function(d){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(d.target)||this.touchHasMoved(d)){this.trackingClick=false;this.targetElement=null}return true};e.prototype.findControl=function(d){if(d.control!==undefined){return d.control}if(d.htmlFor){return document.getElementById(d.htmlFor)}return d.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};e.prototype.onTouchEnd=function(o){var m,n,p,d,l,q=this.targetElement;if(!this.trackingClick){return true}if((o.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=o.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){l=o.changedTouches[0];q=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||q;q.fastClickScrollParent=this.targetElement.fastClickScrollParent}p=q.tagName.toLowerCase();if(p==="label"){m=this.findControl(q);if(m){this.focus(q);if(this.deviceIsAndroid){return false}q=m}}else{if(this.needsFocus(q)){if((o.timeStamp-n)>100||(this.deviceIsIOS&&window.top!==window&&p==="input")){this.targetElement=null;return false}this.focus(q);if(!this.deviceIsIOS4||p!=="select"){this.targetElement=null;o.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){d=q.fastClickScrollParent;if(d&&d.fastClickLastScrollTop!==d.scrollTop){return true}}if(!this.needsClick(q)){o.preventDefault();this.sendClick(q,o)}return false};e.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};e.prototype.onMouse=function(d){if(!this.targetElement){return true}if(d.forwardedTouchEvent){return true}if(!d.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(d.stopImmediatePropagation){d.stopImmediatePropagation()}else{d.propagationStopped=true}d.stopPropagation();d.preventDefault();return false}return true};e.prototype.onClick=function(g){var d;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(g.target.type==="submit"&&g.detail===0){return true}d=this.onMouse(g);if(!d){this.targetElement=null}return d};e.prototype.destroy=function(){var d=this.layer;if(this.deviceIsAndroid){d.removeEventListener("mouseover",this.onMouse,true);d.removeEventListener("mousedown",this.onMouse,true);d.removeEventListener("mouseup",this.onMouse,true)}d.removeEventListener("click",this.onClick,true);d.removeEventListener("touchstart",this.onTouchStart,false);d.removeEventListener("touchmove",this.onTouchMove,false);d.removeEventListener("touchend",this.onTouchEnd,false);d.removeEventListener("touchcancel",this.onTouchCancel,false)};e.notNeeded=function(h){var i;var d;if(typeof window.ontouchstart==="undefined"){return true}d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(d){if(e.prototype.deviceIsAndroid){i=document.querySelector("meta[name=viewport]");if(i){if(i.content.indexOf("user-scalable=no")!==-1){return true}if(d>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(h.style.msTouchAction==="none"){return true}return false};e.attach=function(d){return new e(d)};if(typeof define!=="undefined"&&define.amd){define(function(){return e})}else{if(typeof f!=="undefined"&&f.exports){f.exports=e.attach;f.exports.FastClick=e}else{window.FastClick=e}}});c.register("component~indexof@0.0.3",function(a,d){d.exports=function(i,g){if(i.indexOf){return i.indexOf(g)}for(var h=0;h<i.length;++h){if(i[h]===g){return h}}return -1}});c.register("component~classes@1.2.1",function(a,k){var l=c("component~indexof@0.0.3");var j=/\s+/;var i=Object.prototype.toString;k.exports=function(d){return new h(d)};function h(d){if(!d){throw new Error("A DOM element reference is required")}this.el=d;this.list=d.classList}h.prototype.add=function(e){if(this.list){this.list.add(e);return this}var f=this.array();var d=l(f,e);if(!~d){f.push(e)}this.el.className=f.join(" ");return this};h.prototype.remove=function(e){if("[object RegExp]"==i.call(e)){return this.removeMatching(e)}if(this.list){this.list.remove(e);return this}var f=this.array();var d=l(f,e);if(~d){f.splice(d,1)}this.el.className=f.join(" ");return this};h.prototype.removeMatching=function(d){var f=this.array();for(var e=0;e<f.length;e++){if(d.test(f[e])){this.remove(f[e])}}return this};h.prototype.toggle=function(e,d){if(this.list){if("undefined"!==typeof d){if(d!==this.list.toggle(e,d)){this.list.toggle(e)}}else{this.list.toggle(e)}return this}if("undefined"!==typeof d){if(!d){this.remove(e)}else{this.add(e)}}else{if(this.has(e)){this.remove(e)}else{this.add(e)}}return this};h.prototype.array=function(){var d=this.el.className.replace(/^\s+|\s+$/g,"");var e=d.split(j);if(""===e[0]){e.shift()}return e};h.prototype.has=h.prototype.contains=function(d){return this.list?this.list.contains(d):!!~l(this.array(),d)}});c.register("switchery",function(m,k){var n=c("abpetkov~transitionize@0.0.3"),a=c("ftlabs~fastclick@v0.6.11"),l=c("component~classes@1.2.1");k.exports=i;var j={showtextflag:true,color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#ffffff",onColor:"#ffffff",offColor:"#000000",className:"switchery",disabled:false,disabledOpacity:0.5,speed:"0.4s",size:"default",ontext:"开",offtext:"关",swwidth:80,swheight:30,fontSize:13};function i(d,f){if(!(this instanceof i)){return new i(d,f)}this.element=d;this.options=f||{};for(var e in j){if(this.options[e]==null){this.options[e]=j[e]}}if(this.element!=null&&this.element.type=="checkbox"){this.init()}}i.prototype.hide=function(){this.element.style.display="none"};i.prototype.show=function(){var d=this.create();this.insertAfter(this.element,d)};i.prototype.create=function(){this.switcher=document.createElement("span");this.jack=document.createElement("small");this.switchtext=document.createElement("span");this.switcher.appendChild(this.jack);this.switcher.appendChild(this.switchtext);this.switcher.className=this.options.className;return this.switcher};i.prototype.insertAfter=function(e,d){e.parentNode.insertBefore(d,e.nextSibling)};i.prototype.isChecked=function(){return this.element.checked};i.prototype.changeStatus=function(d){this.element.checked=d;this.setPosition()};i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly};i.prototype.setPosition=function(f){var v=this.options.showtextflag;var s=this.options.ontext;var h=this.options.offtext;var d=this.isChecked(),g=this.switcher,u=this.jack;switchtext=this.switchtext;if(f&&d){d=false}else{if(f&&!d){d=true}}if(d===true){this.element.checked=true;if(window.getComputedStyle){u.style.left=parseInt(window.getComputedStyle(g).width)-parseInt(window.getComputedStyle(u).width)+"px"}else{u.style.left=parseInt(g.currentStyle.width)-parseInt(u.currentStyle.width)+"px"}if(v==true){if(hasClass(u.nextSibling,"right")){removeClass(u.nextSibling,"right")}if(!hasClass(u.nextSibling,"left")){addClass(u.nextSibling,"left")}this.jack.nextSibling.innerHTML=s;var w=this.options.onColor;if(w!=""){$(switchtext).css("color",w)}}if(this.options.color){this.colorize()}this.setSpeed()}else{u.style.left=0;this.element.checked=false;this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor;this.switcher.style.borderColor=this.options.secondaryColor;this.switcher.style.backgroundColor=(this.options.secondaryColor!==j.secondaryColor)?this.options.secondaryColor:"#fff";this.jack.style.backgroundColor=this.options.jackColor;this.setSpeed();if(v==true){if(hasClass(u.nextSibling,"left")){removeClass(u.nextSibling,"left")}if(!hasClass(u.nextSibling,"right")){addClass(u.nextSibling,"right")}this.jack.nextSibling.innerHTML=h;var e=this.options.offColor;if(e!=""){$(switchtext).css("color",e)}}}};i.prototype.setSpeed=function(){var d={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};if(this.isChecked()){d={border:this.options.speed,"box-shadow":this.options.speed,"background-color":this.options.speed.replace(/[a-z]/,"")*3+"s"}}else{d={border:this.options.speed,"box-shadow":this.options.speed}}n(this.switcher,d);n(this.jack,e)};i.prototype.setText=function(){var d=this.options.ontext;var e=this.options.offtext};i.prototype.setSize=function(){var e=this.switcher,h=this.jack;switchtext=this.switchtext;var d=this.options.fontSize;if(d==undefined){d=13}$(switchtext).css("font-size",d+"px");var g=this.options.swwidth;if(g==undefined){g=20}var f=this.options.swheight;if(f==undefined){f=60}$(e).css("width",g+"px");$(e).css("height",f+"px");$(h).css("width",f+"px");$(h).css("height",f+"px");$(switchtext).css("height",f+"px");$(switchtext).css("line-height",f+"px")};i.prototype.colorize=function(){var d=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color;this.switcher.style.borderColor=this.options.color;this.switcher.style.boxShadow="inset 0 0 0 "+d+"px "+this.options.color;this.jack.style.backgroundColor=this.options.jackColor};i.prototype.handleOnchange=function(e,d){if(document.dispatchEvent){var f=document.createEvent("HTMLEvents");f.initEvent("change",true,true);$(this.element).data("upperStrataEvent",d);this.element.dispatchEvent(f)}else{this.element.fireEvent("onchange")}};i.prototype.handleChange=function(){var e=this,d=this.element;if(d.addEventListener){d.addEventListener("change",function(){e.setPosition()})}else{d.attachEvent("onchange",function(){e.setPosition()})}};i.prototype.handleClick=function(){var g=this,d=this.switcher,e=g.element.parentNode.tagName.toLowerCase(),f=(e==="label")?false:true;if(this.isDisabled()===false){a(d);if(d.addEventListener){var h=$("#isMobile").val();var o="click";if(h=="true"){o="tap"}d.addEventListener(o,function(p){if(g.options.disabled==true){return}g.setPosition(f);g.handleOnchange(g.element.checked,p)})}else{d.attachEvent("onclick",function(){if(g.options.disabled==true){return}g.setPosition(f);g.handleOnchange(g.element.checked)})}}else{this.element.disabled=true;this.switcher.style.opacity=this.options.disabledOpacity;this.switcher.style.cursor="default"}};i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",true)};i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")};i.prototype.init=function(){this.hide();this.show();this.setSize();this.setPosition();this.markAsSwitched();this.handleChange();this.handleClick()};i.prototype.isChecked=function(){return this.element.checked};i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly};i.prototype.destroy=function(){this.events.unbind()};i.prototype.enable=function(){if(!this.options.disabled){return}if(this.options.disabled){this.options.disabled=false}if(this.element.disabled){this.element.disabled=false}if(this.element.readOnly){this.element.readOnly=false}this.switcher.style.opacity=1};i.prototype.disable=function(){if(this.options.disabled){return}if(!this.options.disabled){this.options.disabled=true}if(!this.element.disabled){this.element.disabled=true}if(!this.element.readOnly){this.element.readOnly=true}this.switcher.style.opacity=this.options.disabledOpacity}});if(typeof exports=="object"){module.exports=c("switchery")}else{if(typeof define=="function"&&define.amd){define("Switchery",[],function(){return c("switchery")})}else{(this||window)["Switchery"]=c("switchery")}}})();function hasClass(c,d){return c.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))}function addClass(c,d){if(!this.hasClass(c,d)){c.className+=" "+d}}function removeClass(f,e){if(hasClass(f,e)){var d=new RegExp("(\\s|^)"+e+"(\\s|$)");f.className=f.className.replace(d," ")}}function toggleClass(c,d){if(hasClass(c,d)){removeClass(c,d)}else{addClass(c,d)}}
/*!
 * pickadate.js v3.3.1, 2013/12/04
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
!function(c){"function"==typeof define&&define.amd?define("picker",["jquery"],c):this.Picker=c(jQuery)}(function(e){function d(A,z,y,x){function w(){return d._.node("div",d._.node("div",d._.node("div",d._.node("div",a.component.nodes(u.open),q.box),q.wrap),q.frame),q.holder)}function v(g){g.stopPropagation(),"focus"==g.type&&a.$root.addClass(q.focused),a.open()}if(!A){return d}var u={id:Math.abs(~~(1000000000*Math.random()))},s=y?e.extend(!0,{},y.defaults,x):x||{},q=e.extend({},d.klasses(),s.klass),p=e(A),c=function(){return this.start()},a=c.prototype={constructor:c,$node:p,start:function(){return u&&u.start?a:(u.methods={},u.start=!0,u.open=!1,u.type=A.type,A.autofocus=A==document.activeElement,A.type="text",A.readOnly=!s.editable,a.component=new y(a,s),a.$root=e(d._.node("div",w(),q.picker)).on({focusin:function(g){a.$root.removeClass(q.focused),g.stopPropagation()},"mousedown click":function(g){var h=g.target;h!=a.$root.children()[0]&&(g.stopPropagation(),"mousedown"!=g.type||e(h).is(":input")||(g.preventDefault(),A.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var k=e(this),j=k.data(),i=k.hasClass(q.navDisabled)||k.hasClass(q.disabled),h=document.activeElement;h=h&&(h.type||h.href),(i||h&&!e.contains(a.$root[0],h))&&A.focus(),j.nav&&!i?a.set("highlight",a.component.item.highlight,{nav:j.nav}):d._.isInteger(j.pick)&&!i?a.set("select",j.pick).close(!0):j.clear&&a.clear().close(!0)}),s.formatSubmit&&(a._hidden=e('<input type=hidden name="'+("string"==typeof s.hiddenPrefix?s.hiddenPrefix:"")+A.name+("string"==typeof s.hiddenSuffix?s.hiddenSuffix:"_submit")+'"'+(p.data("value")?' value="'+d._.trigger(a.component.formats.toString,a.component,[s.formatSubmit,a.component.item.select])+'"':"")+">")[0]),p.data(z,a).addClass(q.input).val(p.data("value")?d._.trigger(a.component.formats.toString,a.component,[s.format,a.component.item.select]):A.value).after(a._hidden).on("focus.P"+u.id+" click.P"+u.id,v).on("change.P"+u.id,function(){a._hidden&&(a._hidden.value=A.value?d._.trigger(a.component.formats.toString,a.component,[s.formatSubmit,a.component.item.select]):"")}),s.editable||p.on("keydown.P"+u.id,function(h){var g=h.keyCode,i=/^(8|46)$/.test(g);return 27==g?(a.close(),!1):((32==g||i||!u.open&&a.component.key[g])&&(h.preventDefault(),h.stopPropagation(),i?a.clear().close():a.open()),void 0)}),s.container?e(s.container).append(a.$root):p.after(a.$root),a.on({start:a.component.onStart,render:a.component.onRender,stop:a.component.onStop,open:a.component.onOpen,close:a.component.onClose,set:a.component.onSet}).on({start:s.onStart,render:s.onRender,stop:s.onStop,open:s.onOpen,close:s.onClose,set:s.onSet}),A.autofocus&&a.open(),a.trigger("start").trigger("render"))},render:function(g){return g?a.$root.html(w()):a.$root.find("."+q.box).html(a.component.nodes(u.open)),a.trigger("render")},stop:function(){return u.start?(a.close(),a._hidden&&a._hidden.parentNode.removeChild(a._hidden),a.$root.remove(),p.removeClass(q.input).off(".P"+u.id).removeData(z),A.type=u.type,A.readOnly=!1,a.trigger("stop"),u.methods={},u.start=!1,a):a},open:function(g){return u.open?a:(p.addClass(q.active),a.$root.addClass(q.opened),g!==!1&&(u.open=!0,p.trigger("focus"),f.on("click.P"+u.id+" focusin.P"+u.id,function(i){var h=i.target;h!=A&&h!=document&&a.close(h===a.$root.children()[0])}).on("keydown.P"+u.id,function(k){var j=k.keyCode,i=a.component.key[j],h=k.target;27==j?a.close(!0):h!=A||!i&&13!=j?e.contains(a.$root[0],h)&&13==j&&(k.preventDefault(),h.click()):(k.preventDefault(),i?d._.trigger(a.component.key.go,a,[d._.trigger(i)]):a.$root.find("."+q.highlighted).hasClass(q.disabled)||a.set("select",a.component.item.highlight).close())})),a.trigger("open"))},close:function(g){return g&&(p.off("focus.P"+u.id).trigger("focus"),setTimeout(function(){p.on("focus.P"+u.id,v)},0)),p.removeClass(q.active),a.$root.removeClass(q.opened+" "+q.focused),u.open&&(u.open=!1,f.off(".P"+u.id)),a.trigger("close")},clear:function(){return a.set("clear")},set:function(B,o,n){var m,l,k=e.isPlainObject(B),j=k?B:{};if(n=k&&e.isPlainObject(o)?o:n||{},B){k||(j[B]=o);for(m in j){l=j[m],a.component.item[m]&&a.component.set(m,l,n),("select"==m||"clear"==m)&&p.val("clear"==m?"":d._.trigger(a.component.formats.toString,a.component,[s.format,a.component.get(m)])).trigger("change")}a.render()}return n.muted?a:a.trigger("set",j)},get:function(g,h){return g=g||"value",null!=u[g]?u[g]:"value"==g?A.value:a.component.item[g]?"string"==typeof h?d._.trigger(a.component.formats.toString,a.component,[h,a.component.get(g)]):a.component.get(g):void 0},on:function(h,m){var l,k,j=e.isPlainObject(h),i=j?h:{};if(h){j||(i[h]=m);for(l in i){k=i[l],u.methods[l]=u.methods[l]||[],u.methods[l].push(k)}}return a},trigger:function(g,i){var h=u.methods[g];return h&&h.map(function(j){d._.trigger(j,a,[i])}),a}};return new c}var f=e(document);return d.klasses=function(c){return c=c||"picker",{picker:c,opened:c+"--opened",focused:c+"--focused",input:c+"__input",active:c+"__input--active",holder:c+"__holder",frame:c+"__frame",wrap:c+"__wrap",box:c+"__box"}},d._={group:function(g){for(var j,i="",h=d._.trigger(g.min,g);h<=d._.trigger(g.max,g,[h]);h+=g.i){j=d._.trigger(g.item,g,[h]),i+=d._.node(g.node,j[0],j[1],j[2])}return i},node:function(a,i,h,g){return i?(i=e.isArray(i)?i.join(""):i,h=h?' class="'+h+'"':"",g=g?" "+g:"","<"+a+h+g+">"+i+"</"+a+">"):""},lead:function(c){return(10>c?"0":"")+c},trigger:function(h,g,i){return"function"==typeof h?h.apply(g,i||[]):h},digits:function(c){return/\d/.test(c[1])?2:1},isDate:function(c){return{}.toString.call(c).indexOf("Date")>-1&&this.isInteger(c.getDate())},isInteger:function(c){return{}.toString.call(c).indexOf("Number")>-1&&c%1===0}},d.extend=function(g,a){e.fn[g]=function(i,h){var c=this.data(g);return"picker"==i?c:c&&"string"==typeof i?(d._.trigger(c[i],c,[h]),this):this.each(function(){var j=e(this);j.data(g)||new d(this,g,a,i)})},e.fn[g].defaults=a.defaults},d});
/*!
 * Date picker for pickadate.js v3.3.1
 * http://amsul.github.io/pickadate.js/date.htm
 */
!function(c){"function"==typeof define&&define.amd?define(["picker","jquery"],c):c(Picker,jQuery)}(function(g,f){function j(l,k){var s=this,q=l.$node[0].value,p=l.$node.data("value"),o=p||q,n=p?k.formatSubmit:k.format,m=function(){return"rtl"===getComputedStyle(l.$root[0]).direction};s.settings=k,s.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"navigate create validate",view:"create validate viewset",disable:"flipItem",enable:"flipItem"},s.item={},s.item.disable=(k.disable||[]).slice(0),s.item.enable=-function(c){return c[0]===!0?c.shift():-1}(s.item.disable),s.set("min",k.min).set("max",k.max).set("now").set("select",o||s.item.now,{format:n,data:function(c){return o&&(c.indexOf("mm")>-1||c.indexOf("m")>-1)}(s.formats.toArray(n))}),s.key={40:7,38:-7,39:function(){return m()?-1:1},37:function(){return m()?1:-1},go:function(c){s.set("highlight",[s.item.highlight.year,s.item.highlight.month,s.item.highlight.date+c],{interval:c}),this.render()}},l.on("render",function(){l.$root.find("."+k.klass.selectMonth).on("change",function(){l.set("highlight",[l.get("view").year,this.value,l.get("highlight").date]),l.$root.find("."+k.klass.selectMonth).trigger("focus")}),l.$root.find("."+k.klass.selectYear).on("change",function(){l.set("highlight",[this.value,l.get("view").month,l.get("highlight").date]),l.$root.find("."+k.klass.selectYear).trigger("focus")})}).on("open",function(){l.$root.find("button, select").attr("disabled",!1)}).on("close",function(){l.$root.find("button, select").attr("disabled",!0)})}var i=7,h=6;j.prototype.set=function(k,e,m){var l=this;return l.item["enable"==k?"disable":"flip"==k?"enable":k]=l.queue[k].split(" ").map(function(a){return e=l[a](k,e,m)}).pop(),"select"==k?l.set("highlight",l.item.select,m):"highlight"==k?l.set("view",l.item.highlight,m):("flip"==k||"min"==k||"max"==k||"disable"==k||"enable"==k)&&l.item.select&&l.item.highlight&&l.set("select",l.item.select,m).set("highlight",l.item.highlight,m),l},j.prototype.get=function(c){return this.item[c]},j.prototype.create=function(n,m,l){var k,a=this;return m=void 0===m?n:m,m==-1/0||1/0==m?k=m:f.isPlainObject(m)&&g._.isInteger(m.pick)?m=m.obj:f.isArray(m)?(m=new Date(m[0],m[1],m[2]),m=g._.isDate(m)?m:a.create().obj):m=g._.isInteger(m)||g._.isDate(m)?a.normalize(new Date(m),l):a.now(n,m,l),{year:k||m.getFullYear(),month:k||m.getMonth(),date:k||m.getDate(),day:k||m.getDay(),obj:k||m,pick:k||m.getTime()}},j.prototype.now=function(e,d,k){return d=new Date,k&&k.rel&&d.setDate(d.getDate()+k.rel),this.normalize(d,k)},j.prototype.navigate=function(p,o,n){if(f.isPlainObject(o)){for(var m=new Date(o.year,o.month+(n&&n.nav?n.nav:0),1),l=m.getFullYear(),k=m.getMonth(),a=o.date;g._.isDate(m)&&new Date(l,k,a).getMonth()!==k;){a-=1}o=[l,k,a]}return o},j.prototype.normalize=function(c){return c.setHours(0,0,0,0),c},j.prototype.measure=function(a,k){var e=this;return k?g._.isInteger(k)&&(k=e.now(a,k,{rel:k})):k="min"==a?-1/0:1/0,k},j.prototype.viewset=function(d,c){return this.create([c.year,c.month,1])},j.prototype.validate=function(E,D,C){var B,A,z,y,x=this,w=D,v=C&&C.interval?C.interval:1,u=-1===x.item.enable,s=x.item.min,q=x.item.max,a=u&&x.item.disable.filter(function(k){if(f.isArray(k)){var d=x.create(k).pick;d<D.pick?B=!0:d>D.pick&&(A=!0)}return g._.isInteger(k)}).length;if(!C.nav&&(!u&&x.disabled(D)||u&&x.disabled(D)&&(a||B||A)||D.pick<=s.pick||D.pick>=q.pick)){for(u&&!a&&(!A&&v>0||!B&&0>v)&&(v*=-1);x.disabled(D)&&(Math.abs(v)>1&&(D.month<w.month||D.month>w.month)&&(D=w,v=Math.abs(v)/v),D.pick<=s.pick?(z=!0,v=1):D.pick>=q.pick&&(y=!0,v=-1),!z||!y);){D=x.create([D.year,D.month,D.date+v])}}return D},j.prototype.disabled=function(l){var k=this,a=k.item.disable.filter(function(c){return g._.isInteger(c)?l.day===(k.settings.firstDay?c:c-1)%7:f.isArray(c)||g._.isDate(c)?l.pick===k.create(c).pick:void 0});return a=a.length&&!a.filter(function(c){return f.isArray(c)&&"inverted"==c[3]}).length,-1===k.item.enable?!a:a||l.pick<k.item.min.pick||l.pick>k.item.max.pick},j.prototype.parse=function(n,m,l){var k=this,a={};if(!m||g._.isInteger(m)||f.isArray(m)||g._.isDate(m)||f.isPlainObject(m)&&g._.isInteger(m.pick)){return m}if(!l||!l.format){throw"Need a formatting option to parse this.."}return k.formats.toArray(l.format).map(function(d){var p=k.formats[d],o=p?g._.trigger(p,k,[m,a]):d.replace(/^!/,"").length;p&&(a[d]=m.substr(0,o)),m=m.substr(o)}),[a.yyyy||a.yy,+(a.mm||a.m)-(l.data?1:0),a.dd||a.d]},j.prototype.formats=function(){function a(k,e,m){var l=k.match(/\w+/)[0];return m.mm||m.m||(m.m=e.indexOf(l)),l.length}function d(c){return c.match(/\w+/)[0].length}return{d:function(e,k){return e?g._.digits(e):k.date},dd:function(e,k){return e?2:g._.lead(k.date)},ddd:function(e,c){return e?d(e):this.settings.weekdaysShort[c.day]},dddd:function(e,c){return e?d(e):this.settings.weekdaysFull[c.day]},m:function(e,k){return e?g._.digits(e):k.month+1},mm:function(e,k){return e?2:g._.lead(k.month+1)},mmm:function(e,l){var k=this.settings.monthsShort;return e?a(e,k,l):k[l.month]},mmmm:function(e,l){var k=this.settings.monthsFull;return e?a(e,k,l):k[l.month]},yy:function(e,c){return e?2:(""+c.year).slice(2)},yyyy:function(e,c){return e?4:c.year},toArray:function(c){return c.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,l){var k=this;return k.formats.toArray(e).map(function(c){return g._.trigger(k.formats[c],k,[0,l])||c.replace(/^!/,"")}).join("")}}}(),j.prototype.flipItem=function(k,o){var n=this,m=n.item.disable,l=-1===n.item.enable;return"flip"==o?n.item.enable=l?1:-1:"enable"==k&&o===!0||"disable"==k&&o===!1?(n.item.enable=1,m=[]):"enable"==k&&o===!1||"disable"==k&&o===!0?(n.item.enable=-1,m=[]):f.isArray(o)&&(l&&"enable"==k||!l&&"disable"==k?m=n.addDisabled(m,o):l||"enable"!=k?l&&"disable"==k&&(m=n.removeDisabled(m,o)):m=n.addEnabled(m,o)),m},j.prototype.addEnabled=function(l,k){var a=this;return k.map(function(c){a.filterDisabled(l,c,1).length&&(l=a.removeDisabled(l,[c]),f.isArray(c)&&l.filter(function(d){return g._.isInteger(d)&&a.create(c).day===d-1}).length&&(c=c.slice(0),c.push("inverted"),l.push(c)))}),l},j.prototype.addDisabled=function(e,l){var k=this;return l.map(function(a){k.filterDisabled(e,a).length?f.isArray(a)&&k.filterDisabled(e,a,1).length&&(e=k.removeDisabled(e,[a])):e.push(a)}),e},j.prototype.removeDisabled=function(e,d){var k=this;return d.map(function(a){e=k.filterDisabled(e,a,1)}),e},j.prototype.filterDisabled=function(o,n,m){var l=this,k=f.isArray(n)||g._.isDate(n),a=k&&l.create(n).pick;return o.filter(function(e){var d=k&&(f.isArray(e)||g._.isDate(e))?a===l.create(e).pick:n===e;return m?!d:d})},j.prototype.nodes=function(D){var C=this,B=C.settings,A=C.item.now,z=C.item.select,y=C.item.highlight,x=C.item.view,w=C.item.disable,v=C.item.min,u=C.item.max,s=function(c){return B.firstDay&&c.push(c.shift()),g._.node("thead",g._.group({min:0,max:i-1,i:1,node:"th",item:function(k){return[c[k],B.klass.weekdays]}}))}((B.showWeekdaysFull?B.weekdaysFull:B.weekdaysShort).slice(0)),e=function(c){return g._.node("div"," ",B.klass["nav"+(c?"Next":"Prev")]+(c&&x.year>=u.year&&x.month>=u.month||!c&&x.year<=v.year&&x.month<=v.month?" "+B.klass.navDisabled:""),"data-nav="+(c||-1))},d=function(k){return B.selectMonths?g._.node("select",g._.group({min:0,max:11,i:1,node:"option",item:function(c){return[k[c],0,"value="+c+(x.month==c?" selected":"")+(x.year==v.year&&c<v.month||x.year==u.year&&c>u.month?" disabled":"")]}}),B.klass.selectMonth,D?"":"disabled"):g._.node("div",k[x.month],B.klass.month)},a=function(){var G=x.year,E=B.selectYears===!0?5:~~(B.selectYears/2);if(E){var q=v.year,p=u.year,o=G-E,m=G+E;if(q>o&&(m+=q-o,o=q),m>p){var l=o-q,F=m-p;o-=l>F?F:l,m=p}return g._.node("select",g._.group({min:o,max:m,i:1,node:"option",item:function(c){return[c,0,"value="+c+(G==c?" selected":"")]}}),B.klass.selectYear,D?"":"disabled")}return g._.node("div",G,B.klass.year)};return g._.node("div",e()+e(1)+d(B.showMonthsShort?B.monthsShort:B.monthsFull)+a(),B.klass.header)+g._.node("table",s+g._.node("tbody",g._.group({min:0,max:h-1,i:1,node:"tr",item:function(c){var k=B.firstDay&&0===C.create([x.year,x.month,1]).day?-7:0;return[g._.group({min:i*c-x.day+k+1,max:function(){return this.min+i-1},i:1,node:"td",item:function(l){return l=C.create([x.year,x.month,l+(B.firstDay?1:0)]),[g._.node("div",l.date,function(m){return m.push(x.month==l.month?B.klass.infocus:B.klass.outfocus),A.pick==l.pick&&m.push(B.klass.now),z&&z.pick==l.pick&&m.push(B.klass.selected),y&&y.pick==l.pick&&m.push(B.klass.highlighted),(w&&C.disabled(l)||l.pick<v.pick||l.pick>u.pick)&&m.push(B.klass.disabled),m.join(" ")}([B.klass.day]),"data-pick="+l.pick)]}})]}})),B.klass.table)+g._.node("div",g._.node("button",B.today,B.klass.buttonToday,"type=button data-pick="+A.pick+(D?"":" disabled"))+g._.node("button",B.clear,B.klass.buttonClear,"type=button data-clear=1"+(D?"":" disabled")),B.klass.footer)},j.defaults=function(c){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:c+"table",header:c+"header",navPrev:c+"nav--prev",navNext:c+"nav--next",navDisabled:c+"nav--disabled",month:c+"month",year:c+"year",selectMonth:c+"select--month",selectYear:c+"select--year",weekdays:c+"weekday",day:c+"day",disabled:c+"day--disabled",selected:c+"day--selected",highlighted:c+"day--highlighted",now:c+"day--today",infocus:c+"day--infocus",outfocus:c+"day--outfocus",footer:c+"footer",buttonClear:c+"button--clear",buttonToday:c+"button--today"}}}(g.klasses().picker+"__"),g.extend("pickadate",j)});
/*!
 * Time picker for pickadate.js v3.3.1
 * http://amsul.github.io/pickadate.js/time.htm
 */
!function(c){"function"==typeof define&&define.amd?define(["picker","jquery"],c):c(Picker,jQuery)}(function(i,h){function n(f,e){var o=this,g=f.$node.data("value");o.settings=e,o.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"create validate",view:"create validate",disable:"flipItem",enable:"flipItem"},o.item={},o.item.interval=e.interval||30,o.item.disable=(e.disable||[]).slice(0),o.item.enable=-function(c){return c[0]===!0?c.shift():-1}(o.item.disable),o.set("min",e.min).set("max",e.max).set("now").set("select",g||f.$node[0].value||o.item.min,{format:g?e.formatSubmit:e.format}),o.key={40:1,38:-1,39:1,37:-1,go:function(c){o.set("highlight",o.item.highlight.pick+c*o.item.interval,{interval:c*o.item.interval}),this.render()}},f.on("render",function(){var p=f.$root.children(),a=p.find("."+e.klass.viewset);a.length&&(p[0].scrollTop=~~a.position().top-2*a[0].clientHeight)}).on("open",function(){f.$root.find("button").attr("disable",!1)}).on("close",function(){f.$root.find("button").attr("disable",!0)})}var m=24,l=60,k=12,j=m*l;n.prototype.set=function(f,e,o){var g=this;return g.item["enable"==f?"disable":"flip"==f?"enable":f]=g.queue[f].split(" ").map(function(a){return e=g[a](f,e,o)}).pop(),"select"==f?g.set("highlight",g.item.select,o):"highlight"==f?g.set("view",g.item.highlight,o):"interval"==f?g.set("min",g.item.min,o).set("max",g.item.max,o):("flip"==f||"min"==f||"max"==f||"disable"==f||"enable"==f)&&g.item.select&&g.item.highlight&&("min"==f&&g.set("max",g.item.max,o),g.set("select",g.item.select,o).set("highlight",g.item.highlight,o)),g},n.prototype.get=function(c){return this.item[c]},n.prototype.create=function(g,e,d){var a=this;return e=void 0===e?g:e,i._.isDate(e)&&(e=[e.getHours(),e.getMinutes()]),h.isPlainObject(e)&&i._.isInteger(e.pick)?e=e.pick:h.isArray(e)?e=+e[0]*l+ +e[1]:i._.isInteger(e)||(e=a.now(g,e,d)),"max"==g&&e<a.item.min.pick&&(e+=j),"min"!=g&&"max"!=g&&(e-a.item.min.pick)%a.item.interval!==0&&(e+=a.item.interval),e=a.normalize(g,e,d),{hour:~~(m+e/l)%m,mins:(l+e%l)%l,time:(j+e)%j,pick:e}},n.prototype.now=function(a,o){var g=new Date,e=g.getHours()*l+g.getMinutes();return e-=e%this.item.interval,i._.isInteger(o)?o+="min"==a&&0>o&&0===e?2:1:o=1,o*this.item.interval+e},n.prototype.normalize=function(f,e){var o=this.item.interval,g="min"==f?0:(e-this.item.min.pick)%o;return e-(g+(0>e?o:0))},n.prototype.measure=function(o,e,d){var a=this;return e?e===!0||i._.isInteger(e)?e=a.now(o,e,d):h.isPlainObject(e)&&i._.isInteger(e.pick)&&(e=a.normalize(o,e.pick,d)):e="min"==o?[0,0]:[m-1,l-1],e},n.prototype.validate=function(g,f,q){var p=this,o=q&&q.interval?q.interval:p.item.interval;return p.disabled(f)&&(f=p.shift(f,o)),f=p.scope(f),p.disabled(f)&&(f=p.shift(f,-1*o)),f},n.prototype.disabled=function(g){var f=this,a=f.item.disable.filter(function(c){return i._.isInteger(c)?g.hour==c:h.isArray(c)||i._.isDate(c)?g.pick==f.create(c).pick:void 0});return a=a.length&&!a.filter(function(c){return h.isArray(c)&&"inverted"==c[2]}).length,-1===f.item.enable?!a:a||g.pick<f.item.min.pick||g.pick>f.item.max.pick},n.prototype.shift=function(g,f){var q=this,p=q.item.min.pick,o=q.item.max.pick;for(f=f||q.item.interval;q.disabled(g)&&(g=q.create(g.pick+=f),!(g.pick<=p||g.pick>=o));){}return g},n.prototype.scope=function(e){var d=this.item.min.pick,f=this.item.max.pick;return this.create(e.pick>f?f:e.pick<d?d:e)},n.prototype.parse=function(q,p,o){var e=this,a={};if(!p||i._.isInteger(p)||h.isArray(p)||i._.isDate(p)||h.isPlainObject(p)&&i._.isInteger(p.pick)){return p}if(!o||!o.format){throw"Need a formatting option to parse this.."}return e.formats.toArray(o.format).map(function(d){var g=e.formats[d],f=g?i._.trigger(g,e,[p,a]):d.replace(/^!/,"").length;g&&(a[d]=p.substr(0,f)),p=p.substr(f)}),+a.i+l*(+(a.H||a.HH)||+(a.h||a.hh)%12+(/^p/i.test(a.A||a.a)?12:0))},n.prototype.formats={h:function(a,d){return a?i._.digits(a):d.hour%k||k},hh:function(a,d){return a?2:i._.lead(d.hour%k||k)},H:function(a,d){return a?i._.digits(a):""+d.hour%24},HH:function(a,d){return a?i._.digits(a):i._.lead(d.hour%24)},i:function(a,d){return a?2:i._.lead(d.mins)},a:function(d,c){return d?4:j/2>c.time%j?"a.m.":"p.m."},A:function(d,c){return d?2:j/2>c.time%j?"AM":"PM"},toArray:function(c){return c.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,f){var e=this;return e.formats.toArray(a).map(function(c){return i._.trigger(e.formats[c],e,[0,f])||c.replace(/^!/,"")}).join("")}},n.prototype.flipItem=function(g,s){var q=this,p=q.item.disable,o=-1===q.item.enable;return"flip"==s?q.item.enable=o?1:-1:"enable"==g&&s===!0||"disable"==g&&s===!1?(q.item.enable=1,p=[]):"enable"==g&&s===!1||"disable"==g&&s===!0?(q.item.enable=-1,p=[]):h.isArray(s)&&(o&&"enable"==g||!o&&"disable"==g?p=q.addDisabled(p,s):o||"enable"!=g?o&&"disable"==g&&(p=q.removeDisabled(p,s)):p=q.addEnabled(p,s)),p},n.prototype.addEnabled=function(g,f){var a=this;return f.map(function(c){a.filterDisabled(g,c,1).length&&(g=a.removeDisabled(g,[c]),h.isArray(c)&&g.filter(function(d){return i._.isInteger(d)&&a.create(c).hour===d}).length&&(c=c.slice(0),c.push("inverted"),g.push(c)))}),g},n.prototype.addDisabled=function(e,g){var f=this;return g.map(function(a){f.filterDisabled(e,a).length?h.isArray(a)&&f.filterDisabled(e,a,1).length&&(e=f.removeDisabled(e,[a])):e.push(a)}),e},n.prototype.removeDisabled=function(e,d){var f=this;return d.map(function(a){e=f.filterDisabled(e,a,1)}),e},n.prototype.filterDisabled=function(f,p,o){var g=h.isArray(p);return f.filter(function(c){var d=!g&&p===c||g&&h.isArray(c)&&p.toString()===c.toString();return o?!d:d})},n.prototype.i=function(a,d){return i._.isInteger(d)&&d>0?d:this.item.interval},n.prototype.nodes=function(a){var v=this,u=v.settings,s=v.item.select,q=v.item.highlight,p=v.item.view,o=v.item.disable;return i._.node("ul",i._.group({min:v.item.min.pick,max:v.item.max.pick,i:v.item.interval,node:"li",item:function(c){return c=v.create(c),[i._.trigger(v.formats.toString,v,[i._.trigger(u.formatLabel,v,[c])||u.format,c]),function(d,e){return s&&s.pick==e&&d.push(u.klass.selected),q&&q.pick==e&&d.push(u.klass.highlighted),p&&p.pick==e&&d.push(u.klass.viewset),o&&v.disabled(c)&&d.push(u.klass.disabled),d.join(" ")}([u.klass.listItem],c.pick),"data-pick="+c.pick]}})+i._.node("li",i._.node("button",u.clear,u.klass.buttonClear,"type=button data-clear=1"+(a?"":" disable"))),u.klass.list)},n.defaults=function(c){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:c+" "+c+"--time",holder:c+"__holder",list:c+"__list",listItem:c+"__list-item",disabled:c+"__list-item--disabled",selected:c+"__list-item--selected",highlighted:c+"__list-item--highlighted",viewset:c+"__list-item--viewset",now:c+"__list-item--now",buttonClear:c+"__button--clear"}}}(i.klasses().picker),i.extend("pickatime",n)});
/*!
 * jQuery verson 1.10.2
 * AWS UI PhotoCut
 */
(function($){$.fn.submitForm=function(opt){var defaultOpt={json:true};var options=$.extend(defaultOpt,opt);var form=$(this);if(options.onSubmit){if(options.onSubmit.call(form)==false){return}}if(options.url){form.attr("action",options.url)}var frameId="submit_frame_"+(new Date().getTime());var frame=$("<iframe id="+frameId+" name="+frameId+"></iframe>").attr("src",window.ActiveXObject?"javascript:false":"about:blank").css({position:"absolute",top:-1000,left:-1000});form.attr("target",frameId);frame.appendTo("body");frame.bind("load",submitCallback);form.append("<input type='hidden' name='submitFormByHiddenFrame' id='submitFormByHiddenFrameParam' value='hiddenFrame'/>");form[0].submit();$("#submitFormByHiddenFrameParam").remove();var checkCount=10;function submitCallback(){frame.unbind();var body=$("#"+frameId).contents().find("body");var data=body.html();if(data==""){if(--checkCount){setTimeout(submitCallback,200);return}return}var ta=body.find(">textarea");if(ta.length){data=ta.val()}else{var pre=body.find(">pre");if(pre.length){data=pre.html()}}eval("data="+data);if(options.success){options.success(data)}setTimeout(function(){frame.unbind();frame.remove()},100)}};$.fn.clipper=function(options){var clipper=$(this);if(typeof options=="string"){if(options=="get"){var image=clipper.find("img");var oriWidth=parseInt(image.attr("w"));var oriHeight=parseInt(image.attr("h"));var width=image.width();var height=image.height();var imgX=image.position().left;var imgY=image.position().top;var offsetX=Math.abs(imgX-30)/width;var offsetY=Math.abs(imgY-30)/height;var result={x:Math.round(offsetX*oriWidth),y:Math.round(offsetY*oriHeight),w:Math.round(oriWidth*(240/width)),h:Math.round(oriHeight*(240/height))};return result}return}clipper.bind("selectstart",function(){return false});clipper.html('<div class="awsui-clipper"><img class="loading" src=""/><div>'+加载中+'</div></div><div class="awsui-clipper_control"><div class="zoom zoomout"></div><div class="zoom zoomin"></div><div class="slidebar"><div class="slideline"></div><div class="slidecircle"></div></div></div>');clipper.find("img").unbind().bind("load",function(){var img=$(this);img.removeClass("loading");clipper.find(".awsui-clipper").find("div").remove();var w=img.width();var h=img.height();img.attr({w:w,h:h});if(w>h){w=w/h*240;h=240}else{h=h/w*240;w=240}img.attr({bw:w,bh:h});var left=(240-w)/2+30;var top=(240-h)/2+30;img.css({width:w,height:h,left:left,top:top});clipper.find(".awsui-clipper").append('<span class="mask_t"></span><span class="mask_b"></span><span class="mask_l"></span><span class="mask_r"></span><div class="selector"></div>');clipper.find(".awsui-clipper").unbind().bind("mousedown",function(downe){var image=clipper.find("img");var beginX=downe.pageX;var beginY=downe.pageY;var posX=image.position().left;var posY=image.position().top;var width=image.width();var height=image.height();$(document).bind("mousemove.clipper",function(e){var toX=posX+(e.pageX-beginX);var toY=posY+(e.pageY-beginY);if(toX>30){toX=30}else{if(toX+width<270){toX=270-width}}if(toY>30){toY=30}else{if(toY+height<270){toY=270-height}}image.css({left:toX,top:toY})});$(document).bind("mouseup.clipper",function(e){$(document).unbind("mousemove.clipper");$(document).unbind("mouseup.clipper")})});clipper.find(".slidecircle").unbind().bind("mousedown",function(downe){var circle=$(this);circle.addClass("active");var image=clipper.find("img");var beginX=downe.pageX;var beginY=downe.pageY;var posX=circle.position().left;var posY=circle.position().top;var imgX=image.position().left;var imgY=image.position().top;var width=image.width();var height=image.height();var oriWidth=parseInt(image.attr("bw"));var oriHeight=parseInt(image.attr("bh"));$(document).bind("mousemove.clipper",function(e){var toX=posX+(e.pageX-beginX);if(toX<0){toX=0}else{if(toX>170){toX=170}}circle.css("left",toX);var percent=1+toX/50;var scaledW=oriWidth*percent;var scaledH=oriHeight*percent;var scaledX=imgX-(scaledW-width)/2;var scaledY=imgY-(scaledH-height)/2;if(scaledX>30){scaledX=30}else{if(scaledX+scaledW<270){scaledX=270-scaledW}}if(scaledY>30){scaledY=30}else{if(scaledY+scaledH<270){scaledY=270-scaledH}}image.css({width:scaledW,height:scaledH,left:scaledX,top:scaledY})});$(document).bind("mouseup.clipper",function(e){$(document).unbind("mousemove.clipper");$(document).unbind("mouseup.clipper");circle.removeClass("active")})})});clipper.find("img").attr("src",options.src)}})(jQuery);loadjs("./jquery/scripts/ui/datepicker/WdatePicker.js");(function(a){a.fn.datepicker=function(d){if(this.attr("readonly")=="readonly"){return}function c(){var f="zh-cn";try{if(language!=undefined){if(language=="cn"){f="zh-cn"}else{if(language=="big5"){f="zh-tw"}else{if(language=="en"){f="en"}else{f="zh-cn"}}}}else{f="zh-cn"}}catch(g){}return f}if(d==undefined){this.off("click").on("click",function(){awsDatePicker({lang:c()})});if(this.css("width")==""){this.css("width","73px")}}else{this.off("click").on("click",function(){if(!d.lang){d.lang=c()}if(d.autoPickDate===null||d.autoPickDate===false){delete d.doubleCalendar}awsDatePicker(d)});if(d.dateFmt=="yyyy-MM-dd HH:mm:ss"){if(this.css("width")==""){this.css("width","130px")}}else{if(d.dateFmt=="HH:mm:ss"){if(this.css("width")==""){this.css("width","55px")}}else{if(d.dateFmt=="HH"){if(this.css("width")==""){this.css("width","20px")}}else{if(this.css("width")==""){this.css("width","73px")}}}}}};initDatepicker()})(jQuery);function initDatepicker(){$(".awsui-datepicker").each(function(){var d="twoer";var c=$(this).attr("awsui-props");if(c&&c.indexOf("{")>-1){var a=awsui.decode(c);if(a&&a.skin==undefined){a.skin=d}$(this).datepicker(a)}else{$(this).datepicker({dateFmt:c,skin:d})}})}function awsDatePicker(a){WdatePicker(a)}loadjs("./jquery/scripts/ui/datepicker/aws.jquery.ui.datepicker.js");loadCss("./jquery/scripts/ui/datepicker/aws.jquery.ui.datepicker.css");loadCss("./jquery/scripts/ui/datepicker/aws.datepicker.range.css");var awsDatepickerFun=[];var targetId;(function(a){a.fn.datepickerRange=function(e){if(!e.callbackfun){a.simpleAlert("not found callbackfun!","info",2000)}var g={callbackfun:null,startTime:getDiyDay(-30),endTime:getDiyDay(0),showLeft:0,showTop:5,emptyBtn:false,isShowToday:true};var d=a.extend(g,e);targetId=this.attr("id");awsDatepickerFun[targetId]=d.callbackfun;var h="<div class='report-navigation-condition'>";h+="<div id='navigationInterval' class='report-navigation-time-interval' style='background-color:#FFF;'>";h+="<span id='navigationIntervalStart' tit='"+targetId+"'>";h+=d.startTime;h+="</span>";h+="<span class='report-navigation-time-interval-line'>-</span>";h+="<span id='navigationIntervalEnd' tit='"+targetId+"'>";h+=d.endTime;h+="</span>";h+="<span class='report-navigation-icon-downarrow-black-down report-navigation-time-interval-downarrow'>&nbsp;</span>";h+="</div>";h+="</div>";this.html(h);var c=new Date();h="<div class='navigationDatepickerDivAws' style='display:none;z-index:9999' tit='"+a(this).attr("id")+"'>";h+="<table>";h+="<tr>";h+="<td>";h+="<div id='datepicker' class='dateBlockArea'></div>";h+="</td>";h+="</tr>";h+="<tr>";h+="<td>";h+="<div class='dateSet'>";h+="<div class='tip'>";h+="<span style='font-weight: bold;padding-left:0px;font-size:12px;float:none;'>"+快捷选项+":</span>";h+="</div>";h+="<div class='options'>";h+="<span dateVal='"+c.getFullYear()+"-1-1,"+getDiyDay(0)+"'>"+今年+"</span>";h+="<span dateVal='"+dateChange("pmonth")+"'>"+上个月+"</span>";h+="<span dateVal='"+dateChange("tquarter")+"'>"+本季度+"</span>";h+="<span dateVal='"+dateChange("pquarter")+"'>"+上个季度+"</span>";h+="<span dateVal='"+getDiyDay(-182)+","+getDiyDay(0)+"'>"+前半年+"</span>";h+="<span dateVal='"+(c.getFullYear()-1)+"-1-1,"+getDiyDay(0)+"'>"+上一年+"</span>";h+="<span dateVal='"+(c.getFullYear()-2)+"-1-1,"+getDiyDay(0)+"'>"+前两年+"</span>";h+="<span dateVal='"+(c.getFullYear()-3)+"-1-1,"+getDiyDay(0)+"'>"+前三年+"</span>";h+="</div>";h+="</div>";h+="<div class='dateValue'>";h+="<span style='float:left;'><input id='datepickerStart' value='"+d.startTime+"' class='inputSelect txt' /></span>";h+="<span style='width:5%;display: block;float: left;font-size: 15px;padding: 0 2px;text-align: center;'>-</span>";h+="<span style='float:left;'><input id='datepickerEnd' value='"+d.endTime+"' class='txt'/></span>";h+="</div>";h+="<div class='dateButton'>";if(d.emptyBtn){h+="<span style='float:left;'><input id='emptyButton' type='button' class='button small' style='margin: 0px;' value='"+清空+"'/></span>"}h+="<span style='float:right;'><input id='dateButton' type='button' class='button blue small' style='margin: 0px;' value='"+使用+"'/></span>";h+="</div>";h+="</td>";h+="</tr>";h+="</tr>";h+="</table>";h+="</div>";this.after(h);a("#datepickerStart,#datepickerEnd").bind("keypress",function(j){var i=window.event?j.keyCode:j.which;if(((i>=48)&&(i<=57))||i==8||i==0||i==45){}else{if(window.event){window.event.returnValue=false}else{j.preventDefault()}}});a("[tit="+a(this).attr("id")+"]").find("#datepicker").datepickerrangeui({aws:true,numberOfMonths:3,maxDate:(d.isShowToday==true?"0":"-1"),onSelect:function(j,i){var k=f(this);if(!datepickerStartClick){a(k).find("#datepickerStart").val(j);a(k).find("#datepickerEnd").addClass("inputSelect");a(k).find("#datepickerStart").removeClass("inputSelect");a(k).find("#datepickerEnd").val(j);datepickerStartClick=true}else{if(compareTimeSize(j,a(k).find("#datepickerStart").val())){a(k).find("#datepickerStart").addClass("inputSelect");a(k).find("#datepickerEnd").removeClass("inputSelect");a(k).find("#datepickerEnd").val(j);datepickerStartClick=false}}changeColor(a(k).attr("tit"))},onAfterUpdateDate:function(){var i=f(this);exChangeColor();changeColor(a(i).attr("tit"))}});a(".ui-datepicker-inline").width("612");var f=function(j){var i=a(j).parents().find(".navigationDatepickerDivAws:visible").prev()[0];targetId=a(i).attr("id");var k=a("[tit="+targetId+"]");return k};a("[tit="+a(this).attr("id")+"]").find("#datepickerStart").unbind("click").bind("click",function(){var i=f(this);datepickerStartClick=false;a(i).find("#datepickerStart").addClass("inputSelect");a(i).find("#datepickerEnd").removeClass("inputSelect")});a("[tit="+a(this).attr("id")+"]").find("#datepickerEnd").unbind("click").bind("click",function(){var i=f(this);datepickerStartClick=true;a(i).find("#datepickerEnd").addClass("inputSelect");a(i).find("#datepickerStart").removeClass("inputSelect")});jQuery(".report-navigation-time-interval").unbind("click").bind("click",function(){targetId=a(this).parent().parent().attr("id");var i=a("#"+targetId).next().css("display");var k=jQuery(".navigationDatepickerDivAws[tit="+targetId+"]");if(i=="none"){datepickerStartClick=false;k.find("#datepickerStart").addClass("inputSelect");k.find("#datepickerEnd").removeClass("inputSelect");var j=jQuery(this).offset();k.css("left",j.left+jQuery(this).width()-a("#"+targetId).next().width()+d.showLeft);k.css("top",jQuery(this).height()+j.top+d.showTop);a(".navigationDatepickerDivAws:visible").hide();k.show();a("#"+targetId).find("#navigationInterval").find(".report-navigation-time-interval-downarrow").removeClass("report-navigation-icon-downarrow-black-down").addClass("report-navigation-icon-downarrow-black-up");setDivTimeOutColse(a("#"+targetId).next())}else{k.hide();a("#"+targetId).find("#navigationInterval").find(".report-navigation-time-interval-downarrow").addClass("report-navigation-icon-downarrow-black-down").removeClass("report-navigation-icon-downarrow-black-up")}});a("[tit="+a(this).attr("id")+"]").find("#dateButton").unbind("click").bind("click",function(){var k=f(this);if(d.emptyBtn==false||a(k).find("#datepickerStart").val()!=""){if(!isDateString(a(k).find("#datepickerStart").val())){try{a.simpleAlert(开始日期格式不正确,"info",2000)}catch(j){a.simpleAlert(开始日期格式不正确,"info",2000)}return false}}if(d.emptyBtn==false||a(k).find("#datepickerEnd").val()!=""){if(!isDateString(a(k).find("#datepickerEnd").val())){try{a.simpleAlert(结束日期格式不正确,"info",2000)}catch(j){a.simpleAlert(结束日期格式不正确,"info",2000)}return false}}if(d.emptyBtn==false||(a(k).find("#datepickerStart").val()!=""&&a(k).find("#datepickerEnd").val()!="")){var i=compareDate(a(k).find("#datepickerStart").val(),a(k).find("#datepickerEnd").val());if(i<0){try{a.simpleAlert(开始日期不能大于结束日期,"info",2000)}catch(j){a.simpleAlert(开始日期不能大于结束日期,"info",2000)}return false}}dateButtonDatepickerSubmit(targetId)});a("[tit="+a(this).attr("id")+"]").find("#emptyButton").unbind("click").bind("click",function(){var i=f(this);a(i).find("#datepickerStart").val("");a(i).find("#datepickerEnd").val("");a("#"+targetId).find("#navigationIntervalStart").text("");a("#"+targetId).find("#navigationIntervalEnd").text("");a(".navigationDatepickerDivAws a").removeClass("state-active");jQuery(".navigationDatepickerDivAws[tit="+targetId+"]").hide();if(d.emptyBtnCallbackfun){d.emptyBtnCallbackfun()}});exChangeColor();changeColor(a(this).attr("id"));infoDatepickerOptions()}})(jQuery);function isDateString(i){var e=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})/;var g=i.match(e);if(g==null){return false}var f=[31,28,31,30,31,30,31,31,30,31,30,31];var d=new Array(3);var c,h,a;d=i.split("-");c=parseFloat(d[0]);h=parseFloat(d[1]);a=parseFloat(d[2]);if(c<1900||c>3000){return false}if(((c%4==0)&&(c%100!=0))||(c%400==0)){f[1]=29}if(h<1||h>12){return false}if(a<1||a>f[h-1]){return false}return true}function compareDate(a,d){var e=StringToDate(a);var c=StringToDate(d);return e.DateDiff("d",c)}function StringToDate(a){var e=Date.parse(a);var c=new Date(e);if(isNaN(c)){var d=a.split("-");c=new Date(d[0],--d[1],d[2])}return c}Date.prototype.DateDiff=function(a,c){var d=this;if(typeof c=="string"){c=StringToDate(c)}switch(a){case"s":return parseInt((c-d)/1000);case"n":return parseInt((c-d)/60000);case"h":return parseInt((c-d)/3600000);case"d":return parseInt((c-d)/86400000);case"w":return parseInt((c-d)/(86400000*7));case"m":return(c.getMonth()+1)+((c.getFullYear()-d.getFullYear())*12)-(d.getMonth()+1);case"y":return c.getFullYear()-d.getFullYear()}};function setDatepickerGroupPosition(){var a=jQuery("#datepickerEnd").val();$("#datepicker").datepicker({defaultDate:a})}function infoDatepickerOptions(){jQuery(".navigationDatepickerDivAws").find(".dateSet").find(".options").find("span").each(function(){jQuery(this).unbind("click").bind("click",function(){var a=jQuery(this).attr("dateval");var c=a.split(",");$("[tit="+targetId+"]").find("#datepickerStart").val(c[0]);$("[tit="+targetId+"]").find("#datepickerEnd").val(c[1]);dateButtonDatepickerSubmit(targetId)})})}function infoDatepickerInput(){var c=jQuery("#navigationIntervalStart").val();var a=jQuery("#navigationIntervalEnd").val();if(c&&a){$("[tit="+targetId+"]").find("#datepickerStart").val(c);$("[tit="+targetId+"]").find("#datepickerEnd").val(a)}}function dateButtonDatepickerSubmit(d){var e=$(".navigationDatepickerDivAws[tit="+d+"]");var a=$(e).find("#datepickerStart").val();var c=$(e).find("#datepickerEnd").val();$("#"+d).find("#navigationIntervalStart").text(a);$("#"+d).find("#navigationIntervalEnd").text(c);jQuery(".navigationDatepickerDivAws").hide();changeColor(d);if(awsDatepickerFun[d]){awsDatepickerFun[d](a,c)}}function compareTimeSize(j,k){var f=j.split("-");var h=k.split("-");var e=Number(f[0]);var a=Number(f[1]);var d=Number(f[2]);var i=Number(h[0]);var c=Number(h[1]);var g=Number(h[2]);if(e>i){return true}else{if(e<i){return false}else{if(a>c){return true}else{if(a<c){return false}else{if(d>=g){return true}else{return false}}}}}}function changeColor(a){$("[tit="+a+"]").find("#datepicker").find("a.state-default").each(function(){jQuery(this).removeClass("state-active");var c=$("[tit="+a+"]").find("#datepickerStart").val();var d=$("[tit="+a+"]").find("#datepickerEnd").val();if(c&&c!=""){var e=jQuery(this).next().val();if(compareTimeSize(e,c)&&compareTimeSize(d,e)){jQuery(this).addClass("state-active")}}})}function clearColor(){$(document.querySelectorAll("#datepicker")).find("a.state-default").each(function(){jQuery(this).removeClass("state-active")})}function exChangeColor(){$(document.querySelectorAll("#datepicker")).find("a.ui-state-default").each(function(){jQuery(this).removeClass();jQuery(this).addClass("state-default")})}function setDivTimeOutColse(c,a){if(!c){return false}if(!a){a=200}var d;jQuery(c).unbind("mouseenter").unbind("mouseleave");jQuery(c).hover(function(){if(d){clearTimeout(d);d=""}},function(){if(!d){d=setTimeout(function(){$("#"+targetId).find("#navigationInterval").find(".report-navigation-time-interval-downarrow").removeClass("report-navigation-icon-downarrow-black-up").addClass("report-navigation-icon-downarrow-black-down");jQuery(c).hide();d=""},a)}})}function getDiyDay(c){var a=new Date();a=new Date(a.getTime()+(c*24*60*60*1000));return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function dateChange(c){var f;var g;var d=new Date();var h=d.getMonth();var j=d.getFullYear();var k=d.getDate();var i=d.getDay();switch(c){case"tweek":var k=d.getDay();d.setDate(d.getDate()-(k-1));f=formatDate(d);d.setDate(d.getDate()+6);g=formatDate(d);break;case"tmonth":d.setDate(1);f=formatDate(d);var l=getDays(d);d.setDate(l);g=formatDate(d);break;case"tquarter":var e=d.getMonth()+1;var a=parseInt((e+2)/3);e=a*3-2;d.setMonth(e-1);d.setDate(1);f=formatDate(d);g=getDiyDay(0);break;case"tyear":d.setMonth(0);d.setDate(1);f=formatDate(d);d.setMonth(11);d.setDate(31);g=formatDate(d);break;case"today":f=formatDate(d);g=f;break;case"pweek":var k=d.getDay();d.setDate(d.getDate()-(k-1)-7);f=formatDate(d);d.setDate(d.getDate()+6);g=formatDate(d);break;case"pmonth":d.setDate(1);d.setMonth(d.getMonth()-1);f=formatDate(d);var l=getDays(d);d.setDate(l);g=formatDate(d);break;case"pquarter":var e=d.getMonth()+1;var a=parseInt((e+2)/3);e=a*3-2;e=e-3;d.setMonth(e-1);d.setDate(1);f=formatDate(d);d.setMonth(d.getMonth()+3);d.setDate(0);g=formatDate(d);break;case"pyear":d.setFullYear(d.getFullYear()-1);d.setMonth(0);d.setDate(1);f=formatDate(d);d.setMonth(11);d.setDate(31);g=formatDate(d);break;case"p2week":var k=d.getDay();d.setDate(d.getDate()-(k-1)-7*2);f=formatDate(d);d.setDate(d.getDate()+6+7);g=formatDate(d);break;case"p2month":d.setDate(1);d.setMonth(d.getMonth()-1*2);f=formatDate(d);d.setMonth(d.getMonth()+2);d.setDate(0);g=formatDate(d);break;case"customize":f="";g="";break}return f+","+g}function formatDate(c){var a=c;return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function getDays(d){var c=d.getMonth()+1;var a=d.getFullYear();var e=30;if(c==2){if(m_IsLeap(a)){e=29}else{e=28}}else{if(mInList(c,"1,3,5,7,8,10,12")){e=31}}return e}function m_IsLeap(a){if(a%400==0){return true}else{if((a%100!=0)&&(a%4==0)){return true}}return false}function mInList(c,a){var e=","+c+",";var d=","+a+",";e=e.toLowerCase();d=d.toLowerCase();return d.indexOf(e)!=-1}function Range(){this._value=0;this._minimum=0;this._maximum=100;this._extent=0;this._isChanging=false}Range.prototype.setValue=function(a){a=Math.round(parseFloat(a));if(isNaN(a)){return}if(this._value!=a){if(a+this._extent>this._maximum){this._value=this._maximum-this._extent}else{if(a<this._minimum){this._value=this._minimum}else{this._value=a}}if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getValue=function(){return this._value};Range.prototype.setExtent=function(a){if(this._extent!=a){if(a<0){this._extent=0}else{if(this._value+a>this._maximum){this._extent=this._maximum-this._value}else{this._extent=a}}if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getExtent=function(){return this._extent};Range.prototype.setMinimum=function(a){if(this._minimum!=a){var c=this._isChanging;this._isChanging=true;this._minimum=a;if(a>this._value){this.setValue(a)}if(a>this._maximum){this._extent=0;this.setMaximum(a);this.setValue(a)}if(a+this._extent>this._maximum){this._extent=this._maximum-this._minimum}this._isChanging=c;if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getMinimum=function(){return this._minimum};Range.prototype.setMaximum=function(c){if(this._maximum!=c){var a=this._isChanging;this._isChanging=true;this._maximum=c;if(c<this._value){this.setValue(c-this._extent)}if(c<this._minimum){this._extent=0;this.setMinimum(c);this.setValue(this._maximum)}if(c<this._minimum+this._extent){this._extent=this._maximum-this._minimum}if(c<this._value+this._extent){this._extent=this._maximum-this._value}this._isChanging=a;if(!this._isChanging&&typeof this.onchange=="function"){this.onchange()}}};Range.prototype.getMaximum=function(){return this._maximum};function Timer(a){this._pauseTime=typeof a=="undefined"?1000:a;this._timer=null;this._isStarted=false}Timer.prototype.start=function(){if(this.isStarted()){this.stop()}var a=this;this._timer=window.setTimeout(function(){if(typeof a.ontimer=="function"){a.ontimer()}},this._pauseTime);this._isStarted=false};Timer.prototype.stop=function(){if(this._timer!=null){window.clearTimeout(this._timer)}this._isStarted=false};Timer.prototype.isStarted=function(){return this._isStarted};Timer.prototype.getPauseTime=function(){return this._pauseTime};Timer.prototype.setPauseTime=function(a){this._pauseTime=a};Slider.isSupported=typeof document.createElement!="undefined"&&typeof document.documentElement!="undefined"&&typeof document.documentElement.offsetWidth=="number";function Slider(c,e,d){if(!c){return}this._orientation=d||"horizontal";this._range=new Range();this._range.setExtent(0);this._blockIncrement=10;this._unitIncrement=1;this._timer=new Timer(0);if(Slider.isSupported&&c){this.document=c.ownerDocument||c.document;this.element=c;this.element.slider=this;this.element.unselectable="on";this.element.readOnly=false;this.element.className=this._orientation+" "+this.classNameTag+" "+this.element.className;this.line=this.document.createElement("DIV");this.line.className="line";this.line.unselectable="on";this.line.appendChild(this.document.createElement("DIV"));this.element.appendChild(this.line);this.handleline=this.document.createElement("DIV");this.handleline.className="line";this.handleline.style.background="#99CC99";this.element.appendChild(this.handleline);this.handle=this.document.createElement("DIV");this.handle.className="handle";this.handle.unselectable="on";this.handle.appendChild(this.document.createElement("DIV"));this.handle.firstChild.appendChild(this.document.createTextNode(String.fromCharCode(160)));this.element.appendChild(this.handle)}this.input=e;var a=this;this._range.onchange=function(){a.recalculate();if(typeof a.onchange=="function"){a.onchange()}};if($("#"+e.id).attr("status")!=undefined&&$("#"+e.id).attr("status")=="true"){this.handle.style.cursor="default";return}if(Slider.isSupported&&c){this.element.onfocus=Slider.eventHandlers.onfocus;this.element.onblur=Slider.eventHandlers.onblur;this.element.onmousedown=Slider.eventHandlers.onmousedown;this.element.onmouseover=Slider.eventHandlers.onmouseover;this.element.onmouseout=Slider.eventHandlers.onmouseout;this.element.onkeydown=Slider.eventHandlers.onkeydown;this.element.onkeypress=Slider.eventHandlers.onkeypress;this.element.onmousewheel=Slider.eventHandlers.onmousewheel;this.handle.onselectstart=this.element.onselectstart=function(){return false};var f=this;this.handle.ondblclick=function(g){if(f.element.readOnly==true){return}var i="<input id='sliderV' placeholder='"+请输入+"' class='txt'/>";$(this).tooltip({close:true,bordercolor:"#EEE",color:"#ff0000",text:i,position:"top"});$("#sliderV").keydown(function(j){Slider.eventHandlers.handlerSetValue(j,$("#sliderV").val(),f)});var h=arguments.callee.caller!=null?arguments.callee.caller.arguments[0]:g||g;if(h&&h.stopPropagation){h.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}}};this._timer.ontimer=function(){a.ontimer()};window.setTimeout(function(){a.recalculate()},0)}else{this.input.onchange=function(g){a.setValue(a.input.value)}}}Slider.eventHandlers={handlerSetValue:function(f,d,c){var a=f.keyCode;if(a==13){if(isNaN(d)){return}c.setValue(d);$("#awsui_tooltip").remove()}},getEvent:function(c,a){if(!c){if(a){c=a.document.parentWindow.event}else{c=window.event}}if(!c.srcElement){var a=c.target;while(a!=null&&a.nodeType!=1){a=a.parentNode}c.srcElement=a}if(typeof c.offsetX=="undefined"){c.offsetX=c.layerX;c.offsetY=c.layerY}return c},getDocument:function(a){if(a.target){return a.target.ownerDocument}return a.srcElement.document},getSlider:function(c){var a=c.target||c.srcElement;while(a!=null&&a.slider==null){a=a.parentNode}if(a){return a.slider}return null},getLine:function(c){var a=c.target||c.srcElement;while(a!=null&&a.className!="line"){a=a.parentNode}return a},getHandle:function(d){var c=d.target||d.srcElement;var a=/handle/;while(c!=null&&!a.test(c.className)){c=c.parentNode}return c},onfocus:function(c){var a=this.slider;a._focused=true;a.handle.className="handle hover"},onblur:function(c){var a=this.slider;a._focused=false;a.handle.className="handle"},onmouseover:function(c){c=Slider.eventHandlers.getEvent(c,this);var a=this.slider;if(c.srcElement==a.handle){a.handle.className="handle hover"}},onmouseout:function(c){c=Slider.eventHandlers.getEvent(c,this);var a=this.slider;if(c.srcElement==a.handle&&!a._focused){a.handle.className="handle"}},onmousedown:function(f){f=Slider.eventHandlers.getEvent(f,this);var a=this.slider;if(a.element.readOnly==true){return}if(a.element.focus){a.element.focus()}Slider._currentInstance=a;var d=a.document;if(d.addEventListener){d.addEventListener("mousemove",Slider.eventHandlers.onmousemove,true);d.addEventListener("mouseup",Slider.eventHandlers.onmouseup,true)}else{if(d.attachEvent){d.attachEvent("onmousemove",Slider.eventHandlers.onmousemove);d.attachEvent("onmouseup",Slider.eventHandlers.onmouseup);d.attachEvent("onlosecapture",Slider.eventHandlers.onmouseup);a.element.setCapture()}}if(Slider.eventHandlers.getHandle(f)){Slider._sliderDragData={screenX:f.screenX,screenY:f.screenY,dx:f.screenX-a.handle.offsetLeft,dy:f.screenY-a.handle.offsetTop,startValue:a.getValue(),slider:a}}else{var c=Slider.eventHandlers.getLine(f);a._mouseX=f.offsetX+(c?f.target.offsetLeft:0);a._mouseY=f.offsetY+(c?f.target.offsetTop:0);a._increasing=null;a.ontimer()}},onmousemove:function(i){i=Slider.eventHandlers.getEvent(i,this);if(Slider._sliderDragData){var d=Slider._sliderDragData.slider;if(d.element.readOnly==true){return}d._increasing="drag";var a=d.getMaximum()-d.getMinimum();var c,j,g;if(d._orientation=="horizontal"){c=d.element.offsetWidth-d.handle.offsetWidth;j=i.screenX-Slider._sliderDragData.dx;g=Math.abs(i.screenY-Slider._sliderDragData.screenY)>100}else{c=d.element.offsetHeight-d.handle.offsetHeight;j=d.element.offsetHeight-d.handle.offsetHeight-(i.screenY-Slider._sliderDragData.dy);g=Math.abs(i.screenX-Slider._sliderDragData.screenX)>100}var h=d.getMinimum()+a*j/c;if(h>=d.getValue()&&h<(d.getValue()+d.getBlockIncrement())){h=d.getValue()+d.getBlockIncrement()}if(h<d.getValue()&&(d.getValue()-h)<d.getBlockIncrement()){h=d.getValue()-d.getBlockIncrement()}if(d.getBlockIncrement()!=1){h=Math.round(h/d.getBlockIncrement())*d.getBlockIncrement()+d.getMinimum()}d.setValue(g?Slider._sliderDragData.startValue:h);return false}else{var d=Slider._currentInstance;if(d!=null){var f=Slider.eventHandlers.getLine(i);d._mouseX=i.offsetX+(f?i.target.offsetLeft:0);d._mouseY=i.offsetY+(f?i.target.offsetTop:0)}}},onmouseup:function(d){d=Slider.eventHandlers.getEvent(d,this);var a=Slider._currentInstance;if(a.element.readOnly==true){return}var c=a.document;if(c.removeEventListener){c.removeEventListener("mousemove",Slider.eventHandlers.onmousemove,true);c.removeEventListener("mouseup",Slider.eventHandlers.onmouseup,true)}else{if(c.detachEvent){c.detachEvent("onmousemove",Slider.eventHandlers.onmousemove);c.detachEvent("onmouseup",Slider.eventHandlers.onmouseup);c.detachEvent("onlosecapture",Slider.eventHandlers.onmouseup);a.element.releaseCapture()}}if(Slider._sliderDragData){Slider._sliderDragData=null}else{a._timer.stop();a._increasing=null}Slider._currentInstance=null},onkeydown:function(d){d=Slider.eventHandlers.getEvent(d,this);var c=this.slider;if(c.element.readOnly==true){return}var a=d.keyCode;switch(a){case 33:c.setValue(c.getValue()+c.getBlockIncrement());break;case 34:c.setValue(c.getValue()-c.getBlockIncrement());break;case 35:c.setValue(c.getOrientation()=="horizontal"?c.getMaximum():c.getMinimum());break;case 36:c.setValue(c.getOrientation()=="horizontal"?c.getMinimum():c.getMaximum());break;case 38:case 39:c.setValue(c.getValue()+c.getUnitIncrement());break;case 37:case 40:c.setValue(c.getValue()-c.getUnitIncrement());break}if(a>=33&&a<=40){return false}},onkeypress:function(c){c=Slider.eventHandlers.getEvent(c,this);var a=c.keyCode;if(a>=33&&a<=40){return false}},onmousewheel:function(c){c=Slider.eventHandlers.getEvent(c,this);var a=this.slider;if(a.element.readOnly==true){return}if(a._focused){a.setValue(a.getValue()+c.wheelDelta/120*a.getUnitIncrement());return false}}};Slider.prototype.classNameTag="dynamic-slider-control",Slider.prototype.setValue=function(a){this._range.setValue(a);this.input.value=this.getValue()};Slider.prototype.getValue=function(){return this._range.getValue()};Slider.prototype.setMinimum=function(a){this._range.setMinimum(a);this.input.value=this.getValue()};Slider.prototype.getMinimum=function(){return this._range.getMinimum()};Slider.prototype.setMaximum=function(a){this._range.setMaximum(a);this.input.value=this.getValue()};Slider.prototype.getMaximum=function(){return this._range.getMaximum()};Slider.prototype.setUnitIncrement=function(a){this._unitIncrement=a};Slider.prototype.getUnitIncrement=function(){return this._unitIncrement};Slider.prototype.setBlockIncrement=function(a){this._blockIncrement=a};Slider.prototype.getBlockIncrement=function(){return this._blockIncrement};Slider.prototype.getOrientation=function(){return this._orientation};Slider.prototype.setOrientation=function(a){if(a!=this._orientation){if(Slider.isSupported&&this.element){this.element.className=this.element.className.replace(this._orientation,a)}this._orientation=a;this.recalculate()}};Slider.prototype.recalculate=function(){if(!Slider.isSupported||!this.element){return}var d=this.element.offsetWidth;var f=this.element.offsetHeight;var a=this.handle.offsetWidth;var e=this.handle.offsetHeight;var g=this.line.offsetWidth;var c=this.line.offsetHeight;if(this._orientation=="horizontal"){this.handle.style.left=(d-a)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px";this.handle.style.top=(f-e)/2+"px";this.line.style.top=(f-c)/2+"px";this.line.style.left=a/2+"px";this.line.style.width=Math.max(0,d-a-2)+"px";this.line.firstChild.style.width=Math.max(0,d-a-4)+"px";this.handleline.style.top=(f-c)/2+"px";this.handleline.style.width=(d-a)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px"}else{this.handle.style.left=(d-a)/2+"px";this.handle.style.top=f-e-(f-e)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px";this.line.style.left=(d-g)/2+"px";this.line.style.height=Math.max(0,f-e-2)+"px";this.line.firstChild.style.height=Math.max(0,f-e-4)+"px";this.handleline.style.left=(d-g)/2+"px";this.handleline.style.height=e+(f-e)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px";this.handleline.style.top=f-e-(f-e)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px"}};Slider.prototype.ontimer=function(){var c=this.handle.offsetWidth;var f=this.handle.offsetHeight;var a=this.handle.offsetLeft;var e=this.handle.offsetTop;var d=true;if(this._orientation=="horizontal"){if(this._mouseX>a+c&&(this._increasing==null||this._increasing=="add")){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing="add"}else{if(this._mouseX<a&&(this._increasing==null||this._increasing=="reduce")){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing="reduce"}else{d=false}}}else{if(this._mouseY>e+f&&(this._increasing==null||this._increasing=="reduce")){this.setValue(this.getValue()-this.getBlockIncrement());this._increasing="reduce"}else{if(this._mouseY<e&&(this._increasing==null||this._increasing=="add")){this.setValue(this.getValue()+this.getBlockIncrement());this._increasing="add"}else{d=false}}}if(d){this._timer.start()}else{this._timer.stop();this._increasing=null}};Slider.prototype.disable=function(){this.handleline.style.backgroundColor="#8fbcbf";this.handle.style.cursor="not-allowed";this.handle.style.backgroundColor="#8fbcbf";if(!this.element.readOnly){this.element.readOnly=true}};Slider.prototype.enable=function(){this.handle.style.cursor="pointer";if(this.element.readOnly){this.element.readOnly=false}};
/*!
 * =====================================================
 * AWS地址簿运行时库文件
 * v1.0 (http://www.actionsoft.com.cn)
 * 发布后文件名：aws.address.js
 * =====================================================
 */
(function(a){a.fn.address=function(i){var u={callback:null,beforeCancel:null,filter:{addressType:"user",isAdvMode:true,isAddTeam:false,addressSetting:{title:人员,rootDetpId:"",isDisplayMap:true,isMapFormat:true,mapSuffix:"($dept $role)",isDisplayOtherMap:false,layerFrom:"",layerTo:"",range:"department|role|team",delimiter:" ",choiceType:"single",leafType:"user",filterClass:""},sourceField:"",targetField:"",deptSourceField:"",deptTargetField:""},valueType:0,separator:" ",inDialog:false,dialogId:"",isGrid:false,gridId:"",gridRowIndx:0,isClearData:true,isLiveSearch:true,allowAnyValue:false,maxRowNumber:0,clearCallback:null};var c=u;if(i){c=a.extend(true,u,i)}if(i==undefined||i.filter==undefined){var y={separator:" ",filter:{addressType:"user",isAdvMode:false},allowAnyValue:false,isLiveSearch:true};c=a.extend(y,i)}else{if(c.filter.sourceField==""){if(c.filter.deptSourceField){c.filter.sourceField=c.filter.deptSourceField;c.filter.targetField=c.filter.deptTargetField}else{if(i.valueType){if(i.valueType==0){c.filter.sourceField="USERNAMEALIAS"}else{if(i.valueType==1){c.filter.sourceField="UID"}else{if(i.valueType==2){c.filter.sourceField="USERNAME"}}}}}}if(i.separator){c.filter.addressSetting.delimiter=i.separator}else{c.separator=c.filter.addressSetting.delimiter}}if(c.filter&&c.filter.addressSetting&&c.filter.addressSetting.rootDeptId!=undefined){c.filter.addressSetting.rootDetpId=c.filter.addressSetting.rootDeptId}var w=a(this);if(!c.isAddTeam){if(a("#addTeamDlg")){a("#addTeamDlg").hide()}}if(c.filter.addressType=="dept"){c.address=getTargetValue(a(this).attr("name"),c);c.value=w.val()}else{if(c.filter.addressType=="user"&&c.filter.isAdvMode){c.value=w.val()}}var v;if(c.filter.targetField){v=c.filter.targetField.replace(/,/g,"|")}else{if(c.filter.deptTargetField){v=c.filter.deptTargetField.replace(/,/g,"|")}}c.isClearData=w.hasClass("disable")?false:c.isClearData;c.boItemName=w.attr("id");var m="";if(a("#sid").length>0){m=a("#sid").val()}else{if(a("input[name=sid]").length>0){m=a("input[name=sid]").val()}}var k="_bpm.portal";if(a("#appId").length>0){k=a("#appId").val()}if(m==""||m==undefined){return}var E=地址簿;var A=false;try{A=a("#isMobile").val()=="true"?true:false}catch(G){}var F=a.escapeSelector(w.attr("id"));if(a("#awsui-address-"+F).length==1){return}if(w.prop("readonly")){c.isLiveSearch=false}if(F.indexOf("Address_")>-1){c.gridId=i.gridId;c.gridRowIndx=i.gridRowIndx;c.isGrid=true}var E=人员;if(c.filter&&c.filter.addressSetting&&c.filter.addressSetting.leafType=="dept"){E=部门}else{if(c.filter&&c.filter.addressSetting&&c.filter.addressSetting.leafType=="team"){E=群组}}var l=function(e){a("#"+a.escapeSelector(e)).trigger("blur.casecade_"+e)};window.deleteItem=function(R){var e=a(R).parent();var p=e.parent();if(p.find(".awsui-address-btn").hasClass("disable")){return}var S=a.escapeSelector(p.find("input").attr("id"));var P=e.attr("value")||e.attr("id");var Q=a("#"+S).val();var U=p.attr("delimiter")||" ";var T=Q.split(U);for(var O=0;O<T.length;O++){if(T[O]==P){T.splice(O,1);break}}p.find("input").val(T.join(U));e.remove();if(c.clearCallback&&p.find(".awsui-item").length==0){c.clearCallback()}J();l(S)};var D="";var x=w.attr("title")?("title='"+w.attr("title")+"'"):"";var B=w.outerWidth();var f=a("<div id='awsui-address-"+w.attr("id")+"' "+x+" "+D+" delimiter='"+c.separator+"' style='position:relative' class='awsui-address'></div>");var L=a("<div class='awsui-iconfont awsui-address-btn' style='position:relative;right:0px;z-index:4'>&#59008;</div>");var N=a("<div class='awsui-iconfont awsui-address-del' style='position:absolute;right:20px;z-index:5'>&#58927;</div>");var z=w.attr("placeholder")?w.attr("placeholder"):"";var q=a("<div id='awsui-placeholder-"+w.attr("id")+"' style='overflow:hidden;color: #CCC;font-size: 13px;display:none;height:24px;line-height:25px;'>"+z+"</div>");if(!A){N.attr("title",全部删除)}f.append(L);f.append(N);f.append(q);var J=function(){if(a("#"+F).val()==""){a("#awsui-placeholder-"+F).show()}else{a("#awsui-placeholder-"+F).hide()}};if(a("#"+F).val()==""){q.show()}if(c.maxRowNumber>0){f.addClass("fixed-h").css("max-height",c.maxRowNumber*24+"px")}if(c.isGrid){f.addClass("grid");L.addClass("grid")}w.before(f);f.prepend(w);if(A){B=f.width()}f.outerWidth(B);q.outerWidth(B-38);if(f.parent().hasClass("required")&&a.browser.isFirefox){f.parent().css("display","block")}w.hide();var s=function(){J();var e=a("#"+F).val()||"";if(e==""){f.find(".awsui-item").remove();return}var p={};if(c.isGrid){p=a("#"+c.gridId).awsGrid("getRowData",c.gridRowIndx)}else{if(window.AWSForm){p=AWSForm.getFormData()}}awsui.ajax.request({type:"POST",url:"./jd",async:false,data:{sid:m,cmd:"CLIENT_AWSUI_ADDRESS_VALUE",address:awsui.encode(c),addressDomId:F,value:e,formData:awsui.encode(p)},ok:function(O){f.find(".awsui-item").remove();f.append(a(O.data.data));f.find(".awsui-item-del").removeAttr("onclick").off("click").on("click",function(){deleteItem(a(this));return false});f.find(".awsui-item").off("click").on("click",function(){event.stopPropagation()});if(A=="true"){if(f.find(".awsui-item").length>0){N.show()}f.find(".awsui-item").each(function(){var P=B-35;if(a(this).find(".awsui-item-icon").length>0){P=B-52}a(this).find(".awsui-item-t").css("max-width",P+"px")})}},err:function(O){}})};s();var j=w.parents("form");if(j.length>0){j.on("reset",function(){setTimeout(function(){s()},10)})}w.off("change.render").on("change.render",function(){s()});if(w.prop("disabled")){L.addClass("disable");return}if(!A){f.on("mouseover",function(){if(f.find(".awsui-item").length>0){if(!w.prop("disabled")){N.show()}}});f.on("mouseleave",function(){N.hide()})}N.off("click").on("click",function(){N.hide();var Q=a(this).parent();Q.find("input").val("");s();if(c.clearCallback){c.clearCallback()}if(v){var O=v.split("|");if(c.isGrid){Q.find(".awsui-item").remove();var e=a("#"+c.gridId).awsGrid("getRowData",c.gridRowIndx);for(var p=0;p<O.length;p++){var P=O[p];e[P]="";if(e.hasOwnProperty(P+"_DISPLAYVALUE")){e[P+"_DISPLAYVALUE"]=""}a("#"+c.gridId).awsGrid("setEditData",e)}a("#"+c.gridId).awsGrid("refresh")}else{for(var p=0;p<O.length;p++){var P=O[p];window.ui?ui(P,""):a("#"+P).val("");a("#"+P).trigger("change")}}}J();l(F);return false});if(A){L.off("click").on("click",function(){var R={};a.extend(true,R,c);try{var p=c.filter.addressSetting.rootDetpId;if(/^\$.*/g.test(p)){var P="";P=a("#"+p.replace("$","")).val();c.filter.addressSetting.rootDetpId=P}}catch(Q){}var O="./w?sid="+m+"&cmd=CLIENT_UI_ADDRESSBOOK&appId"+k+"&address="+encodeURI(c);try{openMobileDialog("address",F,c.filter)}catch(Q){}c=R})}else{var H=function(){var S=600;var p=450;if(c.inDialog==false){S=a(window).width()-50;p=a(window).height()-50}if(S>615){S=615}if(p>450){p=450}var P=FrmDialog;if(c.inDialog){P=parent.FrmDialog}var R={};if(c.isGrid){R=a("#"+c.gridId).awsGrid("getRowData",c.gridRowIndx)}else{if(window.AWSForm){R=AWSForm.getFormData()}}var U={};a.extend(true,U,c);try{var O=c.filter.addressSetting.rootDetpId;if(O.indexOf("$")==0){O=O.substring(1,O.length);O=R[O];U.filter.addressSetting.rootDetpId=O}if(c.inDialog&&window.name=="dialog_toolbar_action_page_frame"){parent.$("#dialog_toolbar_action .dlg-button button").attr("disabled","true")}}catch(Q){}var T=P.open({id:"address_dialog",title:E,width:S,height:p,url:"./w",data:{sid:m,cmd:"CLIENT_AWSUI_ADDRESSBOOK",appId:a("#appId").val(),address:awsui.encode(U),addressDomId:F,value:a("#"+F).val(),formData:awsui.encode(R)},buttons:[{text:确定,id:"address_dialog_button_confirm",cls:"blue",handler:function(){var X="";var Y=T.win();var W=Y.getValue();var V=W.value;var e=W.showValue;var Z=W.gridValue;f.find(".awsui-item").remove();f.append(a(e));f.find(".awsui-item-del").removeAttr("onclick").off("click").on("click",function(){deleteItem(a(this));return false});a.each(V,function(ab,ac){if(c.isGrid){if(ab.startsWith("Address_")){ab=ab.substring("Address_".length)}a("#Address_"+a.escapeSelector(ab)).val(ac);if(c.gridId){var aa=a("#"+a.escapeSelector(c.gridId)).awsGrid("getRowData",c.gridRowIndx);aa[ab]=ac;if("ADDRESS_"+ab==F&&aa.hasOwnProperty(ab+"_DISPLAYVALUE")){aa[ab+"_DISPLAYVALUE"]=Z}a("#"+a.escapeSelector(c.gridId)).awsGrid("setEditData",aa);a("#"+a.escapeSelector(c.gridId)).awsGrid("refreshRow",{rowIndx:c.gridRowIndx})}}else{if(window.ui&&typeof(window.ui)=="function"){window.ui(a.escapeSelector(ab),ac)}else{a("#"+a.escapeSelector(ab)).val(ac)}if(ab!=F){a("#"+a.escapeSelector(ab)).trigger("change")}l(F)}});if(window.onAddressSelectedEvent){window.onAddressSelectedEvent(F,V[F]||"",V)}if(c.callback!=null){c.callback()}J();T.close("address_dialog")}},{text:取消,handler:function(){a.mask("close");try{if(c.inDialog&&window.name=="dialog_toolbar_action_page_frame"){parent.$("#dialog_toolbar_action .dlg-button button").removeAttr("disabled")}}catch(V){}T.close("address_dialog")}}],onClose:function(V){try{if(c.inDialog&&window.name=="dialog_toolbar_action_page_frame"){parent.$("#dialog_toolbar_action .dlg-button button").removeAttr("disabled")}}catch(V){}}})};L.off("click").on("click",function(){if(!a(this).hasClass("disable")){H()}});if(w.prop("readonly")){f.on("click",function(){if(!L.hasClass("disable")){H();return false}})}var I=c.isLiveSearch!=undefined?c.isLiveSearch:true;if(I){var o=c.allowAnyValue!=undefined?c.allowAnyValue:false;var K=c.filter.sourceField?c.filter.sourceField:"USERNAMEALIAS";var C=c.filter.targetField?c.filter.targetField:F;var h=K.split(",");var n=C.split(",");var d="user";var M="multiple";if(c.filter.addressSetting){d=c.filter.addressSetting.leafType;M=c.filter.addressSetting.choiceType}var g=" ";if(c.filter.isAdvMode){g=c.separator||","}a("body").off("click.address").on("click.address",function(p){if(a(p.target).parents("#awsui-address-"+F).length==0||a(p.target).hasClass("awsui-iconfont")){a("#select2-livesearch-"+F).select2("destroy");a("#select2-livesearch-"+F).remove();J()}});f.off("click").on("click",function(T){if(w.prop("disabled")){return}if(a("#"+F).val()!=""){placeholder=""}else{placeholder=w.attr("placeholder")?w.attr("placeholder"):""}var R=f.outerWidth()-2;var Q=3;if(f.children(".awsui-item:last").length>0){Q=f.children(".awsui-item:last").position().left+f.children(".awsui-item:last").outerWidth()+3}if(a.escapeSelector(a(T.target).attr("id"))!="awsui-address-"+F&&a.escapeSelector(a(T.target).attr("id"))!="awsui-placeholder-"+F){return}a("#awsui-placeholder-"+F).hide();if(a("#select2-livesearch-"+a.escapeSelector(F)).length==0){f.append("<select id='select2-livesearch-"+F+"'></select>");var S={width:R,multiple:true,placeholder:placeholder,tags:o,dropdownCss:{border:"1px solid #d2d2d2"},dropdownCssClass:"awsui-select2-dropdown-height",templateResult:P,ajax:{url:"./jd?sid="+m+"&cmd=CLIENT_AWSUI_ADDRESS_SEARCH",dataType:"json",delay:250,data:function(U){var e={type:d,config:awsui.encode(c),appId:k,sourceField:c.filter.sourceField,keyWord:U.term,page:U.page||1,limit:12};return e},processResults:function(e,U){U.page=U.page||1;return{results:e.data.list,pagination:{more:U.page<e.data.totalPageNum}}}},minimumInputLength:1};a("#select2-livesearch-"+F).select2(S);f.find(".select2-selection").css("border","0px solid red");f.find(".select2-container").css("position","absolute").css("bottom","0px").css("left","0px").css("height","26px").css("overflow","hidden");f.find(".select2-container").find("input.select2-search__field").css("position","absolute").css("top","1px").css("left",Q).css("margin-top","3px");a("#select2-livesearch-"+F).focus();a("#select2-livesearch-"+F).on("select2:select",function(W){var V=a(this).select2("data");if(!V){return}for(var U=0;U<V.length;U++){if(f.find("[sourceId='"+a.escapeSelector(V[U].sourceId)+"']").length==0){O(V[U])}}a("#select2-livesearch-"+F).select2("destroy");a(this).remove();J()});function P(U){if(U.showtextsuffix){var e=a("<span >"+U.text+" <span style='color:#ccc;font-size:12px;'>"+U.showtextsuffix+"</span></span>");return e}return U.text}function O(U){var W=p(U);var V=W.value;var e=W.showValue;var X=W.gridValue;if(M=="single"){f.find(".awsui-item").remove();f.append(a(e));a.each(V,function(Z,aa){window.ui?ui(Z,aa):a("#"+Z).val(aa);a("#"+Z).trigger("change");if(c.isGrid){a("#Address_"+Z).val(aa);var Y=a("#"+c.gridId).awsGrid("getRowData",c.gridRowIndx);Y[Z]=aa;if("ADDRESS_"+Z==F&&Y.hasOwnProperty(Z+"_DISPLAYVALUE")){Y[Z+"_DISPLAYVALUE"]=X}a("#"+c.gridId).awsGrid("setEditData",Y);a("#"+c.gridId).awsGrid("refreshRow",{rowIndx:c.gridRowIndx})}if(window.onAddressSelectedEvent){window.onAddressSelectedEvent(F,V[F]||"",V)}})}else{f.append(a(e));a.each(V,function(Z,aa){if(window.ui){if(ui(Z)!=""){ui(Z,ui(Z)+g+aa)}else{ui(Z,aa)}}else{if(a("#"+Z).val()!=""){a("#"+Z).val(a("#"+Z).val()+g+aa)}else{a("#"+Z).val(aa)}}a("#"+Z).trigger("change");if(c.isGrid){a("#Address_"+Z).val((a("#Address_"+Z).val()==""?"":(a("#Address_"+Z).val()+g))+aa);var Y=a("#"+c.gridId).awsGrid("getRowData",c.gridRowIndx);Y[Z]=Y[Z]==""?"":(Y[Z]+g)+aa;Y[Z+"_DISPLAYVALUE"]=Y[Z+"_DISPLAYVALUE"]==""?"":(Y[Z+"_DISPLAYVALUE"]+g)+X;a("#"+c.gridId).awsGrid("setEditData",Y);a("#"+c.gridId).awsGrid("refreshRow",{rowIndx:c.gridRowIndx})}if(window.onAddressSelectedEvent){window.onAddressSelectedEvent(F,V[F]||"",V)}})}if(c.callback!=null){c.callback()}}function p(W){if(!W.name){W.name=W.text}var e=W.name.replace("(兼)","");var Z={};var ai={};var Y=[];var ac="";var X=[];for(var aa=0;aa<n.length;aa++){var ae=h[aa];var V=n[aa];var ab=[];Y=[];if(W[ae]){ab.push(W[ae]?W[ae]:"")}else{Y.push(e)}if(V==F||F=="Address_"+V){var U=W[ae]||e;var e=e;var aj=e;var ah="";var ag="";if(d=="user"&&(ae=="UID"||ae=="USERNAMEALIAS")){ah="&#58939;";ag="user";var ad=W[ae]?W[ae]:W.text;if(ae=="USERNAMEALIAS"){var ad=ad.substring(0,ad.indexOf("<"))}aj="<span userid='"+ad+"' class='awsui-user-profile'>"+e+"</span>"}else{if(d=="dept"&&ae=="DEPTID"){ah="&#59318;";ag="dept"}else{if(d=="team"&&ae=="TEAMID"){ah="&#58945;";ag="team"}else{e=W[ae]?W[ae]:W.text;aj=W[ae]?W[ae]:W.text}}}ac+="<div class='awsui-item' sourceId='"+W.sourceId+"'  value='"+U+"' type='"+ag+"' >";var af="";if(ah){af="<div class='awsui-item-icon awsui-iconfont'>"+ah+"</div>"}ac+=af;ac+="<div class='awsui-item-t'>"+aj+"</div>";ac+="<div class='awsui-item-del awsui-iconfont' onclick='deleteItem(this);return false;'>&#59134;</div></div>";X.push(e)}if(V==F){ab=a.merge(Y,ab)}ai[V]=ab.join(g)}Z.value=ai;Z.showValue=ac;Z.gridValue=X.join(g);return Z}}return false})}}return};a.fn.acAddress=function(e){var g={title:"",width:700,resourceType:"platform.companyAdmin",defAssignmentTypes:"department",isClearData:false,clearField:"",okHandler:null};var f=g;if(e){f=a.extend(true,g,e)}var c="";if(a("#sid").length>0){c=a("#sid").val()}else{if(a("input[name=sid]").length>0){c=a("input[name=sid]").val()}}var d=a(this);d.buttonedit({iconCls:"icon-address",isClearData:f.isClearData,clearField:f.clearField,onClick:function(){var h=FrmDialog.open({title:f.title,width:700,fixed:false,model:false,height:380,id:"AC_FRAMEDLG",url:"./w",data:{sid:c,cmd:"CLIENT_UI_AC_ADDRESSBOOK_PAGE",resourceId:"",resourceType:f.resourceType,defAssignmentTypes:f.defAssignmentTypes},buttons:[{text:"确定",cls:"blue",handler:f.okHandler},{text:"关闭",handler:function(){h.close()}}]})}})}})(jQuery);function enableAllAddress(a){if(a&&document.parent){parent.$("button, .button, input[type='button']").removeAttr("disabled");parent.$("button, .button, input[type='button']").removeClass("disable")}else{$("button, .button, input[type='button']").removeAttr("disabled");$("button, .button, input[type='button']").removeClass("disable")}}function disableAllAddress(a){if(a&&document.parent){parent.$("button, .button, input[type='button']").attr("disabled","true");parent.$("button, .button, input[type='button']").addClass("disable")}else{$("button, .button, input[type='button']").attr("disabled","true");$("button, .button, input[type='button']").addClass("disable")}}function getValue(z,k,c,l){var h;if(z){h=z.win()}else{h=l}var o=false;try{o=parent.$("#isMobile").val()}catch(x){}var C;if(h.addressType=="user"){if(h.isSingle){C=h.getAdvancedSelectValue()}else{C=h.getAdvancedMultipartValue()}}else{if(h.addressType=="dept"){if(h.isSingle){C=h.getDeparmentValue()}else{C=h.getAdvancedMultipartValue()}}}C=awsui.decode(C);if(c.isGrid){$("#"+c.gridId).awsGrid("quitEditMode")}if(c.isGrid){var a=$("#"+c.gridId);var f=a.awsGrid("getRowData",c.gridRowIndx);var A=[];for(var p in C){f[p]=C[p];if(p+"_DISPLAYVALUE" in f){f[p+"_FINDTEXT"]=true}A.push(p)}if(parent.AWSGrid&&parent.AWSGrid.version){a.awsGrid("setEditData",{rowData:f,refresh:false,rowIndx:c.gridRowIndx})}else{a.awsGrid("setEditData",f)}for(var q in A){a.awsGrid("refreshCell",{rowIndx:c.gridRowIndx,dataIndx:A[q]})}}else{for(var p in C){try{var B=$("#"+p);var d=C[p].split(c.separator);if(B.length==1){B.focus();B.val(C[p]);if(B.hasClass("awsui-select")){B.customSelect(d[0]);B.val(d[0])}else{if(B.hasClass("awsui-combobox")){B.setComboboxVal(C[p])}else{if(B.attr("type")=="select2"){var n=C[p];var s=c.separator||",";if(n.indexOf(s)>0){n=n.split(s)}B.val(n).trigger("change")}}}if(B.is(":hidden")&&B.parent().find("label")){B.parent().find("label").html(C[p])}B.blur()}else{var g=$("input[name='"+p+"']:first").attr("type").toLowerCase();switch(g){case"radio":var m=$("input[name='"+p+"'][value='"+d[0]+"']");if(m.is(":visible")){m.check("option","checked",true)}else{var j=$("input[name='"+p+"']:first").prev().attr("src");var u=j.replace("icheck_radio_check","icheck_radio_uncheck");var y=j.replace("icheck_radio_uncheck","icheck_radio_check");$("input[name='"+p+"']").prev().attr("src",u);$("input[name='"+p+"']").prop("checked",false);m.prop("checked",true);m.prev().attr("src",y)}break;case"checkbox":if($("input[name='"+p+"'][value='"+d[0]+"']").is(":visible")){$("input[name='"+p+"']").check("option","checked",false);$.each(d,function(e,v){$("input[name='"+p+"'][value='"+v+"']").check("option","checked",true)})}else{var j=$("input[name='"+p+"']:first").prev().attr("src");var u=j.replace("icheck_checkbox_check","icheck_checkbox_uncheck");var y=j.replace("icheck_checkbox_uncheck","icheck_checkbox_check");$("input[name='"+p+"']").prev().attr("src",u);$("input[name='"+p+"']").prop("checked",false);$.each(d,function(e,w){var v=$("input[name='"+p+"'][value='"+w+"']");v.prop("checked",true);v.prev().attr("src",y)})}break;default:}}}catch(x){}}}if(o==true||o=="true"){}else{(k?parent.FrmDialog:FrmDialog).get("address_dialog").close()}return C}function getTargetValue(d,l){var o=$("#targetField_"+d).val();var f=$("#targetField_"+d).attr("delimiter");if(o==undefined||o==""){o="";if(l.filter.addressType=="user"){f=l.filter.addressSetting.delimiter;o=l.filter.targetField}else{if(l.filter.addressType=="dept"){o=l.filter.deptTargetField}}}var h=new Array();if(o!=""){var u=o.split(",");for(var q=0;q<u.length;q++){try{if(l.isGrid){var s=$("#"+l.gridId).awsGrid("getRowData",l.gridRowIndx);if(s[u[q]]==undefined){h.push("")}else{h.push(s[u[q]])}}else{h.push(document.getElementById(u[q]).value)}}catch(v){}}}if(f==undefined){return h}var c=getmailListOptions(h[0]);var a=c?c.split(f).length:0;var p=new Array(a);for(var n=0;n<a;n++){p[n]="";for(var q=0;q<h.length;q++){var w=getmailListOptions(h[q]);var m=w.split(f);var g=m[n]==""?null:m[n];p[n]+=g==null?"":(g.replace(/&nbsp;/g," ")+f)}if(p[n].endWith(f)){p[n]=p[n].substring(0,p[n].length-1)}}return p}function getmailListOptions(e){if(e){var a=e.match(/<[^>]+>/g);for(var d=0;a!=null&&d<a.length;d++){var c=a[d].replace(/\s/g,"&nbsp;");e=e.replace(a[d],c)}}return e}function fillBackTargetValue(){var c=$("#targetField_"+adressName).val();var a=$("#targetField_"+adressName).attr("delimiter")}function openMobileDialog(e,c,d){var a=$("#isMobile").val()=="true"?true:false;if(a){mobileDialogOpen.scrollTop=$("body").scrollTop();$("#aws-form-container").hide();var f=$("#isMainForm").val()=="true"?window:parent;f.$("#mainFormPage").hide();f.$("#boItemNameSearch_div").html("");if(e="address"){if($("#isMainForm").val()=="false"){if(d){d.isSelf=true}else{d={isSelf:true}}}mobileDialogOpen.openMobileAddress("","",c,"",d,false);boItemNameGlobal=undefined;configGlobal=undefined;addressDatasObj={}}}}var boItemNameGlobal;var configGlobal;var addressDatasObj={};var mobileDialogOpen={openMobileAddress:function(g,f,a,e,c,d){awsui.ajax.request({type:"POST",url:"../r/jd",dataType:"json",alert:false,data:{sid:$("#sid").val(),cmd:"CLIENT_UI_MOBILE_CHOOSE_TASK_PERSON",keyWord:g,dept:f,type:"address",haveChooseUser:"",addressConfig:awsui.encode(c),isShowUser:d,appId:$("#appId").length>0?$("#appId").val():"_bpm.portal"},ok:function(k){if(c!=undefined&&configGlobal==undefined){configGlobal=c}var j=$("#isMainForm").val()=="true"||(configGlobal&&configGlobal.isSelf)?window:parent;if(a&&!boItemNameGlobal){boItemNameGlobal=a}j.$("#mainFormPage").hide();j.$("#boItemNameSearch_div").html(k.data.html);j.$("#boItemNameSearch_div").show();mobileDialogOpen.initCheckBoxStatus();var m=j.document.getElementById("list");m.style.height=(j.$("#boItemNameSearch_div").height()-50)+"px";try{setTimeout(function(){if($(".mui-indexed-list-bar").length!==0){window.indexedList=new mui.IndexedList(m)}},500)}catch(n){}var h="click";try{if(!($.browser.isIPhone&&top.location.href!=location.href)){h="tap"}}catch(n){}var i=k.data.isDeptAddress;if(g!==""){if(i){}else{$("#listDiv .mui-address-dept-div:first,#listDiv #deptList").hide()}}else{if(i){}else{$("#listDiv .mui-address-dept-div:first,#listDiv #deptList").show()}}j.$("#chooseUserBack").off(h).on(h,function(o){setTimeout(function(){mobileDialogOpen.chooseUserBack()},12);o.preventDefault();o.stopPropagation()});j.$("#choosePersondone").off(h).on(h,function(o){setTimeout(function(){mobileDialogOpen.chooseDone()},12);o.preventDefault();o.stopPropagation()});j.$("#emptyAddress").off("click").on("click",function(o){mobileDialogOpen.emptyAddress();o.preventDefault();o.stopPropagation();return false});j.$("#searchPersonIcon").off(h).on(h,function(o){mobileDialogOpen.searchPerson()});var l=window.mui?window.mui:$;l("#userHeader").on("tap","#openteamdialog",function(){var s=configGlobal.addressSetting?configGlobal.addressSetting.choiceType:"multiple";var p=configGlobal.addressSetting?configGlobal.addressSetting.delimiter:",";var q=configGlobal.addressSetting?configGlobal.addressSetting.leafType:"user";var o={teamSetting:{choiceType:s,selimiter:p},addressSetting:{sourceFields:configGlobal.sourceField?configGlobal.sourceField:"UID",targetFields:configGlobal.targetField?configGlobal.targetField:a,leafType:q,addressDatasObj:addressDatasObj,delimiter:p}};mobileDialogOpen.openTeamDialog(a,o,"address",c)});j.$("#searchPerson").bind("keyup",function(o){if(o.which===13){j.$("#searchPerson").blur();mobileDialogOpen.searchPerson()}});j.$(window).off("resize.mobileAddress").on("resize.mobileAddress",function(){m.style.height=(j.$("#boItemNameSearch_div").height()-50)+"px"});j.mobileDialogOpen.bindAllEvent()},err:function(h){$.simpleAlert(h.msg,h.result)}})},bindAllEvent:function(){if($("#upParentDept")){$("#upParentDept").off("tap").on("tap",function(){mobileDialogOpen.upParentDept($(this).attr("value"),$(this).attr("companyId"))})}var a=$("#isMainForm").val()=="true"||(configGlobal&&configGlobal.isSelf)?window:parent;a.$("input[name^=chooseDept]").off("click").on("click",function(c){mobileDialogOpen.changeDeptAddressData(this);c.stopPropagation()});a.$("div[name=mui-address-dept-user-click]").each(function(){var c=$(this);c.off("click").on("click",function(){var e=c.attr("value");var d=c.attr("isShowUser");mobileDialogOpen.showDeptPerson(e,boItemNameGlobal,d)})});if($("#searchPerson").attr("placeholder")=="搜索部门"){$("#deptList").css("max-height","100%");$(".fullDeptName").css("max-width",$(".fullDeptName").parent().width()-100)}},openTeamDialog:function(a,d,e,f){var c="./w?sid="+$("#sid").val()+"&cmd=CLIENT_UI_TEAM_OPEN&config="+encodeURI(JSON.stringify(d))+"&boItemValue="+$("#"+a).val()+"&boItemName="+a+"&showval="+$("#"+a).val()+"&hidval="+$("#"+a).val()+"&isMobile=true";mobileTeamUi.openMobileTeamUi(a,c,d,e,f)},chooseDone:function(){var h={};var s="";if(configGlobal&&configGlobal.isAdvMode){var f=(configGlobal.deptSourceField||configGlobal.sourceField).split(",");var B=Object.keys(addressDatasObj);if(configGlobal.addressType=="dept"){B=configGlobal.deptTargetField.split(",")}for(var p=0;p<B.length;p++){var A=B[p];var v=addressDatasObj[A];var d="";var z=configGlobal.addressSetting.delimiter;if(v!=undefined&&v.length>0){if($("#"+A).parent().length>0&&$("#"+A).parent()[0].id.indexOf("awsui-address")>-1){var q=v.split(z);var g=$("#"+A).parent();g.find(".awsui-item").removeAttr("ischeck");var u=g.width()-52;var C="max-width:"+u+"px";if(f[p]=="DEPTID"||f[p]=="UID"){var o="";if(f[p]=="DEPTID"){o="<div class='awsui-item-icon awsui-iconfont'>&#59318;</div>"}else{if(f[p]=="UID"){o="<div class='awsui-item-icon awsui-iconfont'>&#58939;</div>"}}for(var l=0;l<q.length;l++){var x=q[l].split("%");var j=x[0];var n=x[0];n=x[0];if(x.length==2){j=x[1]}if(g.find('.awsui-item[value="'+n+'"]').length==0){var x="<div class='awsui-item' value='"+n+"' ischeck='true' name='"+j+"'>"+o+"<div class='awsui-item-t' style='"+C+"'>"+j+"</div><div class='awsui-item-del awsui-iconfont' onclick='deleteItem(this);return false;'>&#59134;</div></div>";g.append($(x))}else{g.find('.awsui-item[value="'+n+'"]').attr("ischeck","true")}d+=n+z}g.find(".awsui-item").each(function(){if($(this).attr("ischeck")==undefined){$(this).remove()}});if(d.length>0){d=d.substring(0,d.length-1)}$("#"+A).val(d)}else{var u=g.width()-35;var C="max-width:"+u+"px";g.find(".awsui-item").remove();for(var l=0;l<q.length;l++){var x=q[l];if(x!=""){var x="<div class='awsui-item' value='"+x+"' ischeck='true' name='"+x+"'><div class='awsui-item-t' style='"+C+"'>"+x+"</div><div class='awsui-item-del awsui-iconfont' onclick='deleteItem(this);return false;'>&#59134;</div></div>";g.append($(x))}}$("#"+A).val(v)}}else{var q=v.split(" ");for(var l=0;l<q.length;l++){var x=q[l].split("%");if(x!=""){d+=x[0]+z}}if(d.length>0){d=d.substring(0,d.length-1)}if(window.ui&&typeof(window.ui)=="function"){window.ui($.escapeSelector(A),d)}else{$("#"+A).val(d)}}$("#"+A).parent().find(".awsui-address-del").show()}else{if(A!=""){if($("#"+A).parent().length>0&&$("#"+A).parent()[0].id.indexOf("awsui-address")>-1){$("#"+A).parent().find(".awsui-item").remove()}$("#"+A).val("");$("#"+A).parent().find(".awsui-address-del").hide()}}s=addressDatasObj[boItemNameGlobal];h[A]=s;try{$("#"+A).trigger("blur.case"+A)}catch(w){}}}else{var g=$("#"+boItemNameGlobal).parent();var u=g.width()-52;var C="max-width:"+u+"px";g.find(".awsui-item").removeAttr("ischeck");for(var c in addressDatasObj[boItemNameGlobal]){var y=addressDatasObj[boItemNameGlobal][c].split("%");var k=y[0];var a=k;if(y.length==2){a=y[1]}if(s==""){s=k}else{s+=" "+k}if(g.find('.awsui-item[value="'+k+'"]').length==0){var x="<div class='awsui-item' value='"+k+"' ischeck='true' name='"+a+"'><div class='awsui-item-icon awsui-iconfont'>&#58939;</div><div class='awsui-item-t' style='"+C+"'>"+a+"</div><div class='awsui-item-del awsui-iconfont' onclick='deleteItem(this);return false;'>&#59134;</div></div>";g.append($(x))}else{g.find('.awsui-item[value="'+k+'"]').attr("ischeck","true")}}g.find(".awsui-item").each(function(){if($(this).attr("ischeck")==undefined){$(this).remove()}});if(g.find(".awsui-item").length>0){g.find(".awsui-address-del").show()}else{g.find(".awsui-address-del").hide()}$("#"+boItemNameGlobal).val(s);h[boItemNameGlobal]=s;try{$("#"+boItemNameGlobal).trigger("blur.case"+boItemNameGlobal)}catch(w){}}if(g!=null){if($("#"+boItemNameGlobal).val()==""){g.find("#awsui-placeholder-"+boItemNameGlobal).show()}else{g.find("#awsui-placeholder-"+boItemNameGlobal).hide()}}if(window.onAddressSelectedEvent){try{window.onAddressSelectedEvent(boItemNameGlobal,s,h)}catch(w){}}mobileDialogOpen.chooseUserBack()},emptyAddress:function(){if(configGlobal&&configGlobal.isAdvMode){var a=(configGlobal.targetField||configGlobal.deptTargetField).split(",");for(var c=0;c<a.length;c++){var d=a[c];$("#"+d).val("");$("#"+d).parent().find(".awsui-item").remove();$("#"+d).parent().find(".awsui-address-del").hide();try{$("#"+d).trigger("blur.case"+key)}catch(f){}}}else{$("#"+boItemNameGlobal).val("");$("#"+boItemNameGlobal).parent().find(".awsui-item").remove();$("#"+boItemNameGlobal).parent().find(".awsui-address-del").hide();try{$("#"+boItemNameGlobal).trigger("blur.case"+boItemNameGlobal)}catch(f){}}if(window.onAddressSelectedEvent){window.onAddressSelectedEvent(boItemNameGlobal,"",{})}mobileDialogOpen.chooseUserBack()},chooseUserBack:function(){if($("#isMainForm").val()=="false"){mobileChooseDivShow.close(true)}else{mobileChooseDivShow.close()}if(configGlobal&&configGlobal.isSelf){parent.mobileDialog.btnControl("enable")}$("#aws-form-container").show();$("body").scrollTop(mobileDialogOpen.scrollTop);mobileDialogOpen.scrollTop=0;try{if($("#isMobile").val()=="true"&&navigator.userAgent.toLowerCase().indexOf("iphone")>-1){$(".awsui-item-t,.awsui-item-del,.awsui-item-icon").css("top","0px")}}catch(a){}return false},searchPerson:function(){var a=$("#isMainForm").val()=="true"||(configGlobal&&configGlobal.isSelf)?window:parent;var c=a.$("#searchPerson").val();setTimeout(function(){mobileDialogOpen.openMobileAddress(c,"","","",configGlobal)},300)},showDeptPerson:function(d,a,c){mobileDialogOpen.openMobileAddress("",d,a,"",configGlobal,c)},upParentDept:function(c,a){awsui.ajax.request({url:"./jd",method:"POST",async:false,data:{sid:$("#sid").val(),cmd:"CLIENT_UI_MOBILE_PARENT_DEPT_USER_HTML",deptId:c,addressConfig:awsui.encode(configGlobal),appId:$("#appId").length>0?$("#appId").val():"_bpm.portal",companyId:a?a:""},success:function(d){$("#listDiv").children().remove();$("#listDiv").prepend(d.data.departmentHtml);$("#listDiv").append(d.data.userHtml);mobileDialogOpen.initCheckBoxStatus();mobileDialogOpen.bindAllEvent()}})},initCheckBoxStatus:function(){if(configGlobal&&configGlobal.isAdvMode){var g=configGlobal.targetField.split(",");if(g.length>0){for(var d=0;d<g.length;d++){var j=g[d];if(configGlobal.sourceField.indexOf("UID")>-1||configGlobal.sourceField.indexOf("USERNAMEALIAS")>-1){if(addressDatasObj[j]==undefined){addressDatasObj[j]=$("#"+j).val()}$('input[name="choosePersonCheck"]').each(function(){var i=-1;var k=configGlobal.sourceField.split(",");for(var l=0;l<k.length;l++){if(k[l]=="UID"||k[l]=="USERNAMEALIAS"){i=l}}var m;if(addressDatasObj[j]==undefined){if($.trim($("#"+g[i]).val())!=""){m=$("#"+g[i]).val().split(configGlobal.addressSetting.delimiter)}}else{if(addressDatasObj[j]!=""){m=addressDatasObj[j].split(configGlobal.addressSetting.delimiter)}}if(m){$('input[name="choosePersonCheck"]').each(function(){var n=$(this).val().split("$");for(var o=0;o<m.length;o++){var p;var q=m[o].split("%")[0];if(q.indexOf("<")>-1){p=q.substring(0,q.indexOf("<"))}else{p=q}if(p==n[0]){$(this).attr("checked",true);break}}})}else{addressDatasObj[j]=""}})}else{addressDatasObj[j]=""}}}else{var e=configGlobal.deptTargetField.split(",");if(e.length>0){for(var d=0;d<e.length;d++){var j=e[d]}}}}else{if(!addressDatasObj[boItemNameGlobal]){addressDatasObj[boItemNameGlobal]={};var f=$("#"+boItemNameGlobal).val();var h=f.split(" ");for(var d=0;d<h.length;d++){var c=h[d];if(c!=""){var a=c;if(c.indexOf("<")!=-1){a=c.substring(0,c.indexOf("<"))}addressDatasObj[boItemNameGlobal][a]=c;$('input[name="choosePersonCheck"]').each(function(){var i=$(this).val().split(",");if(a==i[0]){$(this).attr("checked",true);return false}})}}}else{for(var a in addressDatasObj[boItemNameGlobal]){$('input[name="choosePersonCheck"]').each(function(){var i=$(this).val().split(",");if(a==i[0]){$(this).attr("checked",true);return false}})}}}},changeAddressData:function(h){var q=$(h).find("input[name=choosePersonCheck]:first");if($(h).attr("addressType")=="task"){if(q.is(":checked")){if(q.hasClass("mui-address-radio")){$("#dialog_toolbar_extend_btn_action_page_frame_mobile")[0].contentWindow.chooseDone()}}}else{if(configGlobal&&configGlobal.isAdvMode){var p=q.val().split("$");var o=awsui.decode(p[4]);if(q.is(":checked")){var f=configGlobal.targetField.split(",");var m=configGlobal.sourceField.split(",");for(var k=0;k<f.length;k++){var e=f[k];var l=$("#targetField_"+e).attr("delimiter")||" ";var a=o[k][Object.keys(o[k])[0]];if(m[k]=="UID"){a=a+"%"+p[1]}if(addressDatasObj[e]==""){addressDatasObj[e]=a}else{if($(h).hasClass("mui-radio")){addressDatasObj[e]=a}else{addressDatasObj[e]+=l+a}}}}else{var f=configGlobal.targetField.split(",");for(var k=0;k<f.length;k++){var e=f[k];var l=$("#targetField_"+e).attr("delimiter")||" ";var g=addressDatasObj[e].split(l);for(var d=0;d<g.length;d++){var c=g[d].split("%")[0];if(c==o[k][Object.keys(o[k])[0]]){g.splice(d,1);break}}addressDatasObj[e]=g.join(l)}}if(configGlobal.sourceField.indexOf("UID")>-1||configGlobal.sourceField.indexOf("USERNAMEALIAS")>-1){}}else{if(boItemNameGlobal){var p=q.val().split(",");if(q.val().indexOf("$")>-1){p=q.val().split("$")}if(q.is(":checked")){if(q.hasClass("mui-address-radio")){addressDatasObj[boItemNameGlobal]={}}addressDatasObj[boItemNameGlobal][p[0]]=p[3]+"%"+p[1]}else{for(var n in addressDatasObj[boItemNameGlobal]){if(n==p[0]){delete addressDatasObj[boItemNameGlobal][n];break}}}}}if($(h).hasClass("mui-radio")){setTimeout(function(){mobileDialogOpen.chooseDone()},12)}}},changeDeptAddressData:function(l){var h=(configGlobal.deptTargetField||configGlobal.targetField).split(",");var p=(configGlobal.deptSourceField||configGlobal.sourceField).split(",");var d=awsui.decode("["+$(l).attr("value")+"]");if($(l).is(":checked")){for(var n=0;n<h.length;n++){var g=h[n];var o=$("#targetField_"+g).attr("delimiter")||" ";var m=d[n][Object.keys(d[n])[0]];var a=$.trim($(l).next()[0].innerText);if(p[n]=="DEPTID"){m=m+"%"+a}if(!addressDatasObj[g]){addressDatasObj[g]=m}else{if($(l).attr("type")=="radio"){addressDatasObj[g]=m}else{addressDatasObj[g]+=o+m}}}}else{for(var n=0;n<h.length;n++){var g=h[n];var o=$("#targetField_"+g).attr("delimiter")||" ";try{var k=addressDatasObj[g].split(o);for(var f=0;f<k.length;f++){var c=k[f].split("%")[0];if(c==d[n][Object.keys(d[n])[0]]){k.splice(f,1);break}}addressDatasObj[g]=k.join(" ")}catch(q){}}}if($(l).attr("type")=="radio"){setTimeout(function(){mobileDialogOpen.chooseDone()},12)}}};var jscolor={dir:"",bindClass:"color",binding:true,preloading:true,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){if(jscolor.binding){jscolor.bind()}if(jscolor.preloading){jscolor.preload()}},getDir:function(){if(!jscolor.dir){var a=jscolor.detectDir();jscolor.dir=a!==false?a:"jscolor/"}return jscolor.dir},detectDir:function(){var d=location.href;var f=document.getElementsByTagName("base");for(var a=0;a<f.length;a+=1){if(f[a].href){d=f[a].href}}var f=document.getElementsByTagName("script");for(var a=0;a<f.length;a+=1){if(f[a].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(f[a].src)){var g=new jscolor.URI(f[a].src);var c=g.toAbsolute(d);c.path=c.path.replace(/[^\/]+$/,"");c.query=null;c.fragment=null;return c.toString()}}return false},bind:function(){var f=new RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i");var g=document.getElementsByTagName("input");for(var d=0;d<g.length;d+=1){var c;if(!g[d].color&&g[d].className&&(c=g[d].className.match(f))){var h={};if(c[3]){try{h=(new Function("return ("+c[3]+")"))()}catch(a){}}g[d].color=new jscolor.color(g[d],h)}}},preload:function(){for(var a in jscolor.imgRequire){if(jscolor.imgRequire.hasOwnProperty(a)){jscolor.loadImage(a)}}},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(a){jscolor.imgRequire[a]=true},loadImage:function(a){if(!jscolor.imgLoaded[a]){jscolor.imgLoaded[a]=new Image();jscolor.imgLoaded[a].src=jscolor.getDir()+a}},fetchElement:function(a){return typeof a==="string"?document.getElementById(a):a},addEvent:function(a,d,c){if(a.addEventListener){a.addEventListener(d,c,false)}else{if(a.attachEvent){a.attachEvent("on"+d,c)}}},fireEvent:function(a,d){if(!a){return}if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(d,true,true);a.dispatchEvent(c)}else{if(document.createEventObject){var c=document.createEventObject();a.fireEvent("on"+d,c)}else{if(a["on"+d]){a["on"+d]()}}}},getElementPos:function(d){var f=d,c=d;var a=0,g=0;if(f.offsetParent){do{a+=f.offsetLeft;g+=f.offsetTop}while(f=f.offsetParent)}while((c=c.parentNode)&&c.nodeName.toUpperCase()!=="BODY"){a-=c.scrollLeft;g-=c.scrollTop}return[a,g]},getElementSize:function(a){return[a.offsetWidth,a.offsetHeight]},getRelMousePos:function(c){var a=0,d=0;if(!c){c=window.event}if(typeof c.offsetX==="number"){a=c.offsetX;d=c.offsetY}else{if(typeof c.layerX==="number"){a=c.layerX;d=c.layerY}}return{x:a,y:d}},getViewPos:function(){if(typeof window.pageYOffset==="number"){return[window.pageXOffset,window.pageYOffset]}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){return[document.body.scrollLeft,document.body.scrollTop]}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){return[document.documentElement.scrollLeft,document.documentElement.scrollTop]}else{return[0,0]}}}},getViewSize:function(){if(typeof window.innerWidth==="number"){return[window.innerWidth,window.innerHeight]}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){return[document.body.clientWidth,document.body.clientHeight]}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return[document.documentElement.clientWidth,document.documentElement.clientHeight]}else{return[0,0]}}}},URI:function(a){this.scheme=null;this.authority=null;this.path="";this.query=null;this.fragment=null;this.parse=function(e){var d=e.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=d[3]?d[2]:null;this.authority=d[5]?d[6]:null;this.path=d[7];this.query=d[9]?d[10]:null;this.fragment=d[12]?d[13]:null;return this};this.toString=function(){var d="";if(this.scheme!==null){d=d+this.scheme+":"}if(this.authority!==null){d=d+"//"+this.authority}if(this.path!==null){d=d+this.path}if(this.query!==null){d=d+"?"+this.query}if(this.fragment!==null){d=d+"#"+this.fragment}return d};this.toAbsolute=function(f){var f=new jscolor.URI(f);var e=this;var d=new jscolor.URI;if(f.scheme===null){return false}if(e.scheme!==null&&e.scheme.toLowerCase()===f.scheme.toLowerCase()){e.scheme=null}if(e.scheme!==null){d.scheme=e.scheme;d.authority=e.authority;d.path=c(e.path);d.query=e.query}else{if(e.authority!==null){d.authority=e.authority;d.path=c(e.path);d.query=e.query}else{if(e.path===""){d.path=f.path;if(e.query!==null){d.query=e.query}else{d.query=f.query}}else{if(e.path.substr(0,1)==="/"){d.path=c(e.path)}else{if(f.authority!==null&&f.path===""){d.path="/"+e.path}else{d.path=f.path.replace(/[^\/]+$/,"")+e.path}d.path=c(d.path)}d.query=e.query}d.authority=f.authority}d.scheme=f.scheme}d.fragment=e.fragment;return d};function c(f){var d="";while(f){if(f.substr(0,3)==="../"||f.substr(0,2)==="./"){f=f.replace(/^\.+/,"").substr(1)}else{if(f.substr(0,3)==="/./"||f==="/."){f="/"+f.substr(3)}else{if(f.substr(0,4)==="/../"||f==="/.."){f="/"+f.substr(4);d=d.replace(/\/?[^\/]*$/,"")}else{if(f==="."||f===".."){f=""}else{var e=f.match(/^\/?[^\/]*/)[0];f=f.substr(e.length);d=d+e}}}}}return d}if(a){this.parse(a)}},color:function(E,e){this.required=true;this.adjust=true;this.hash=false;this.caps=true;this.slider=true;this.valueElement=E;this.styleElement=E;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.minH=0;this.maxH=6;this.minS=0;this.maxS=1;this.minV=0;this.maxV=1;this.pickerOnfocus=true;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=true;this.pickerButtonHeight=20;this.pickerClosable=false;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=10000;for(var v in e){if(e.hasOwnProperty(v)){this[v]=e[v]}}this.hidePicker=function(){if(x()){h()}};this.showPicker=function(){if(!x()){var N=jscolor.getElementPos(E);var K=jscolor.getElementSize(E);var H=jscolor.getViewPos();var P=jscolor.getViewSize();var p=w(this);var O,M,L;switch(this.pickerPosition.toLowerCase()){case"left":O=1;M=0;L=-1;break;case"right":O=1;M=0;L=1;break;case"top":O=0;M=1;L=-1;break;default:O=0;M=1;L=1;break}var J=(K[M]+p[M])/2;if(!this.pickerSmartPosition){var I=[N[O],N[M]+K[M]-J+J*L]}else{var I=[-H[O]+N[O]+p[O]>P[O]?(-H[O]+N[O]+K[O]/2>P[O]/2&&N[O]+K[O]-p[O]>=0?N[O]+K[O]-p[O]:N[O]):N[O],-H[M]+N[M]+K[M]+p[M]-J+J*L>P[M]?(-H[M]+N[M]+K[M]/2>P[M]/2&&N[M]+K[M]-J-J*L>=0?N[M]+K[M]-J-J*L:N[M]+K[M]-J+J*L):(N[M]+K[M]-J+J*L>=0?N[M]+K[M]-J+J*L:N[M]+K[M]-J-J*L)]}l(I[O],I[M])}};this.importColor=function(){if(!a){this.exportColor()}else{if(!this.adjust){if(!this.fromString(a.value,A)){G.style.backgroundImage=G.jscStyle.backgroundImage;G.style.backgroundColor=G.jscStyle.backgroundColor;G.style.color=G.jscStyle.color;this.exportColor(A|F)}}else{if(!this.required&&/^\s*$/.test(a.value)){a.value="";G.style.backgroundImage=G.jscStyle.backgroundImage;G.style.backgroundColor=G.jscStyle.backgroundColor;G.style.color=G.jscStyle.color;this.exportColor(A|F)}else{if(this.fromString(a.value)){}else{this.exportColor()}}}}};this.exportColor=function(p){if(!(p&A)&&a){var H=this.toString();if(this.caps){H=H.toUpperCase()}if(this.hash){H="#"+H}a.value=H}if(!(p&F)&&G){G.style.backgroundImage="none";G.style.backgroundColor="#"+this.toString();G.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000"}if(!(p&y)&&x()){u()}if(!(p&f)&&x()){D()}};this.fromHSV=function(J,I,H,p){if(J!==null){J=Math.max(0,this.minH,Math.min(6,this.maxH,J))}if(I!==null){I=Math.max(0,this.minS,Math.min(1,this.maxS,I))}if(H!==null){H=Math.max(0,this.minV,Math.min(1,this.maxV,H))}this.rgb=i(J===null?this.hsv[0]:(this.hsv[0]=J),I===null?this.hsv[1]:(this.hsv[1]=I),H===null?this.hsv[2]:(this.hsv[2]=H));this.exportColor(p)};this.fromRGB=function(L,K,p,H){if(L!==null){L=Math.max(0,Math.min(1,L))}if(K!==null){K=Math.max(0,Math.min(1,K))}if(p!==null){p=Math.max(0,Math.min(1,p))}var J=B(L===null?this.rgb[0]:L,K===null?this.rgb[1]:K,p===null?this.rgb[2]:p);if(J[0]!==null){this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,J[0]))}if(J[2]!==0){this.hsv[1]=J[1]===null?null:Math.max(0,this.minS,Math.min(1,this.maxS,J[1]))}this.hsv[2]=J[2]===null?null:Math.max(0,this.minV,Math.min(1,this.maxV,J[2]));var I=i(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=I[0];this.rgb[1]=I[1];this.rgb[2]=I[2];this.exportColor(H)};this.fromString=function(I,H){var p=I.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(!p){return false}else{if(p[1].length===6){this.fromRGB(parseInt(p[1].substr(0,2),16)/255,parseInt(p[1].substr(2,2),16)/255,parseInt(p[1].substr(4,2),16)/255,H)}else{this.fromRGB(parseInt(p[1].charAt(0)+p[1].charAt(0),16)/255,parseInt(p[1].charAt(1)+p[1].charAt(1),16)/255,parseInt(p[1].charAt(2)+p[1].charAt(2),16)/255,H)}return true}};this.toString=function(){return((256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1))};function B(L,K,H){var M=Math.min(Math.min(L,K),H);var I=Math.max(Math.max(L,K),H);var p=I-M;if(p===0){return[null,0,I]}var J=L===M?3+(H-K)/p:(K===M?5+(L-H)/p:1+(K-L)/p);return[J===6?0:J,p/I,I]}function i(K,J,H){if(K===null){return[H,H,H]}var I=Math.floor(K);var L=I%2?K-I:1-(K-I);var p=H*(1-J);var M=H*(1-J*L);switch(I){case 6:case 0:return[H,M,p];case 1:return[M,H,p];case 2:return[p,H,M];case 3:return[p,M,H];case 4:return[M,p,H];case 5:return[H,p,M]}}function h(){delete jscolor.picker.owner;document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB)}function l(O,N){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(m.pickerCloseText)};for(var L=0,M=4;L<jscolor.images.sld[1];L+=M){var K=document.createElement("div");K.style.height=M+"px";K.style.fontSize="1px";K.style.lineHeight="0";jscolor.picker.sld.appendChild(K)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var H=jscolor.picker;H.box.onmouseup=H.box.onmouseout=function(){E.focus()};H.box.onmousedown=function(){o=true};H.box.onmousemove=function(p){if(d||q){d&&z(p);q&&j(p);if(document.selection){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}g()}};if("ontouchstart" in window){var R=function(S){var p={offsetX:S.touches[0].pageX-k.X,offsetY:S.touches[0].pageY-k.Y};if(d||q){d&&z(p);q&&j(p);g()}S.stopPropagation();S.preventDefault()};H.box.removeEventListener("touchmove",R,false);H.box.addEventListener("touchmove",R,false)}H.padM.onmouseup=H.padM.onmouseout=function(){if(d){d=false;jscolor.fireEvent(a,"change")}};H.padM.onmousedown=function(p){switch(c){case 0:if(m.hsv[2]===0){m.fromHSV(null,null,1)}break;case 1:if(m.hsv[1]===0){m.fromHSV(null,1,null)}break}q=false;d=true;z(p);g()};if("ontouchstart" in window){H.padM.addEventListener("touchstart",function(p){k={X:p.target.offsetParent.offsetLeft,Y:p.target.offsetParent.offsetTop};this.onmousedown({offsetX:p.touches[0].pageX-k.X,offsetY:p.touches[0].pageY-k.Y})})}H.sldM.onmouseup=H.sldM.onmouseout=function(){if(q){q=false;jscolor.fireEvent(a,"change")}};H.sldM.onmousedown=function(p){d=false;q=true;j(p);g()};if("ontouchstart" in window){H.sldM.addEventListener("touchstart",function(p){k={X:p.target.offsetParent.offsetLeft,Y:p.target.offsetParent.offsetTop};this.onmousedown({offsetX:p.touches[0].pageX-k.X,offsetY:p.touches[0].pageY-k.Y})})}var Q=w(m);H.box.style.width=Q[0]+"px";H.box.style.height=Q[1]+"px";H.boxB.style.position="fixed";H.boxB.style.clear="both";H.boxB.style.left=O+"px";H.boxB.style.top=N+"px";H.boxB.style.zIndex=m.pickerZIndex;H.boxB.style.border=m.pickerBorder+"px solid";H.boxB.style.borderColor=m.pickerBorderColor;H.boxB.style.background=m.pickerFaceColor;H.pad.style.width=jscolor.images.pad[0]+"px";H.pad.style.height=jscolor.images.pad[1]+"px";H.padB.style.position="absolute";H.padB.style.left=m.pickerFace+"px";H.padB.style.top=m.pickerFace+"px";H.padB.style.border=m.pickerInset+"px solid";H.padB.style.borderColor=m.pickerInsetColor;H.padM.style.position="absolute";H.padM.style.left="0";H.padM.style.top="0";H.padM.style.width=m.pickerFace+2*m.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";H.padM.style.height=H.box.style.height;H.padM.style.cursor="crosshair";H.sld.style.overflow="hidden";H.sld.style.width=jscolor.images.sld[0]+"px";H.sld.style.height=jscolor.images.sld[1]+"px";H.sldB.style.display=m.slider?"block":"none";H.sldB.style.position="absolute";H.sldB.style.right=m.pickerFace+"px";H.sldB.style.top=m.pickerFace+"px";H.sldB.style.border=m.pickerInset+"px solid";H.sldB.style.borderColor=m.pickerInsetColor;H.sldM.style.display=m.slider?"block":"none";H.sldM.style.position="absolute";H.sldM.style.right="0";H.sldM.style.top="0";H.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+m.pickerFace+2*m.pickerInset+"px";H.sldM.style.height=H.box.style.height;try{H.sldM.style.cursor="pointer"}catch(J){H.sldM.style.cursor="hand"}function P(){var p=m.pickerInsetColor.split(/\s+/);var S=p.length<2?p[0]:p[1]+" "+p[0]+" "+p[0]+" "+p[1];H.btn.style.borderColor=S}H.btn.style.display=m.pickerClosable?"block":"none";H.btn.style.position="absolute";H.btn.style.left=m.pickerFace+"px";H.btn.style.bottom=m.pickerFace+"px";H.btn.style.padding="0 15px";H.btn.style.height="18px";H.btn.style.border=m.pickerInset+"px solid";P();H.btn.style.color=m.pickerButtonColor;H.btn.style.font="12px sans-serif";H.btn.style.textAlign="center";try{H.btn.style.cursor="pointer"}catch(J){H.btn.style.cursor="hand"}H.btn.onmousedown=function(){m.hidePicker()};H.btnS.style.lineHeight=H.btn.style.height;switch(c){case 0:var I="hs.png";break;case 1:var I="hv.png";break}H.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";H.padM.style.backgroundRepeat="no-repeat";H.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";H.sldM.style.backgroundRepeat="no-repeat";H.pad.style.backgroundImage="url('"+jscolor.getDir()+I+"')";H.pad.style.backgroundRepeat="no-repeat";H.pad.style.backgroundPosition="0 0";u();D();jscolor.picker.owner=m;document.getElementsByTagName("body")[0].appendChild(H.boxB)}function w(H){var p=[2*H.pickerInset+2*H.pickerFace+jscolor.images.pad[0]+(H.slider?2*H.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),H.pickerClosable?4*H.pickerInset+3*H.pickerFace+jscolor.images.pad[1]+H.pickerButtonHeight:2*H.pickerInset+2*H.pickerFace+jscolor.images.pad[1]];return p}function u(){switch(c){case 0:var J=1;break;case 1:var J=2;break}var N=Math.round((m.hsv[0]/6)*(jscolor.images.pad[0]-1));var M=Math.round((1-m.hsv[J])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=(m.pickerFace+m.pickerInset+N-Math.floor(jscolor.images.cross[0]/2))+"px "+(m.pickerFace+m.pickerInset+M-Math.floor(jscolor.images.cross[1]/2))+"px";var p=jscolor.picker.sld.childNodes;switch(c){case 0:var L=i(m.hsv[0],m.hsv[1],1);for(var H=0;H<p.length;H+=1){p[H].style.backgroundColor="rgb("+(L[0]*(1-H/p.length)*100)+"%,"+(L[1]*(1-H/p.length)*100)+"%,"+(L[2]*(1-H/p.length)*100)+"%)"}break;case 1:var L,O,K=[m.hsv[2],0,0];var H=Math.floor(m.hsv[0]);var I=H%2?m.hsv[0]-H:1-(m.hsv[0]-H);switch(H){case 6:case 0:L=[0,1,2];break;case 1:L=[1,0,2];break;case 2:L=[2,0,1];break;case 3:L=[2,1,0];break;case 4:L=[1,2,0];break;case 5:L=[0,2,1];break}for(var H=0;H<p.length;H+=1){O=1-1/(p.length-1)*H;K[1]=K[0]*(1-O*I);K[2]=K[0]*(1-O);p[H].style.backgroundColor="rgb("+(K[L[0]]*100)+"%,"+(K[L[1]]*100)+"%,"+(K[L[2]]*100)+"%)"}break}}function D(){switch(c){case 0:var p=2;break;case 1:var p=1;break}var H=Math.round((1-m.hsv[p])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(m.pickerFace+m.pickerInset+H-Math.floor(jscolor.images.arrow[1]/2))+"px"}function x(){return jscolor.picker&&jscolor.picker.owner===m}function s(){if(a===E){m.importColor()}if(m.pickerOnfocus){m.hidePicker()}}function n(){if(a!==E){m.importColor()}}function z(I){var H=jscolor.getRelMousePos(I);var p=H.x-m.pickerFace-m.pickerInset;var J=H.y-m.pickerFace-m.pickerInset;switch(c){case 0:m.fromHSV(p*(6/(jscolor.images.pad[0]-1)),1-J/(jscolor.images.pad[1]-1),null,f);break;case 1:m.fromHSV(p*(6/(jscolor.images.pad[0]-1)),null,1-J/(jscolor.images.pad[1]-1),f);break}}function j(H){var p=jscolor.getRelMousePos(H);var I=p.y-m.pickerFace-m.pickerInset;switch(c){case 0:m.fromHSV(null,null,1-I/(jscolor.images.sld[1]-1),y);break;case 1:m.fromHSV(null,1-I/(jscolor.images.sld[1]-1),null,y);break}}function g(){if(m.onImmediateChange){var p;if(typeof m.onImmediateChange==="string"){p=new Function(m.onImmediateChange)}else{p=m.onImmediateChange}p.call(m)}}var m=this;var c=this.pickerMode.toLowerCase()==="hvs"?1:0;var o=false;var a=jscolor.fetchElement(this.valueElement),G=jscolor.fetchElement(this.styleElement);var d=false,q=false,k={};var A=1<<0,F=1<<1,y=1<<2,f=1<<3;jscolor.addEvent(E,"focus",function(){if(m.pickerOnfocus){m.showPicker()}});jscolor.addEvent(E,"blur",function(){if(!o){window.setTimeout(function(){o||s();o=false},0)}else{o=false}});if(a){var C=function(){m.fromString(a.value,A);g()};jscolor.addEvent(a,"keyup",C);jscolor.addEvent(a,"input",C);jscolor.addEvent(a,"blur",n);a.setAttribute("autocomplete","off")}if(G){G.jscStyle={backgroundImage:G.style.backgroundImage,backgroundColor:G.style.backgroundColor,color:G.style.color}}switch(c){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png");break}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();
/*!
 * User Profile
 */
var userprofile=function(f){if(typeof f=="string"&&f=="close"){var g;try{g=top.window.getUserProfileContainer()}catch(h){g=top.window.document.body}if($(g).find(".awsui-upd-container")[0]){_profile_constainer=$(g).find(".awsui-upd-container");_profile_constainer.remove()}}else{if(typeof f=="string"&&f=="hide"){var g;try{g=top.window.getUserProfileContainer()}catch(h){g=top.window.document.body}if($(g).find(".awsui-upd-container")[0]){_profile_constainer=$(g).find(".awsui-upd-container");_profile_constainer.remove();var d=_profile_constainer.find(".awsui-upd-operate");if(_profile_constainer.css("right")=="0px"){_profile_constainer.animate({right:-_profile_constainer.width()+"px"},"slow",function(){d.attr("title",显示).text("<<");d.hide()})}}}}var c;var a;if($.browser.isMobile||$.browser.isIPad){return}$(document).on("mouseenter.over",".awsui-user-profile",function(e){window.clearTimeout(a);var i=$(this);a=setTimeout(function(){var v="awsui_userprofile";var x;try{x=top.window.getUserProfileContainer()}catch(C){x=top.window.document.body}var B=$('<div id="'+v+'" class="awsui-userprofile-container"></div>');if($("#sid").length>0){sid=$("#sid").val()}if(window.sid!=undefined){sid=window.sid}if(sid==undefined){B.text(页面无法读取参数)}var m=i.attr("userId");var z=i.attr("id");if(m==""){return}if(c!=undefined){$(".awsui-userprofile-container").remove();window.clearTimeout(c)}B.appendTo(document.body);var s=B;var A=document.body;var E=i.offset().left;var l=B.outerWidth()+5;var p=document.body.scrollLeft;var u=$(window).width();if(E-p+l>u){B.css("left",(u-l)+"px")}else{B.css("left",(E+p)+"px")}var n=i.offset().top;var w=B.outerHeight()+5;var o=i.height();var D=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var k=$(window).height();if(n-D+o+w>k){var j=n-w;if(j<0){j=5;var q=parseInt(B.css("left"))+i.width()+5;B.css("left",(q)+"px")}B.css("top",(j)+"px")}else{B.css("top",(n+o)+"px")}var y="\t target.offsetLeft\t "+i.offset().left+"\t body.scrollLeft\t "+A.scrollLeft+"\t win.width\t "+$(window).width()+"\t up.width\t "+s.width()+"\t target.offsetTop\t "+i.offset().top+"\t body.scrollTop\t "+D+"\t win.height \t "+$(window).height()+"\t up.height\t "+s.height()+" \t target.height\t"+i.height();if(sid!=undefined){awsui.ajax.post("./jd?sid="+sid+"&cmd=CLIENT_ORG_USER_PROFILE",{uid:m},function(M){var H=$('<div class="awsui-userprofile-info-container"></div>');if(M.result=="warning"&&M.msg=="notFined"){var O="";var I=$('<span class="awsui-userprofile-info user-name">'+对不起未找到此人信息+"</span>");B.append(O).append(H);H.append(I);return}var K=M.data;var Q=K.userProfileData;var O=$('<div class="awsui-userprofile-photo-container"></div>');B.append(O).append(H);for(var N=0;N<Q.length;N++){var F=Q[N];var V=F.item;var X=F.name;var P=F.isOpen;if(V=="userPhoto"&&P==true){$(".awsui-userprofile-photo-container").append('<img class="awsui-userprofile-photo" src="'+K.userPhoto+'" />');continue}else{if(V=="detail"&&P==true){if(K["profile-app"]){var R=$('<span type="button" class="button blue custom" style="margin-top: 10px;padding:3px 4px; min-width:45px;">'+详细+"</span>");O.append(R);R.click(function(Y){if(top.window.loadbackground){top.window.loadbackground(B,x,K.userId,z,sid)}else{loadbackground(B,x,K.userId,z,sid)}Y.stopPropagation()})}continue}else{if(V=="online"&&P==true){var U=$('<span class="awsui-userprofile-online" title="'+在线+'"></span>');if(!K.online){U.addClass("un");U.attr("title",离线)}H.append(U);continue}else{if(V=="userName"&&P==true){var W="";if(F.showUserId===true){W=' <span style="font-weight: initial;font-size: 12px;">('+K.userId+")</span>"}var I=$('<span class="awsui-userprofile-info user-name" title="'+K.userName+'">'+K.userName+W+"</span>");H.append(I);continue}else{if(V=="departmentName"&&P==true){var S=$('<div class="awsui-userprofile-info dept" title="'+K.departmentName+'">'+K.departmentName+"</div>");H.append(S);continue}else{if(V=="positionName"&&P==true){var L="";if(K.roleName!=undefined&&K.roleName!=""){L=K.roleName}if(K.positionName!=undefined&&K.positionName!=""){L=K.positionName}var G=$('<div class="awsui-userprofile-info position" title="'+L+'">'+L+"</div>");H.append(G);continue}else{if(V=="mobile"&&P==true){if(K.mobile!=undefined&&K.mobile!=""){H.append('<div class="awsui-userprofile-info mobile" title="'+K.mobile+'"><span class="awsui-userprofile-info-label mobile"></span>'+K.mobile+"</div>")}continue}else{if(V=="officeTel"&&P==true){if(K.officeTel!=undefined&&K.officeTel!=""){H.append('<div class="awsui-userprofile-info office-tel" title="'+K.officeTel+'"><span class="awsui-userprofile-info-label office-tel"></span>'+K.officeTel+"</div>")}}else{if(V=="email"&&P==true){if(K.email!=undefined&&K.email!=""){H.append('<div class="awsui-userprofile-info email" title="'+K.email+'"><span class="awsui-userprofile-info-label email"></span>'+K.email+"</div>")}continue}}}}}}}}}}var J="";if(K["profile-notification"]===true){J+="<option value='com.actionsoft.apps.notification'>"+通知+"</option>"}if(K["profile-notification-wechat"]===true){J+="<option value='com.actionsoft.apps.wechat'>"+微信+"</option>"}if(J.length>0){var T=$('<span class="awsui-userprofile-info sendmsg" title="'+发送消息+'"></span>');H.append(T);T.on("click",function(aa){var Z="<table style='margin:0 auto;' class='awsui-ux'><tr>";Z+="<td class='awsui-ux-title' style='width:20%;padding-left:0px;' nowrap='nowrap'>"+接收人+"</td>";Z+="<td id='targetId' style='width:30%;overflow:hidden;' tit='"+m+"'>"+K.userName+"</td>";Z+="<td class='awsui-ux-title' style='width:20%;'>"+沟通方式+"</td>";Z+="<td style='width:30%;'>";Z+="<select id='msgType' style='width:130px;' nofit='true' class='awsui-select'>";Z+=J;Z+="</select>";Z+="</td></tr>";Z+="<tr><td class='awsui-ux-title' style='width:20%;padding-left:0px;' valign='top'>"+消息内容+"</td><td colspan='3' style='width:80%;' class='required' style='padding:10px 15px 0 0;'>";Z+="<textarea id='msgContent' placeholder='"+请输入内容+"' style='resize:none;outline:none;width:348px;height:120px;' class='txt'></textarea>";Z+="<span style='display: block; text-align: left; padding: 3px 0 10px 0; '>"+还可输入+"<span id='msgContentSize'>200</span>"+字+"</span></td></tr></table>";$("#dialog_msg").remove();var Y=document.createElement("div");Y.id="dialog_msg";Y.style.display="none";Y.innerHTML=Z;document.body.appendChild(Y);$(".awsui-select").customSelect();$("#dialog_msg td").css("padding-top","15px");$("#msgContent").on("keyup",function(ac){var ab=i.val().length;if(ab>200){$.simpleAlert(最多允许输入200字);i.val(i.val().substring(0,200));i.focus()}$("#msgContentSize").text(200-(ab>200?200:ab))});$("#dialog_msg").dialog({title:发送消息,width:500,height:320,model:true,buttons:[{text:发送,cls:"blue",handler:function(){var ac=$("#msgContent").val();if($.trim(ac)==""){$.simpleAlert("["+消息内容+"]"+不能为空,"info");return}var ab={};ab.targetId=$("#targetId").attr("tit");ab.msgContent=$("#msgContent").val();ab.msgType=$("#msgType").val();$.post("./jd?sid="+sid+"&cmd=com.actionsoft.apps.profile.communicate",ab,function(ad){if(ad.result=="ok"){$("#dialog_msg").dialog("close");$("#msgContent").val("");$.simpleAlert("close");$.simpleAlert(发送成功,"ok",1000)}else{$.simpleAlert(ad.msg,ad.result)}},"json")}}]});aa.stopPropagation()})}},"json")}i.off("mouseleave.over").on("mouseleave.over",function(F){c=window.setTimeout(function(){$(".awsui-userprofile-container").remove()},200);F.preventDefault()});$(".awsui-userprofile-container").on("mouseenter",function(){window.clearTimeout(c)});$(".awsui-userprofile-container").on("mouseleave",function(F){$(this).remove()})},300)});$(document).on("mouseleave.over",".awsui-user-profile",function(i){window.clearTimeout(a)})};function loadbackground(w,p,f,s,i){w.remove();var k;if($(p).find(".awsui-upd-container")[0]){k=$(p).find(".awsui-upd-container");var v=k.find(".awsui-upd-operate");if(k.css("right")!="0px"){k.animate({right:"0"},"slow")}if(k.attr("userId")==f){return}if(top.window.awsuiProfileTabs!=undefined){top.window.awsuiProfileTabs.removeAllTabs()}}else{k=$('<div class="awsui-upd-container"></div>').appendTo(p);k.animate({right:"0"},"slow");var v=$('<div class=" awsui-iconfont awsui-upd-operate">&#xe6fe;</div>');k.append(v);v.unbind("click").click(function(z){var y=$(this);if(y.parent().css("right")=="0px"){y.parent().animate({right:-y.parent().width()+"px"},"slow")}else{y.parent().animate({right:"0"},"slow")}});var u=$('<div class="awsui-upd-user-container"></div>');var m=$('<div class="awsui-upd-photo-container"><img class="awsui-upd-photo" /></div>');var x=$('<div class="awsui-upd-info-container"></div>');var j=$('<div class="awsui-upd-info user-name"></div>');j.append('<div class="awsui-upd-user-online"></div>');j.append('<span class="user-name"></span>');var e=$('<div class="awsui-upd-info position-name"></div>');var o=$('<div class="awsui-upd-info org-info"></div>');var g=$('<div class="awsui-upd-info"><span class="awsui-userprofile-info-label mobile detail"></span><span class="awsui-userprofile-info-value mobile"></span></div>');var n=$('<div class="awsui-upd-info"><span class="awsui-userprofile-info-label office-tel detail"></span><span class="awsui-userprofile-info-value office-tel"></span></div>');var a=$('<div class="awsui-upd-info"><span class="awsui-userprofile-info-label email detail"></span><span class="awsui-userprofile-info-value email"></span></div>');var c=$('<div class="awsui-upd-content-container"></div>');var q=$('<div class="awsui-upd-profile-conatiner"></div>');var d=$('<div id="awsuiUpdProfileTabs" class="awsui-simple-tab" style="height: 35px;"></div>');var l=$('<iframe id="awsuUpdProfileContent" class="awsui-upd-iframe"></iframe>');k.append(u).append(c);u.append(m).append(x);x.append(j).append(e).append(o).append(g).append(n).append(a);c.append(q);q.append(d).append(l);l.css("height",q.height()-d.height()-5);var h={onClick:function(y){if($(p).find(".sameusercontainer").hasClass("sameusercontainer")){var z=$(p).find(".sameusercontainer");z.remove()}k.find("#awsuUpdProfileContent").attr("src",y.url);k.find("#awsuUpdProfileContent").find(".awsui-user-profile").removeClass("awsui-user-profile");return true},height:35,contentPanel:$("#awsuUpdProfileContent"),nogradient:true};top.window.awsuiProfileTabs=awsui.tabs.init(d,h)}k.attr("userId",f);awsui.ajax.post("./jd?sid="+i+"&cmd=com.actionsoft.apps.profile_load_profiles",{userId:f},function(C){var F=C.data["userInfo"];k.find(".awsui-upd-photo").attr("src",F.userPhoto);k.find(".awsui-upd-info.user-name .user-name").text(F.userName).attr("title",F.userName);if(F.online){k.find(".awsui-upd-user-online").removeClass("un").attr("title",在线)}else{k.find(".awsui-upd-user-online").addClass("un").attr("title",离线)}k.find(".awsui-upd-info.position-name").text(F.positionName==undefined?"":F.positionName).attr("title",F.positionName==undefined?"":F.positionName);k.find(".awsui-upd-info.org-info").text(F.departmentName+"，"+F.companyName).attr("title",F.departmentName+"，"+F.companyName);if(F.mobile==undefined||F.mobile==""){k.find(".awsui-upd-info .awsui-userprofile-info-value.mobile").parent().hide()}else{k.find(".awsui-upd-info .awsui-userprofile-info-value.mobile").parent().show();k.find(".awsui-upd-info .awsui-userprofile-info-value.mobile").text(F.mobile).attr("title",F.mobile)}if(F.officeTel==undefined||F.officeTel==""){k.find(".awsui-upd-info .awsui-userprofile-info-value.office-tel").parent().hide()}else{k.find(".awsui-upd-info .awsui-userprofile-info-value.office-tel").parent().show();k.find(".awsui-upd-info .awsui-userprofile-info-value.office-tel").text(F.officeTel).attr("title",F.officeTel)}if(F.email==undefined||F.email==""){k.find(".awsui-upd-info .awsui-userprofile-info-value.email").parent().hide()}else{k.find(".awsui-upd-info .awsui-userprofile-info-value.email").parent().show();k.find(".awsui-upd-info .awsui-userprofile-info-value.email").text(F.email).attr("title",F.email)}var E=C.data["profileList"];var D=E.length;var y=F.userId.replace(/\&/g,"%26");y=encodeURI(y);for(var B=0;B<D;B++){var z=(new Date()).valueOf();var H={item:{url:"./w?sid="+i+"&cmd=com.actionsoft.apps.profile_call_main&profileId="+E[B]["id"]+"&userId="+y,title:E[B]["menuName"],index:B},contextMenu:true,close:false};top.window.awsuiProfileTabs.addTab(H)}if(D>0){if(s=="userName"){var G={url:"./w?sid="+i+"&cmd=com.actionsoft.apps.profile_call_main&profileId="+E[1]["id"]+"&userId="+y,title:E[1]["menuName"],index:0};var A=top.window.awsuiProfileTabs.getTabLast();$(A).click();top.window.awsuiProfileTabs.tabContainer.stop().animate({left:"0px"},500);top.window.awsuiProfileTabs.getTabFirst().removeClass("current")}else{var G={url:"./w?sid="+i+"&cmd=com.actionsoft.apps.profile_call_main&profileId="+E[0]["id"]+"&userId="+y,title:E[0]["menuName"],index:0};var A=top.window.awsuiProfileTabs.getTabFirst();$(A).click();top.window.awsuiProfileTabs.tabContainer.stop().animate({left:"0px"},500);top.window.awsuiProfileTabs.getTabLast().removeClass("current")}}},"json");k.unbind("scroll.awsui.userpofile").bind("scroll.awsui.userpofile",function(y,z){y.stopPropagation()})}$(document).ready(function(){userprofile()});
/*!
 * =====================================================
 * aws.schedule.js
 * v1.0 (http://www.actionsoft.com.cn)
 * =====================================================
 */
function loadJsFile(c,f){try{var a=$("<script  type='text/javascript' src='"+c+"'/>");$(f).parent().find("head").append(a)}catch(d){}}function getSchedulePage(c,d,h,g){try{var a=window.document.body;loadJsFile("../apps/com.actionsoft.apps.calendar/js/calendar.schedule.js",a);if(h==undefined){h=false}getScheduleInfo(c,d,h,g)}catch(f){}}
/*!
 * =====================================================
 * aws.taskdetails.js
 * v1.0 (http://www.actionsoft.com.cn)
 * =====================================================
 */
function loadTaskJsFile(c,d){var a=$("<script  type='text/javascript' src='"+c+"'/>");$(d).parent().find("head").append(a)}function getTaskDetailsPage(d,c,f,e){var a=window.document.body;loadTaskJsFile("../apps/com.actionsoft.apps.taskmgt/js/taskmgt.details.js",a);if(f==undefined){f=false}getTaskDetailsInfo(d,c,f,e)}
/*!
 * Select2 4.0.6-rc.1
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=function(c,d){if(d===undefined){if(typeof window!=="undefined"){d=require("jquery")}else{d=require("jquery")(c)}}a(d);return d}}else{a(jQuery)}}}(function(d){var c=(function(){if(d&&d.fn&&d.fn.select2&&d.fn.select2.amd){var e=d.fn.select2.amd}var e;(function(){if(!e||!e.requirejs){if(!e){e={}}else{f=e}var g,f,h;(function(m){var p,i,w,x,l={},k={},D={},A={},v=Object.prototype.hasOwnProperty,q=[].slice,u=/\.js$/;function E(F,G){return v.call(F,G)}function y(I,G){var Q,M,K,N,R,J,T,V,P,O,L,U,S=G&&G.split("/"),H=D.map,F=(H&&H["*"])||{};if(I){I=I.split("/");R=I.length-1;if(D.nodeIdCompat&&u.test(I[R])){I[R]=I[R].replace(u,"")}if(I[0].charAt(0)==="."&&S){U=S.slice(0,S.length-1);I=U.concat(I)}for(P=0;P<I.length;P++){L=I[P];if(L==="."){I.splice(P,1);P-=1}else{if(L===".."){if(P===0||(P===1&&I[2]==="..")||I[P-1]===".."){continue}else{if(P>0){I.splice(P-1,2);P-=2}}}}}I=I.join("/")}if((S||F)&&H){Q=I.split("/");for(P=Q.length;P>0;P-=1){M=Q.slice(0,P).join("/");if(S){for(O=S.length;O>0;O-=1){K=H[S.slice(0,O).join("/")];if(K){K=K[M];if(K){N=K;J=P;break}}}}if(N){break}if(!T&&F&&F[M]){T=F[M];V=P}}if(!N&&T){N=T;J=V}if(N){Q.splice(0,J,N);I=Q.join("/")}}return I}function C(F,G){return function(){var H=q.call(arguments,0);if(typeof H[0]!=="string"&&H.length===1){H.push(null)}return i.apply(m,H.concat([F,G]))}}function z(F){return function(G){return y(G,F)}}function n(F){return function(G){l[F]=G}}function o(G){if(E(k,G)){var F=k[G];delete k[G];A[G]=true;p.apply(m,F)}if(!E(l,G)&&!E(A,G)){throw new Error("No "+G)}return l[G]}function B(G){var H,F=G?G.indexOf("!"):-1;if(F>-1){H=G.substring(0,F);G=G.substring(F+1,G.length)}return[H,G]}function s(F){return F?B(F):[]}w=function(F,I){var G,J=B(F),H=J[0],K=I[1];F=J[1];if(H){H=y(H,K);G=o(H)}if(H){if(G&&G.normalize){F=G.normalize(F,z(K))}else{F=y(F,K)}}else{F=y(F,K);J=B(F);H=J[0];F=J[1];if(H){G=o(H)}}return{f:H?H+"!"+F:F,n:F,pr:H,p:G}};function j(F){return function(){return(D&&D.config&&D.config[F])||{}}}x={require:function(F){return C(F)},exports:function(F){var G=l[F];if(typeof G!=="undefined"){return G}else{return(l[F]={})}},module:function(F){return{id:F,uri:"",exports:l[F],config:j(F)}}};p=function(G,R,Q,P){var K,O,L,F,I,J,M=[],H=typeof Q,N;P=P||G;J=s(P);if(H==="undefined"||H==="function"){R=!R.length&&Q.length?["require","exports","module"]:R;for(I=0;I<R.length;I+=1){F=w(R[I],J);O=F.f;if(O==="require"){M[I]=x.require(G)}else{if(O==="exports"){M[I]=x.exports(G);N=true}else{if(O==="module"){K=M[I]=x.module(G)}else{if(E(l,O)||E(k,O)||E(A,O)){M[I]=o(O)}else{if(F.p){F.p.load(F.n,C(P,true),n(O),{});M[I]=l[O]}else{throw new Error(G+" missing "+O)}}}}}}L=Q?Q.apply(l[G],M):undefined;if(G){if(K&&K.exports!==m&&K.exports!==l[G]){l[G]=K.exports}else{if(L!==m||!N){l[G]=L}}}}else{if(G){l[G]=Q}}};g=f=i=function(I,J,F,G,H){if(typeof I==="string"){if(x[I]){return x[I](J)}return o(w(I,s(J)).f)}else{if(!I.splice){D=I;if(D.deps){i(D.deps,D.callback)}if(!J){return}if(J.splice){I=J;J=F;F=null}else{I=m}}}J=J||function(){};if(typeof F==="function"){F=G;G=H}if(G){p(m,I,J,F)}else{setTimeout(function(){p(m,I,J,F)},4)}return i};i.config=function(F){return i(F)};g._defined=l;h=function(F,G,H){if(typeof F!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!G.splice){H=G;G=[]}if(!E(l,F)&&!E(k,F)){k[F]=[F,G,H]}};h.amd={jQuery:true}}());e.requirejs=g;e.require=f;e.define=h}}());e.define("almond",function(){});e.define("jquery",[],function(){var f=d||$;if(f==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.")}return f});e.define("select2/utils",["jquery"],function(i){var h={};h.Extend=function(o,l){var m={}.hasOwnProperty;function k(){this.constructor=o}for(var n in l){if(m.call(l,n)){o[n]=l[n]}}k.prototype=l.prototype;o.prototype=new k();o.__super__=l.prototype;return o};function g(p){var o=p.prototype;var n=[];for(var l in o){var k=o[l];if(typeof k!=="function"){continue}if(l==="constructor"){continue}n.push(l)}return n}h.Decorate=function(u,s){var q=g(s);var p=g(u);function x(){var y=Array.prototype.unshift;var z=s.prototype.constructor.length;var m=u.prototype.constructor;if(z>0){y.call(arguments,u.prototype.constructor);m=s.prototype.constructor}m.apply(this,arguments)}s.displayName=u.displayName;function k(){this.constructor=x}x.prototype=new k();for(var o=0;o<p.length;o++){var l=p[o];x.prototype[l]=u.prototype[l]}var w=function(m){var y=function(){};if(m in x.prototype){y=x.prototype[m]}var z=s.prototype[m];return function(){var A=Array.prototype.unshift;A.call(arguments,y);return z.apply(this,arguments)}};for(var v=0;v<q.length;v++){var n=q[v];x.prototype[n]=w(n)}return x};var f=function(){this.listeners={}};f.prototype.on=function(k,l){this.listeners=this.listeners||{};if(k in this.listeners){this.listeners[k].push(l)}else{this.listeners[k]=[l]}};f.prototype.trigger=function(k){var m=Array.prototype.slice;var l=m.call(arguments,1);this.listeners=this.listeners||{};if(l==null){l=[]}if(l.length===0){l.push({})}l[0]._type=k;if(k in this.listeners){this.invoke(this.listeners[k],m.call(arguments,1))}if("*" in this.listeners){this.invoke(this.listeners["*"],arguments)}};f.prototype.invoke=function(m,n){for(var l=0,k=m.length;l<k;l++){m[l].apply(this,n)}};h.Observable=f;h.generateChars=function(n){var m="";for(var l=0;l<n;l++){var k=Math.floor(Math.random()*36);m+=k.toString(36)}return m};h.bind=function(l,k){return function(){l.apply(k,arguments)}};h._convertData=function(q){for(var p in q){var o=p.split("-");var l=q;if(o.length===1){continue}for(var m=0;m<o.length;m++){var n=o[m];n=n.substring(0,1).toLowerCase()+n.substring(1);if(!(n in l)){l[n]={}}if(m==o.length-1){l[n]=q[p]}l=l[n]}delete q[p]}return q};h.hasScroll=function(m,o){var n=i(o);var l=o.style.overflowX;var k=o.style.overflowY;if(l===k&&(k==="hidden"||k==="visible")){return false}if(l==="scroll"||k==="scroll"){return true}return(n.innerHeight()<o.scrollHeight||n.innerWidth()<o.scrollWidth)};h.escapeMarkup=function(k){var l={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof k!=="string"){return k}return String(k).replace(/[&<>"'\/\\]/g,function(m){return l[m]})};h.appendMany=function(k,m){if(i.fn.jquery.substr(0,3)==="1.7"){var l=i();i.map(m,function(n){l=l.add(n)});m=l}k.append(m)};h.__cache={};var j=0;h.GetUniqueElementId=function(k){var l=k.getAttribute("data-select2-id");if(l==null){if(k.id){l=k.id;k.setAttribute("data-select2-id",l)}else{k.setAttribute("data-select2-id",++j);l=j.toString()}}return l};h.StoreData=function(l,k,m){var n=h.GetUniqueElementId(l);if(!h.__cache[n]){h.__cache[n]={}}h.__cache[n][k]=m};h.GetData=function(l,k){var m=h.GetUniqueElementId(l);if(k){if(h.__cache[m]){return h.__cache[m][k]!=null?h.__cache[m][k]:i(l).data(k)}return i(l).data(k)}else{return h.__cache[m]}};h.RemoveData=function(k){var l=h.GetUniqueElementId(k);if(h.__cache[l]!=null){delete h.__cache[l]}};return h});e.define("select2/results",["jquery","./utils"],function(h,g){function f(i,j,k){this.$element=i;this.data=k;this.options=j;f.__super__.constructor.call(this)}g.Extend(f,g.Observable);f.prototype.render=function(){var i=h('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){i.attr("aria-multiselectable","true")}if(this.options.get("selectListHeight")){i.css("max-height",this.options.get("selectListHeight"))}this.$results=i;return i};f.prototype.clear=function(){this.$results.empty()};f.prototype.displayMessage=function(l){var i=this.options.get("escapeMarkup");this.clear();this.hideLoading();var j=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>');var k=this.options.get("translations").get(l.message);j.append(i(k(l.args)));j[0].className+=" select2-results__message";this.$results.append(j)};f.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};f.prototype.append=function(k){this.hideLoading();var i=[];if(k.results==null||k.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}k.results=this.sort(k.results);for(var m=0;m<k.results.length;m++){var j=k.results[m];var l=this.option(j);i.push(l)}this.$results.append(i)};f.prototype.position=function(i,j){var k=j.find(".select2-results");k.append(i)};f.prototype.sort=function(i){var j=this.options.get("sorter");return j(i)};f.prototype.highlightFirstItem=function(){var i=this.$results.find(".select2-results__option[aria-selected]");var j=i.filter("[aria-selected=true]");if(j.length>0){j.first().trigger("mouseenter")}else{i.first().trigger("mouseenter")}this.ensureHighlightVisible()};f.prototype.setClasses=function(){var i=this;this.data.current(function(l){var k=h.map(l,function(m){return m.id.toString()});var j=i.$results.find(".select2-results__option[aria-selected]");j.each(function(){var n=h(this);var m=g.GetData(this,"data");var o=""+m.id;if((m.element!=null&&m.element.selected)||(m.element==null&&h.inArray(o,k)>-1)){if(k.length==1&&i.options.options.multiple==false&&i.options.options.tags==true){n.attr("aria-selected","false")}else{n.attr("aria-selected","true")}}else{n.attr("aria-selected","false")}})})};f.prototype.showLoading=function(k){if(this.options.options.ajax&&this.options.options.ajax.cache&&this.$element.data("cache")){return}this.hideLoading();var j=this.options.get("translations").get("searching");var l={disabled:true,loading:true,text:j(k)};var i=this.option(l);i.className+=" loading-results";this.$results.prepend(i)};f.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};f.prototype.option=function(m){var n=document.createElement("li");n.className="select2-results__option";var w={role:"treeitem","aria-selected":"false"};if(m.disabled){delete w["aria-selected"];w["aria-disabled"]="true"}if(m.id==null){delete w["aria-selected"]}if(m._resultId!=null){n.id=m._resultId}if(m.title){n.title=m.title}if(m.children){w.role="group";w["aria-label"]=m.text;delete w["aria-selected"]}for(var o in w){var l=w[o];n.setAttribute(o,l)}if(m.children){var i=h(n);var u=document.createElement("strong");u.className="select2-results__group";var s=h(u);this.template(m,u);var v=[];for(var q=0;q<m.children.length;q++){var k=m.children[q];var j=this.option(k);v.push(j)}var p=h("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(v);i.append(u);i.append(p)}else{this.template(m,n)}g.StoreData(n,"data",m);return n};f.prototype.bind=function(i,k){var j=this;var l=i.id+"-results";this.$results.attr("id",l);i.on("results:all",function(m){j.clear();j.append(m.data);if(i.isOpen()){j.setClasses();j.highlightFirstItem()}});i.on("results:append",function(m){j.append(m.data);if(i.isOpen()){j.setClasses()}});i.on("query",function(m){j.hideMessages();j.showLoading(m)});i.on("select",function(){if(!i.isOpen()){return}j.setClasses();j.highlightFirstItem()});i.on("unselect",function(){if(!i.isOpen()){return}j.setClasses();j.highlightFirstItem()});i.on("open",function(){j.$results.attr("aria-expanded","true");j.$results.attr("aria-hidden","false");j.setClasses();j.ensureHighlightVisible()});i.on("close",function(){j.$results.attr("aria-expanded","false");j.$results.attr("aria-hidden","true");j.$results.removeAttr("aria-activedescendant")});i.on("results:toggle",function(){var m=j.getHighlightedResults();if(m.length===0){return}m.trigger("mouseup")});i.on("results:select",function(){var m=j.getHighlightedResults();if(m.length===0){return}var n=g.GetData(m[0],"data");if(m.attr("aria-selected")=="true"){j.trigger("close",{})}else{j.trigger("select",{data:n})}});i.on("results:previous",function(){var o=j.getHighlightedResults();var n=j.$results.find("[aria-selected]");var q=n.index(o);if(q<=0){return}var m=q-1;if(o.length===0){m=0}var p=n.eq(m);p.trigger("mouseenter");var v=j.$results.offset().top;var u=p.offset().top;var s=j.$results.scrollTop()+(u-v);if(m===0){}else{if(u-v<0){}}});i.on("results:next",function(){var o=j.getHighlightedResults();var n=j.$results.find("[aria-selected]");var q=n.index(o);var m=q+1;if(m>=n.length){return}var p=n.eq(m);p.trigger("mouseenter");var v=j.$results.offset().top+j.$results.outerHeight(false);var u=p.offset().top+p.outerHeight(false);var s=j.$results.scrollTop()+u-v;if(m===0){}else{if(u>v){}}});i.on("results:focus",function(m){m.element.addClass("select2-results__option--highlighted")});i.on("results:message",function(m){j.displayMessage(m)});if(h.fn.mousewheel){this.$results.on("mousewheel",function(p){var o=j.$results.scrollTop();var m=j.$results.get(0).scrollHeight-o+p.deltaY;var q=p.deltaY>0&&o-p.deltaY<=0;var n=p.deltaY<0&&m<=j.$results.height();if(q){p.preventDefault();p.stopPropagation()}else{if(n){p.preventDefault();p.stopPropagation()}}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(m){var o=h(this);var n=g.GetData(this,"data");if(o.attr("aria-selected")==="true"){if(j.options.get("multiple")){j.trigger("unselect",{originalEvent:m,data:n})}else{j.trigger("close",{})}return}j.trigger("select",{originalEvent:m,data:n})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(m){var n=g.GetData(this,"data");j.getHighlightedResults().removeClass("select2-results__option--highlighted");j.trigger("results:focus",{data:n,element:h(this)})})};f.prototype.getHighlightedResults=function(){var i=this.$results.find(".select2-results__option--highlighted");return i};f.prototype.destroy=function(){this.$results.remove()};f.prototype.ensureHighlightVisible=function(){var j=this.getHighlightedResults();if(j.length===0){return}var i=this.$results.find("[aria-selected]");var k=i.index(j);var n=this.$results.offset().top;var m=j.offset().top;var l=this.$results.scrollTop()+(m-n);var o=m-n;l-=j.outerHeight(false)*2;if(k<=2){}else{if(o>this.$results.outerHeight()||o<0){}}};f.prototype.template=function(j,k){var l=this.options.get("templateResult");var i=this.options.get("escapeMarkup");var m=l(j,k);if(m==null){k.style.display="none"}else{if(typeof m==="string"){k.innerHTML=i(m)}else{h(k).append(m)}}};return f});e.define("select2/keys",[],function(){var f={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return f});e.define("select2/selection/base",["jquery","../utils","../keys"],function(i,h,f){function g(j,k){this.$element=j;this.options=k;g.__super__.constructor.call(this)}h.Extend(g,h.Observable);g.prototype.render=function(){var j=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');this._tabindex=0;if(h.GetData(this.$element[0],"old-tabindex")!=null){this._tabindex=h.GetData(this.$element[0],"old-tabindex")}else{if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}}j.attr("title",this.$element.attr("title"));j.attr("tabindex",this._tabindex);this.$selection=j;return j};g.prototype.bind=function(j,m){var l=this;var n=j.id+"-container";var k=j.id+"-results";this.container=j;this.$selection.on("focus",function(o){l.trigger("focus",o)});this.$selection.on("blur",function(o){l._handleBlur(o)});this.$selection.on("keydown",function(o){l.trigger("keypress",o);if(o.which===f.SPACE){o.preventDefault()}});j.on("results:focus",function(o){l.$selection.attr("aria-activedescendant",o.data._resultId)});j.on("selection:update",function(o){l.update(o.data)});j.on("open",function(){l.$selection.attr("aria-expanded","true");l.$selection.attr("aria-owns",k);l._attachCloseHandler(j)});j.on("close",function(){l.$selection.attr("aria-expanded","false");l.$selection.removeAttr("aria-activedescendant");l.$selection.removeAttr("aria-owns");l.$selection.focus();window.setTimeout(function(){l.$selection.focus()},0);l._detachCloseHandler(j)});j.on("enable",function(){l.$selection.attr("tabindex",l._tabindex)});j.on("disable",function(){l.$selection.attr("tabindex","-1")})};g.prototype._handleBlur=function(j){var k=this;window.setTimeout(function(){if((document.activeElement==k.$selection[0])||(i.contains(k.$selection[0],document.activeElement))){return}k.trigger("blur",j)},1)};g.prototype._attachCloseHandler=function(j){var k=this;i(document.body).on("mousedown.select2."+j.id,function(o){var l=i(o.target);var m=l.closest(".select2");var n=i(".select2.select2-container--open");n.each(function(){var q=i(this);if(this==m[0]){return}var p=h.GetData(this,"element");p.select2("close")})})};g.prototype._detachCloseHandler=function(j){i(document.body).off("mousedown.select2."+j.id)};g.prototype.position=function(j,l){var k=l.find(".selection");k.append(j)};g.prototype.destroy=function(){this._detachCloseHandler(this.container)};g.prototype.update=function(j){throw new Error("The `update` method must be defined in child classes.")};return g});e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(i,g,h,f){function j(){j.__super__.constructor.apply(this,arguments)}h.Extend(j,g);j.prototype.render=function(){var k=j.__super__.render.call(this);k.addClass("select2-selection--single");k.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');return k};j.prototype.bind=function(k,m){var l=this;j.__super__.bind.apply(this,arguments);var n=k.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",n);this.$selection.on("mousedown",function(o){if(o.which!==1){return}l.trigger("toggle",{originalEvent:o})});this.$selection.on("focus",function(o){});this.$selection.on("blur",function(o){});k.on("focus",function(o){if(!k.isOpen()){l.$selection.focus()}})};j.prototype.clear=function(){var k=this.$selection.find(".select2-selection__rendered");k.empty();k.removeAttr("title")};j.prototype.display=function(n,l){var m=this.options.get("templateSelection");var k=this.options.get("escapeMarkup");return k(m(n,l))};j.prototype.selectionContainer=function(){return i("<span></span>")};j.prototype.update=function(m){if(m.length===0){this.clear();return}var k=m[0];var n=this.$selection.find(".select2-selection__rendered");var l=this.display(k,n);n.empty().append(l)};return j});e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,f,h){function g(j,k){g.__super__.constructor.apply(this,arguments)}h.Extend(g,f);g.prototype.render=function(){var j=g.__super__.render.call(this);j.addClass("select2-selection--multiple");j.html('<ul class="select2-selection__rendered"></ul>');return j};g.prototype.bind=function(j,l){var k=this;g.__super__.bind.apply(this,arguments);this.$selection.on("click",function(m){k.trigger("toggle",{originalEvent:m})});this.$selection.on("click",".select2-selection__choice__remove",function(n){if(k.options.get("disabled")){return}var o=i(this);var m=o.parent();var p=h.GetData(m[0],"data");k.trigger("unselect",{originalEvent:n,data:p})})};g.prototype.clear=function(){var j=this.$selection.find(".select2-selection__rendered");j.empty();j.removeAttr("title")};g.prototype.display=function(m,k){var l=this.options.get("templateSelection");var j=this.options.get("escapeMarkup");return j(l(m,k))};g.prototype.selectionContainer=function(){var j=i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return j};g.prototype.update=function(n){this.clear();if(n.length===0){return}var k=[];for(var p=0;p<n.length;p++){var l=n[p];var j=this.selectionContainer();var m=this.display(l,j);j.append(m);j.attr("title",l.title||l.text);h.StoreData(j[0],"data",l);k.push(j)}var o=this.$selection.find(".select2-selection__rendered");h.appendMany(o,k)};return g});e.define("select2/selection/placeholder",["../utils"],function(g){function f(j,h,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));j.call(this,h,i)}f.prototype.normalizePlaceholder=function(h,i){if(typeof i==="string"){i={id:"",text:i}}return i};f.prototype.createPlaceholder=function(i,j){var h=this.selectionContainer();h.html(this.display(j));h.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return h};f.prototype.update=function(l,k){var i=(k.length==1&&k[0].id!=this.placeholder.id);var j=k.length>1;if(j||i){return l.call(this,k)}this.clear();var h=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(h)};return f});e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(h,f,g){function i(){}i.prototype.bind=function(l,j,m){var k=this;l.call(this,j,m);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(n){k._handleClear(n)});j.on("keypress",function(n){k._handleKeyboardClear(n,j)})};i.prototype._handleClear=function(l,k){if(this.options.get("disabled")){return}var o=this.$selection.find(".select2-selection__clear");if(o.length===0){return}k.stopPropagation();var n=g.GetData(o[0],"data");var j=this.$element.val();this.$element.val(this.placeholder.id);var m={data:n};this.trigger("clear",m);if(m.prevented){this.$element.val(j);return}for(var p=0;p<n.length;p++){m={data:n[p]};this.trigger("unselect",m);if(m.prevented){this.$element.val(j);return}}this.$element.trigger("change");this.trigger("toggle",{})};i.prototype._handleKeyboardClear=function(l,k,j){if(j.isOpen()){return}if(k.which==f.DELETE||k.which==f.BACKSPACE){this._handleClear(k)}};i.prototype.update=function(l,k){l.call(this,k);if(this.$selection.find(".select2-selection__placeholder").length>0||k.length===0){return}var j=h('<span class="select2-selection__clear">&times;</span>');g.StoreData(j[0],"data",k);this.$selection.find(".select2-selection__rendered").prepend(j)};return i});e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,h,f){function g(l,j,k){l.call(this,j,k)}g.prototype.render=function(k){var j=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=j;this.$search=j.find("input");var l=k.call(this);this._transferTabIndex();return l};g.prototype.bind=function(n,k,o){var l=this;n.call(this,k,o);k.on("open",function(){l.$search.trigger("focus")});k.on("close",function(){l.$search.val("");l.$search.removeAttr("aria-activedescendant");l.$search.trigger("focus")});k.on("enable",function(){l.$search.prop("disabled",false);l._transferTabIndex()});k.on("disable",function(){l.$search.prop("disabled",true)});k.on("focus",function(p){l.$search.trigger("focus")});k.on("results:focus",function(p){l.$search.attr("aria-activedescendant",p.id)});this.$selection.on("focusin",".select2-search--inline",function(p){l.trigger("focus",p)});this.$selection.on("focusout",".select2-search--inline",function(p){l._handleBlur(p)});this.$selection.on("keydown",".select2-search--inline",function(p){p.stopPropagation();l.trigger("keypress",p);l._keyUpPrevented=p.isDefaultPrevented();var s=p.which;if(s===f.BACKSPACE&&l.$search.val()===""){var q=l.$searchContainer.prev(".select2-selection__choice");if(q.length>0){var u=h.GetData(q[0],"data");l.searchRemoveChoice(u);p.preventDefault()}}});var m=document.documentMode;var j=m&&m<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(p){if(j){l.$selection.off("input.search input.searchcheck");return}l.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(p){if(j&&p.type==="input"){l.$selection.off("input.search input.searchcheck");return}var q=p.which;if(q==f.SHIFT||q==f.CTRL||q==f.ALT){return}if(q==f.TAB){return}l.handleSearch(p)})};g.prototype._transferTabIndex=function(j){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};g.prototype.createPlaceholder=function(j,k){this.$search.attr("placeholder",k.text)};g.prototype.update=function(m,l){var k=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");m.call(this,l);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(k){var j=this.$element.find("[data-select2-tag]").length;if(j){this.$element.focus()}else{this.$search.focus()}}};g.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var j=this.$search.val();this.trigger("query",{term:j})}this._keyUpPrevented=false};g.prototype.searchRemoveChoice=function(k,j){this.trigger("unselect",{data:j});this.$search.val(j.text);this.handleSearch()};g.prototype.resizeSearch=function(){this.$search.css("width","25px");var j="";if(this.$search.attr("placeholder")!==""){j=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var k=this.$search.val().length+1;j=(k*0.75)+"em"}this.$search.css("width",j)};return g});e.define("select2/selection/eventRelay",["jquery"],function(f){function g(){}g.prototype.bind=function(l,h,m){var i=this;var j=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"];var k=["opening","closing","selecting","unselecting","clearing"];l.call(this,h,m);h.on("*",function(o,p){if(f.inArray(o,j)===-1){return}p=p||{};var n=f.Event("select2:"+o,{params:p});i.$element.trigger(n);if(f.inArray(o,k)===-1){return}p.prevented=n.isDefaultPrevented()})};return g});e.define("select2/translation",["jquery","require"],function(h,g){function f(i){this.dict=i||{}}f.prototype.all=function(){return this.dict};f.prototype.get=function(i){return this.dict[i]};f.prototype.extend=function(i){this.dict=h.extend({},i.all(),this.dict)};f._cache={};f.loadPath=function(j){if(!(j in f._cache)){var i=g(j);f._cache[j]=i}return new f(f._cache[j])};return f});e.define("select2/diacritics",[],function(){var f={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};return f});e.define("select2/data/base",["../utils"],function(g){function f(h,i){f.__super__.constructor.call(this)}g.Extend(f,g.Observable);f.prototype.current=function(h){throw new Error("The `current` method must be defined in child classes.")};f.prototype.query=function(h,i){throw new Error("The `query` method must be defined in child classes.")};f.prototype.bind=function(h,i){};f.prototype.destroy=function(){};f.prototype.generateResultId=function(h,i){var j=h.id+"-result-";j+=g.generateChars(4);if(i.id!=null){j+="-"+i.id.toString()}else{j+="-"+g.generateChars(4)}return j};return f});e.define("select2/data/select",["./base","../utils","jquery"],function(f,i,h){function g(j,k){this.$element=j;this.options=k;g.__super__.constructor.call(this)}i.Extend(g,f);g.prototype.current=function(l){var k=[];var j=this;this.$element.find(":selected").each(function(){var n=h(this);var m=j.item(n);k.push(m)});l(k)};g.prototype.select=function(k){var j=this;k.selected=true;try{j.$element.parent().find(".select2-search__field").val("")}catch(l){}if(h(k.element).is("option")){k.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(n){var p=[];k=[k];k.push.apply(k,n);for(var o=0;o<k.length;o++){var q=k[o].id;if(h.inArray(q,p)===-1){p.push(q)}}j.$element.val(p);j.$element.trigger("change")})}else{var m=k.id;this.$element.val(m);this.$element.trigger("change")}};g.prototype.unselect=function(k){var j=this;if(!this.$element.prop("multiple")){return}k.selected=false;if(h(k.element).is("option")){k.element.selected=false;this.$element.trigger("change");return}this.current(function(l){var n=[];for(var m=0;m<l.length;m++){var o=l[m].id;if(o!==k.id&&h.inArray(o,n)===-1){n.push(o)}}j.$element.val(n);j.$element.trigger("change")})};g.prototype.bind=function(j,l){var k=this;this.container=j;j.on("select",function(m){k.select(m.data)});j.on("unselect",function(m){k.unselect(m.data);if(m.originalEvent){m.originalEvent.stopPropagation()}})};g.prototype.destroy=function(){this.$element.find("*").each(function(){i.RemoveData(this)})};g.prototype.query=function(m,n){var l=[];var k=this;var j=this.$element.children();j.each(function(){var q=h(this);if(!q.is("option")&&!q.is("optgroup")){return}var o=k.item(q);var p=k.matches(m,o);if(p!==null){l.push(p)}});n({results:l})};g.prototype.addOptions=function(j){i.appendMany(this.$element,j)};g.prototype.option=function(k){var j;if(k.children){j=document.createElement("optgroup");j.label=k.text}else{j=document.createElement("option");if(j.textContent!==undefined){j.textContent=k.text}else{j.innerText=k.text}}if(k.id!==undefined){j.value=k.id}if(k.disabled){j.disabled=true}if(k.selected){j.selected=true}if(k.title){j.title=k.title}var l=h(j);var m=this._normalizeItem(k);m.element=j;i.StoreData(j,"data",m);return l};g.prototype.item=function(n){var m={};m=i.GetData(n[0],"data");if(m!=null){return m}if(n.is("option")){m={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")}}else{if(n.is("optgroup")){m={text:n.prop("label"),children:[],title:n.prop("title")};var j=n.children("option");var k=[];for(var p=0;p<j.length;p++){var l=h(j[p]);var o=this.item(l);k.push(o)}m.children=k}}m=this._normalizeItem(m);m.element=n[0];i.StoreData(n[0],"data",m);return m};g.prototype._normalizeItem=function(j){if(j!==Object(j)){j={id:j,text:j}}j=h.extend({},{text:""},j);var k={selected:false,disabled:false};if(j.id!=null){j.id=j.id.toString()}if(j.text!=null){j.text=j.text.toString()}if(j._resultId==null&&j.id&&this.container!=null){j._resultId=this.generateResultId(this.container,j)}return h.extend({},k,j)};g.prototype.matches=function(l,j){var k=this.options.get("matcher");return k(l,j)};return g});e.define("select2/data/array",["./select","../utils","jquery"],function(f,h,g){function i(j,k){var l=k.get("data")||[];i.__super__.constructor.call(this,j,k);this.addOptions(this.convertToOptions(l))}h.Extend(i,f);i.prototype.select=function(j){var k=this.$element.find("option").filter(function(l,m){return m.value==j.id.toString()});if(k.length===0){k=this.option(j);this.addOptions(k)}i.__super__.select.call(this,j)};i.prototype.convertToOptions=function(l){var x=this;var o=this.$element.find("option");var k=o.map(function(){return x.item(g(this)).id}).get();var n=[];function u(z){return function(){return g(this).val()==z.id}}for(var s=0;s<l.length;s++){var w=this._normalizeItem(l[s]);if(g.inArray(w.id,k)>=0){var p=o.filter(u(w));var q=this.item(p);var y=g.extend(true,{},w,q);var m=this.option(y);p.replaceWith(m);continue}var j=this.option(w);if(w.children){var v=this.convertToOptions(w.children);h.appendMany(j,v)}n.push(j)}return n};return i});e.define("select2/data/ajax",["./array","../utils","jquery"],function(i,h,g){function f(j,k){this.ajaxOptions=this._applyDefaults(k.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}f.__super__.constructor.call(this,j,k)}h.Extend(f,i);f.prototype._applyDefaults=function(j){var k={data:function(l){return g.extend({},l,{q:l.term})},transport:function(o,n,m){var l=g.ajax(o);l.then(n);l.fail(m);return l}};return g.extend({},k,j,true)};f.prototype.processResults=function(j){return j};f.prototype.query=function(o,p){var n=[];var j=this;if(this._request!=null){if(g.isFunction(this._request.abort)){this._request.abort()}this._request=null}var k=g.extend({type:"GET"},this.ajaxOptions);if(typeof k.url==="function"){k.url=k.url.call(this.$element,o)}if(typeof k.data==="function"){k.data=k.data.call(this.$element,o)}function m(){var q=k.transport(k,function(u){var s=j.processResults(u,o);if(j.options.get("debug")&&window.console&&console.error){if(!s||!s.results||!g.isArray(s.results)){console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")}}p(s)},function(){if("status" in q&&(q.status===0||q.status==="0")){return}j.trigger("results:message",{message:"errorLoading"})});j._request=q}if(this.ajaxOptions.cache){if(this.$element.data("cache")){var l=function(v,w){var u=[];var s=this;var q=this.$element.children();q.each(function(){var z=g(this);if(!z.is("option")&&!z.is("optgroup")){return}var x=s.item(z);var y=s.matches(v,x);if(y!==null){u.push(y)}});w({results:u})};l.call(this,o,p);return}this.$element.data("cache",true)}if(this.ajaxOptions.delay&&o.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(m,this.ajaxOptions.delay)}else{m()}};return f});e.define("select2/data/tags",["jquery"],function(g){function f(i,l,o){var p=o.get("tags");var j=o.get("createTag");if(j!==undefined){this.createTag=j}var k=o.get("insertTag");if(k!==undefined){this.insertTag=k}i.call(this,l,o);if(g.isArray(p)){for(var n=0;n<p.length;n++){var q=p[n];var m=this._normalizeItem(q);var h=this.option(m);this.$element.append(h)}}}f.prototype.query=function(i,j,l){var h=this;this._removeOldTags();if(j.term==null||j.page!=null){i.call(this,j,l);return}function k(s,n){var u=s.results;for(var v=0;v<u.length;v++){var w=u[v];var p=(w.children!=null&&!k({results:w.children},true));var x=(w.text||"").toUpperCase();var o=(j.term||"").toUpperCase();var q=x===o;if(q||p){if(n){return false}s.data=u;l(s);return}}if(n){return true}var y=h.createTag(j);if(y!=null){var m=h.option(y);m.attr("data-select2-tag",true);h.addOptions([m]);h.insertTag(u,y)}s.results=u;l(s)}i.call(this,j,k)};f.prototype.createTag=function(i,j){var h=g.trim(j.term);if(h===""){return null}return{id:h,text:h}};f.prototype.insertTag=function(i,j,h){j.unshift(h)};f.prototype._removeOldTags=function(j){var i=this._lastTag;var h=this.$element.find("option[data-select2-tag]");h.each(function(){if(this.selected){return}g(this).remove()})};return f});e.define("select2/data/tokenizer",["jquery"],function(g){function f(k,h,i){var j=i.get("tokenizer");if(j!==undefined){this.tokenizer=j}k.call(this,h,i)}f.prototype.bind=function(i,h,j){i.call(this,h,j);this.$search=h.dropdown.$search||h.selection.$search||j.find(".select2-search__field")};f.prototype.query=function(k,l,n){var j=this;function i(p){var o=j._normalizeItem(p);var s=j.$element.find("option").filter(function(){return g(this).val()===o.id});if(!s.length){var q=j.option(o);q.attr("data-select2-tag",true);j._removeOldTags();j.addOptions([q])}h(o)}function h(o){j.trigger("select",{data:o})}l.term=l.term||"";var m=this.tokenizer(l,this.options,i);if(m.term!==l.term){if(this.$search.length){this.$search.val(m.term);this.$search.focus()}l.term=m.term}k.call(this,l,n)};f.prototype.tokenizer=function(p,k,v,u){var l=v.get("tokenSeparators")||[];var j=k.term;var n=0;var o=this.createTag||function(i){return{id:i.term,text:i.term}};while(n<j.length){var s=j[n];if(g.inArray(s,l)===-1){n++;continue}var h=j.substr(0,n);var q=g.extend({},k,{term:h});var m=o(q);if(m==null){n++;continue}u(m);j=j.substr(n+1)||"";n=0}return{term:j}};return f});e.define("select2/data/minimumInputLength",[],function(){function f(i,h,g){this.minimumInputLength=g.get("minimumInputLength");i.call(this,h,g)}f.prototype.query=function(g,h,i){h.term=h.term||"";if(h.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:h.term,params:h}});return}g.call(this,h,i)};return f});e.define("select2/data/maximumInputLength",[],function(){function f(i,h,g){this.maximumInputLength=g.get("maximumInputLength");i.call(this,h,g)}f.prototype.query=function(g,h,i){h.term=h.term||"";if(this.maximumInputLength>0&&h.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:h.term,params:h}});return}g.call(this,h,i)};return f});e.define("select2/data/maximumSelectionLength",[],function(){function f(i,h,g){this.maximumSelectionLength=g.get("maximumSelectionLength");i.call(this,h,g)}f.prototype.query=function(h,i,j){var g=this;this.current(function(k){var l=k!=null?k.length:0;if(g.maximumSelectionLength>0&&l>=g.maximumSelectionLength){g.trigger("results:message",{message:"maximumSelected",args:{maximum:g.maximumSelectionLength}});return}h.call(g,i,j)})};return f});e.define("select2/dropdown",["jquery","./utils"],function(h,g){function f(i,j){this.$element=i;this.options=j;f.__super__.constructor.call(this)}g.Extend(f,g.Observable);f.prototype.render=function(){var i=h('<span class="select2-dropdown"><span class="select2-results"></span></span>');i.attr("dir",this.options.get("dir"));this.$dropdown=i;return i};f.prototype.bind=function(){};f.prototype.position=function(i,j){};f.prototype.destroy=function(){this.$dropdown.remove()};return f});e.define("select2/dropdown/search",["jquery","../utils"],function(h,g){function f(){}f.prototype.render=function(j){var k=j.call(this);var i=h('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');this.$searchContainer=i;this.$search=i.find("input");k.prepend(i);i.on("click",function(l){l.stopPropagation()});return k};f.prototype.bind=function(k,i,l){var j=this;k.call(this,i,l);this.$search.on("keydown",function(m){j.trigger("keypress",m);j._keyUpPrevented=m.isDefaultPrevented()});this.$search.on("input",function(m){h(this).off("keyup")});this.$search.on("keyup input",function(m){j.handleSearch(m)});i.on("open",function(){j.$search.attr("tabindex",0);j.$search.focus();window.setTimeout(function(){j.$search.focus()},0)});i.on("close",function(){j.$search.attr("tabindex",-1);j.$search.val("");j.$search.blur()});i.on("focus",function(){if(!i.isOpen()){j.$search.focus()}});i.on("results:all",function(n){if(n.query.term==null||n.query.term===""){var m=j.showSearch(n);if(m){j.$searchContainer.removeClass("select2-search--hide")}else{j.$searchContainer.addClass("select2-search--hide")}}})};f.prototype.handleSearch=function(i){if(!this._keyUpPrevented){var j=this.$search.val();this.trigger("query",{term:j})}this._keyUpPrevented=false};f.prototype.showSearch=function(i,j){return true};return f});e.define("select2/dropdown/hidePlaceholder",[],function(){function f(i,g,h,j){this.placeholder=this.normalizePlaceholder(h.get("placeholder"));i.call(this,g,h,j)}f.prototype.append=function(h,g){g.results=this.removePlaceholder(g.results);h.call(this,g)};f.prototype.normalizePlaceholder=function(g,h){if(typeof h==="string"){h={id:"",text:h}}return h};f.prototype.removePlaceholder=function(g,j){var i=j.slice(0);for(var k=j.length-1;k>=0;k--){var h=j[k];if(this.placeholder.id===h.id){i.splice(k,1)}}return i};return f});e.define("select2/dropdown/infiniteScroll",["jquery"],function(g){function f(j,h,i,k){this.lastParams={};j.call(this,h,i,k);this.$loadingMore=this.createLoadingMore();this.loading=false}f.prototype.append=function(i,h){this.$loadingMore.remove();this.loading=false;i.call(this,h);if(this.showLoadingMore(h)){this.$results.append(this.$loadingMore)}};f.prototype.bind=function(j,h,k){var i=this;j.call(this,h,k);h.on("query",function(l){i.lastParams=l;i.loading=true});h.on("query:append",function(l){i.lastParams=l;i.loading=true});this.$results.on("scroll",function(){var n=g.contains(document.documentElement,i.$loadingMore[0]);if(i.loading||!n){return}var m=i.$results.offset().top+i.$results.outerHeight(false);var l=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(false);if(m+50>=l){i.loadMore()}})};f.prototype.loadMore=function(){this.loading=true;var h=g.extend({},{page:1},this.lastParams);h.page++;this.trigger("query:append",h)};f.prototype.showLoadingMore=function(h,i){return i.pagination&&i.pagination.more};f.prototype.createLoadingMore=function(){var i=g('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>');var h=this.options.get("translations").get("loadingMore");i.html(h(this.lastParams));return i};return f});e.define("select2/dropdown/attachBody",["jquery","../utils"],function(h,g){function f(k,i,j){this.$dropdownParent=j.get("dropdownParent")||h(document.body);k.call(this,i,j)}f.prototype.bind=function(l,i,m){var k=this;var j=false;l.call(this,i,m);i.on("open",function(){k._showDropdown();k._attachPositioningHandler(i);if(!j){j=true;i.on("results:all",function(){k._positionDropdown();k._resizeDropdown()});i.on("results:append",function(){k._positionDropdown();k._resizeDropdown()})}});i.on("close",function(){k._hideDropdown();k._detachPositioningHandler(i)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})};f.prototype.destroy=function(i){i.call(this);this.$dropdownContainer.remove()};f.prototype.position=function(i,j,k){j.attr("class",k.attr("class"));j.removeClass("select2");j.addClass("select2-container--open");j.css({position:"absolute",top:-999999});this.$container=k};f.prototype.render=function(i){var k=h("<span></span>");var j=i.call(this);k.append(j);this.$dropdownContainer=k;return k};f.prototype._hideDropdown=function(i){this.$dropdownContainer.detach()};f.prototype._attachPositioningHandler=function(o,i){var j=this;var l="scroll.select2."+i.id;var n="resize.select2."+i.id;var m="orientationchange.select2."+i.id;var k=this.$container.parents().filter(g.hasScroll);k.each(function(){g.StoreData(this,"select2-scroll-position",{x:h(this).scrollLeft(),y:h(this).scrollTop()})});k.on(l,function(q){var p=g.GetData(this,"select2-scroll-position");h(this).scrollTop(p.y)});h(window).on(l+" "+n+" "+m,function(p){j._positionDropdown();j._resizeDropdown()})};f.prototype._detachPositioningHandler=function(n,i){var k="scroll.select2."+i.id;var m="resize.select2."+i.id;var l="orientationchange.select2."+i.id;var j=this.$container.parents().filter(g.hasScroll);j.off(k);h(window).off(k+" "+m+" "+l)};f.prototype._positionDropdown=function(){var l=h(window);var w=this.$dropdown.hasClass("select2-dropdown--above");var k=this.$dropdown.hasClass("select2-dropdown--below");var s=null;var m=this.$container.offset();m.bottom=m.top+this.$container.outerHeight(false);var j={height:this.$container.outerHeight(false)};j.top=m.top;j.bottom=m.top+j.height;var v={height:this.$dropdown.outerHeight(false)};var p={top:l.scrollTop(),bottom:l.scrollTop()+l.height()};var o=p.top<(m.top-v.height);var q=p.bottom>(m.bottom+v.height);var n={left:m.left,top:j.bottom};var u=this.$dropdownParent;if(u.css("position")==="static"){u=u.offsetParent()}var i=u.offset();n.top-=i.top;n.left-=i.left;if(!w&&!k){s="below"}if(!q&&o&&!w){s="above"}else{if(!o&&q&&w){s="below"}}if(s=="above"||(w&&s!=="below")){n.top=j.top-i.top-v.height}if(s!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+s);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+s)}this.$dropdownContainer.css(n)};f.prototype._resizeDropdown=function(){var i={width:this.$container.outerWidth(false)+4+"px"};if(this.options.get("dropdownAutoWidth")){i.minWidth=i.width;i.position="relative";i.width="auto"}this.$dropdown.css(i)};f.prototype._showDropdown=function(i){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return f});e.define("select2/dropdown/minimumResultsForSearch",[],function(){function g(j){var i=0;for(var k=0;k<j.length;k++){var h=j[k];if(h.children){i+=g(h.children)}else{i++}}return i}function f(j,h,i,k){this.minimumResultsForSearch=i.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}j.call(this,h,i,k)}f.prototype.showSearch=function(h,i){if(g(i.data.results)<this.minimumResultsForSearch){return false}return h.call(this,i)};return f});e.define("select2/dropdown/selectOnClose",["../utils"],function(g){function f(){}f.prototype.bind=function(j,h,k){var i=this;j.call(this,h,k);h.on("close",function(l){i._handleSelectOnClose(l)})};f.prototype._handleSelectOnClose=function(i,l){if(l&&l.originalSelect2Event!=null){var j=l.originalSelect2Event;if(j._type==="select"||j._type==="unselect"){return}}var h=this.getHighlightedResults();if(h.length<1){return}var k=g.GetData(h[0],"data");if((k.element!=null&&k.element.selected)||(k.element==null&&k.selected)){return}this.trigger("select",{data:k})};return f});e.define("select2/dropdown/closeOnSelect",[],function(){function f(){}f.prototype.bind=function(i,g,j){var h=this;i.call(this,g,j);g.on("select",function(k){h._selectTriggered(k)});g.on("unselect",function(k){h._selectTriggered(k)})};f.prototype._selectTriggered=function(i,h){var g=h.originalEvent;if(g&&g.ctrlKey){return}this.trigger("close",{originalEvent:g,originalSelect2Event:h})};return f});e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(f){var h=f.input.length-f.maximum;var g="Please delete "+h+" character";if(h!=1){g+="s"}return g},inputTooShort:function(f){var h=f.minimum-f.input.length;var g="Please enter "+h+" or more characters";return g},loadingMore:function(){return"Loading more results…"},maximumSelected:function(f){var g="You can only select "+f.maximum+" item";if(f.maximum!=1){g+="s"}return g},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}});e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(h,l,H,p,w,J,k,F,I,f,x,L,E,v,g,A,i,G,K,z,D,n,s,C,u,y,m,j,B){function q(){this.reset()}q.prototype.apply=function(ac){ac=h.extend(true,{},this.defaults,ac);if(ac.dataAdapter==null){if(ac.ajax!=null){ac.dataAdapter=g}else{if(ac.data!=null){ac.dataAdapter=v}else{ac.dataAdapter=E}}if(ac.minimumInputLength>0){ac.dataAdapter=f.Decorate(ac.dataAdapter,G)}if(ac.maximumInputLength>0){ac.dataAdapter=f.Decorate(ac.dataAdapter,K)}if(ac.maximumSelectionLength>0){ac.dataAdapter=f.Decorate(ac.dataAdapter,z)}if(ac.tags){ac.dataAdapter=f.Decorate(ac.dataAdapter,A)}if(ac.tokenSeparators!=null||ac.tokenizer!=null){ac.dataAdapter=f.Decorate(ac.dataAdapter,i)}if(ac.query!=null){var U=l(ac.amdBase+"compat/query");ac.dataAdapter=f.Decorate(ac.dataAdapter,U)}if(ac.initSelection!=null){var ab=l(ac.amdBase+"compat/initSelection");ac.dataAdapter=f.Decorate(ac.dataAdapter,ab)}}if(ac.resultsAdapter==null){ac.resultsAdapter=H;if(ac.ajax!=null){ac.resultsAdapter=f.Decorate(ac.resultsAdapter,C)}if(ac.placeholder!=null){ac.resultsAdapter=f.Decorate(ac.resultsAdapter,s)}if(ac.selectOnClose){ac.resultsAdapter=f.Decorate(ac.resultsAdapter,m)}}if(ac.dropdownAdapter==null){if(ac.multiple){ac.dropdownAdapter=D}else{var O=f.Decorate(D,n);ac.dropdownAdapter=O}if(ac.minimumResultsForSearch!==0){ac.dropdownAdapter=f.Decorate(ac.dropdownAdapter,y)}if(ac.closeOnSelect){ac.dropdownAdapter=f.Decorate(ac.dropdownAdapter,j)}if(ac.dropdownCssClass!=null||ac.dropdownCss!=null||ac.adaptDropdownCssClass!=null){var N=l(ac.amdBase+"compat/dropdownCss");ac.dropdownAdapter=f.Decorate(ac.dropdownAdapter,N)}ac.dropdownAdapter=f.Decorate(ac.dropdownAdapter,u)}if(ac.selectionAdapter==null){if(ac.multiple){ac.selectionAdapter=w}else{ac.selectionAdapter=p}if(ac.placeholder!=null){ac.selectionAdapter=f.Decorate(ac.selectionAdapter,J)}if(ac.allowClear){ac.selectionAdapter=f.Decorate(ac.selectionAdapter,k)}if(ac.multiple){ac.selectionAdapter=f.Decorate(ac.selectionAdapter,F)}if(ac.containerCssClass!=null||ac.containerCss!=null||ac.adaptContainerCssClass!=null){var W=l(ac.amdBase+"compat/containerCss");ac.selectionAdapter=f.Decorate(ac.selectionAdapter,W)}ac.selectionAdapter=f.Decorate(ac.selectionAdapter,I)}if(typeof ac.language==="string"){if(ac.language.indexOf("-")>0){var R=ac.language.split("-");var T=R[0];ac.language=[ac.language,T]}else{ac.language=[ac.language]}}if(h.isArray(ac.language)){var Q=new x();ac.language.push("en");var Z=ac.language;for(var P=0;P<Z.length;P++){var M=Z[P];var S={};try{S=x.loadPath(M)}catch(V){try{M=this.defaults.amdLanguageBase+M;S=x.loadPath(M)}catch(Y){if(ac.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.')}continue}}Q.extend(S)}ac.translations=Q}else{var X=x.loadPath(this.defaults.amdLanguageBase+"en");var aa=new x(ac.language);aa.extend(X);ac.translations=aa}return ac};q.prototype.reset=function(){function N(P){function O(Q){return L[Q]||Q}return P.replace(/[^\u0000-\u007E]/g,O)}function M(T,S){if(h.trim(T.term)===""){return S}if(S.children&&S.children.length>0){var O=h.extend(true,{},S);for(var V=S.children.length-1;V>=0;V--){var U=S.children[V];var R=M(T,U);if(R==null){O.children.splice(V,1)}}if(O.children.length>0){return O}return M(T,O)}var Q=N(S.text).toUpperCase();var P=N(T.term).toUpperCase();if(Q.indexOf(P)>-1){return S}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:f.escapeMarkup,language:B,matcher:M,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(O){return O},templateResult:function(O){return O.text},templateSelection:function(O){return O.text},theme:"default",width:"resolve"}};q.prototype.set=function(N,P){var M=h.camelCase(N);var O={};O[M]=P;var Q=f._convertData(O);h.extend(true,this.defaults,Q)};var o=new q();return o});e.define("select2/options",["require","jquery","./defaults","./utils"],function(g,i,j,h){function f(m,k){this.options=m;if(k!=null){this.fromElement(k)}this.options=j.apply(this.options);if(k&&k.is("input")){var l=g(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=h.Decorate(this.options.dataAdapter,l)}}f.prototype.fromElement=function(k){var m=["select2"];if(this.options.multiple==null){this.options.multiple=k.prop("multiple")}if(this.options.disabled==null){this.options.disabled=k.prop("disabled")}if(this.options.language==null){if(k.prop("lang")){this.options.language=k.prop("lang").toLowerCase()}else{if(k.closest("[lang]").prop("lang")){this.options.language=k.closest("[lang]").prop("lang")}}}if(this.options.dir==null){if(k.prop("dir")){this.options.dir=k.prop("dir")}else{if(k.closest("[dir]").prop("dir")){this.options.dir=k.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}}k.prop("disabled",this.options.disabled);k.prop("multiple",this.options.multiple);if(h.GetData(k[0],"select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.')}h.StoreData(k[0],"data",h.GetData(k[0],"select2Tags"));h.StoreData(k[0],"tags",true)}if(h.GetData(k[0],"ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.")}k.attr("ajax--url",h.GetData(k[0],"ajaxUrl"));h.StoreData(k[0],"ajax-Url",h.GetData(k[0],"ajaxUrl"))}var o={};if(i.fn.jquery&&i.fn.jquery.substr(0,2)=="1."&&k[0].dataset){o=i.extend(true,{},k[0].dataset,h.GetData(k[0]))}else{o=h.GetData(k[0])}var n=i.extend(true,{},o);n=h._convertData(n);for(var l in n){if(i.inArray(l,m)>-1){continue}if(i.isPlainObject(this.options[l])){i.extend(this.options[l],n[l])}else{this.options[l]=n[l]}}return this};f.prototype.get=function(k){return this.options[k]};f.prototype.set=function(k,l){this.options[k]=l};return f});e.define("select2/core",["jquery","./options","./utils","./keys"],function(j,h,i,f){var g=function(p,u){if(i.GetData(p[0],"select2")!=null){i.GetData(p[0],"select2").destroy()}this.$element=p;this.id=this._generateId(p);u=u||{};this.options=new h(u,p);g.__super__.constructor.call(this);var n=p.attr("tabindex")||0;i.StoreData(p[0],"old-tabindex",n);p.attr("tabindex","-1");var m=this.options.get("dataAdapter");this.dataAdapter=new m(p,this.options);var s=this.render();this._placeContainer(s);var o=this.options.get("selectionAdapter");this.selection=new o(p,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,s);var k=this.options.get("dropdownAdapter");this.dropdown=new k(p,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,s);var l=this.options.get("resultsAdapter");this.results=new l(p,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var q=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(v){q.trigger("selection:update",{data:v})});p.addClass("select2-hidden-accessible");p.attr("aria-hidden","true");this._syncAttributes();i.StoreData(p[0],"select2",this);p.data("select2",this)};i.Extend(g,i.Observable);g.prototype._generateId=function(k){var l="";if(k.attr("id")!=null){l=k.attr("id")}else{if(k.attr("name")!=null){l=k.attr("name")+"-"+i.generateChars(2)}else{l=i.generateChars(4)}}l=l.replace(/(:|\.|\[|\]|,)/g,"");l="select2-"+l;return l};g.prototype._placeContainer=function(l){l.insertAfter(this.$element);var k=this._resolveWidth(this.$element,this.options.get("width"));if(k!=null){l.css("width",k)}};g.prototype._resolveWidth=function(x,k){var v=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(k=="resolve"){var o=this._resolveWidth(x,"style");if(o!=null){return o}return this._resolveWidth(x,"element")}if(k=="element"){var u=x.outerWidth(false);if(u<=0){return"auto"}return u+"px"}if(k=="style"){var m=x.attr("style");if(typeof(m)!=="string"){return null}var w=m.split(";");for(var p=0,n=w.length;p<n;p=p+1){var s=w[p].replace(/\s/g,"");var q=s.match(v);if(q!==null&&q.length>=1){return q[1]}}return null}return k};g.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};g.prototype._registerDomEvents=function(){var l=this;this.$element.on("change.select2",function(){l.dataAdapter.current(function(m){l.trigger("selection:update",{data:m})})});this.$element.on("focus.select2",function(m){l.trigger("focus",m)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var k=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(k!=null){this._observer=new k(function(m){j.each(m,l._syncA)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else{if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",l._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",l._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",l._syncS,false)}}};g.prototype._registerDataEvents=function(){var k=this;this.dataAdapter.on("*",function(l,m){k.trigger(l,m)})};g.prototype._registerSelectionEvents=function(){var k=this;var l=["toggle","focus"];this.selection.on("toggle",function(){k.toggleDropdown()});this.selection.on("focus",function(m){k.focus(m)});this.selection.on("*",function(m,n){if(j.inArray(m,l)!==-1){return}k.trigger(m,n)})};g.prototype._registerDropdownEvents=function(){var k=this;this.dropdown.on("*",function(l,m){k.trigger(l,m)})};g.prototype._registerResultsEvents=function(){var k=this;this.results.on("*",function(l,m){k.trigger(l,m)})};g.prototype._registerEvents=function(){var k=this;this.on("open",function(){k.$container.addClass("select2-container--open")});this.on("close",function(){k.$container.removeClass("select2-container--open")});this.on("enable",function(){k.$container.removeClass("select2-container--disabled")});this.on("disable",function(){k.$container.addClass("select2-container--disabled")});this.on("blur",function(){k.$container.removeClass("select2-container--focus")});this.on("queryNotOpen",function(l){this.dataAdapter.query(l,function(m){k.trigger("results:all",{data:m,query:l})})});this.on("query",function(l){if(!k.isOpen()){k.trigger("open",{})}this.dataAdapter.query(l,function(m){k.trigger("results:all",{data:m,query:l})})});this.on("query:append",function(l){this.dataAdapter.query(l,function(m){k.trigger("results:append",{data:m,query:l})})});this.on("keypress",function(l){var m=l.which;if(k.isOpen()){if(m===f.ESC||m===f.TAB||(m===f.UP&&l.altKey)){k.close();l.preventDefault()}else{if(m===f.ENTER){k.trigger("results:select",{});l.preventDefault()}else{if((m===f.SPACE&&l.ctrlKey)){k.trigger("results:toggle",{});l.preventDefault()}else{if(m===f.UP){k.trigger("results:previous",{});l.preventDefault()}else{if(m===f.DOWN){k.trigger("results:next",{});l.preventDefault()}}}}}}else{if(m===f.ENTER||m===f.SPACE||(m===f.DOWN&&l.altKey)){k.open();l.preventDefault()}}})};g.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};g.prototype._syncSubtree=function(l,k){var p=false;var m=this;if(l&&l.target&&(l.target.nodeName!=="OPTION"&&l.target.nodeName!=="OPTGROUP")){return}if(!k){p=true}else{if(k.addedNodes&&k.addedNodes.length>0){for(var q=0;q<k.addedNodes.length;q++){var o=k.addedNodes[q];if(o.selected){p=true}}}else{if(k.removedNodes&&k.removedNodes.length>0){p=true}}}if(p){this.dataAdapter.current(function(n){m.trigger("selection:update",{data:n})})}};g.prototype.trigger=function(n,m){var o=g.__super__.trigger;var p={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(m===undefined){m={}}if(n in p){var l=p[n];var k={prevented:false,name:n,args:m};o.call(this,l,k);if(k.prevented){m.prevented=true;return}}o.call(this,n,m)};g.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};g.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};g.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};g.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};g.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};g.prototype.focus=function(k){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};g.prototype.enable=function(k){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.')}if(k==null||k.length===0){k=[true]}var l=!k[0];this.$element.prop("disabled",l)};g.prototype.getSetting=function(){return this.options};g.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.')}var k=[];this.dataAdapter.current(function(l){k=l});return k};g.prototype.val=function(l){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.')}if(l==null||l.length===0){return this.$element.val()}var k=l[0];if(j.isArray(k)){k=j.map(k,function(m){return m.toString()})}this.$element.val(k).trigger("change")};g.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else{if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");i.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};g.prototype.render=function(){var k="";if(j(this.$element.init()[0]).hasClass("awsui-select-lg")){k="awsui-select-lg"}else{if(j(this.$element.init()[0]).hasClass("awsui-select-sm")){k="awsui-select-sm"}}var l=j('<span class="select2 select2-container '+k+'"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');l.attr("dir",this.options.get("dir"));this.$container=l;this.$container.addClass("select2-container--"+this.options.get("theme"));i.StoreData(l[0],"element",this.$element);return l};return g});e.define("select2/compat/utils",["jquery"],function(g){function f(m,h,i){var k,l=[],j;k=g.trim(m.attr("class"));if(k){k=""+k;g(k.split(/\s+/)).each(function(){if(this.indexOf("select2-")===0){l.push(this)}})}k=g.trim(h.attr("class"));if(k){k=""+k;g(k.split(/\s+/)).each(function(){if(this.indexOf("select2-")!==0){j=i(this);if(j!=null){l.push(j)}}})}m.attr("class",l.join(" "))}return{syncCssClasses:f}});e.define("select2/compat/containerCss",["jquery","./utils"],function(i,f){function h(j){return null}function g(){}g.prototype.render=function(l){var n=l.call(this);var j=this.options.get("containerCssClass")||"";if(i.isFunction(j)){j=j(this.$element)}var m=this.options.get("adaptContainerCssClass");m=m||h;if(j.indexOf(":all:")!==-1){j=j.replace(":all:","");var o=m;m=function(p){var q=o(p);if(q!=null){return q+" "+p}return p}}var k=this.options.get("containerCss")||{};if(i.isFunction(k)){k=k(this.$element)}f.syncCssClasses(n,this.$element,m);n.css(k);n.addClass(j);return n};return g});e.define("select2/compat/dropdownCss",["jquery","./utils"],function(i,g){function h(j){return null}function f(){}f.prototype.render=function(l){var n=l.call(this);var j=this.options.get("dropdownCssClass")||"";if(i.isFunction(j)){j=j(this.$element)}var k=this.options.get("adaptDropdownCssClass");k=k||h;if(j.indexOf(":all:")!==-1){j=j.replace(":all:","");var o=k;k=function(p){var q=o(p);if(q!=null){return q+" "+p}return p}}var m=this.options.get("dropdownCss")||{};if(i.isFunction(m)){m=m(this.$element)}g.syncCssClasses(n,this.$element,k);n.css(m);n.addClass(j);return n};return f});e.define("select2/compat/initSelection",["jquery"],function(g){function f(j,h,i){if(i.get("debug")&&window.console&&console.warn){console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2")}this.initSelection=i.get("initSelection");this._isInitialized=false;j.call(this,h,i)}f.prototype.current=function(i,j){var h=this;if(this._isInitialized){i.call(this,j);return}this.initSelection.call(null,this.$element,function(k){h._isInitialized=true;if(!g.isArray(k)){k=[k]}j(k)})};return f});e.define("select2/compat/inputData",["jquery","../utils"],function(h,g){function f(k,i,j){this._currentData=[];this._valueSeparator=j.get("valueSeparator")||",";if(i.prop("type")==="hidden"){if(j.get("debug")&&console&&console.warn){console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.")}}k.call(this,i,j)}f.prototype.current=function(j,n){function i(q,o){var p=[];if(q.selected||h.inArray(q.id,o)!==-1){q.selected=true;p.push(q)}else{q.selected=false}if(q.children){p.push.apply(p,i(q.children,o))}return p}var k=[];for(var m=0;m<this._currentData.length;m++){var l=this._currentData[m];k.push.apply(k,i(l,this.$element.val().split(this._valueSeparator)))}n(k)};f.prototype.select=function(i,k){if(!this.options.get("multiple")){this.current(function(l){h.map(l,function(m){m.selected=false})});this.$element.val(k.id);this.$element.trigger("change")}else{var j=this.$element.val();j+=this._valueSeparator+k.id;this.$element.val(j);this.$element.trigger("change")}};f.prototype.unselect=function(j,k){var i=this;k.selected=false;this.current(function(n){var l=[];for(var o=0;o<n.length;o++){var m=n[o];if(k.id==m.id){continue}l.push(m.id)}i.$element.val(l.join(i._valueSeparator));i.$element.trigger("change")})};f.prototype.query=function(i,n,o){var j=[];for(var m=0;m<this._currentData.length;m++){var l=this._currentData[m];var k=this.matches(n,l);if(k!==null){j.push(k)}}o({results:j})};f.prototype.addOptions=function(k,i){var j=h.map(i,function(l){return g.GetData(l[0],"data")});this._currentData.push.apply(this._currentData,j)};return f});e.define("select2/compat/matcher",["jquery"],function(g){function f(h){function i(m,l){var j=g.extend(true,{},l);if(m.term==null||g.trim(m.term)===""){return j}if(l.children){for(var o=l.children.length-1;o>=0;o--){var n=l.children[o];var k=h(m.term,n.text,n);if(!k){j.children.splice(o,1)}}if(j.children.length>0){return j}}if(h(m.term,l.text,l)){return j}return null}return i}return f});e.define("select2/compat/query",[],function(){function f(i,g,h){if(h.get("debug")&&window.console&&console.warn){console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.")}i.call(this,g,h)}f.prototype.query=function(g,i,j){i.callback=j;var h=this.options.get("query");h.call(null,i)};return f});e.define("select2/dropdown/attachContainer",[],function(){function f(i,g,h){i.call(this,g,h)}f.prototype.position=function(h,i,j){var g=j.find(".dropdown-wrapper");g.append(i);i.addClass("select2-dropdown--below");j.addClass("select2-container--below")};return f});e.define("select2/dropdown/stopPropagation",[],function(){function f(){}f.prototype.bind=function(i,g,j){i.call(this,g,j);var h=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(h.join(" "),function(k){k.stopPropagation()})};return f});e.define("select2/selection/stopPropagation",[],function(){function f(){}f.prototype.bind=function(i,g,j){i.call(this,g,j);var h=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(h.join(" "),function(k){k.stopPropagation()})};return f});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(f){if(typeof e.define==="function"&&e.define.amd){e.define("jquery-mousewheel",["jquery"],f)}else{if(typeof exports==="object"){module.exports=f}else{f(d)}}}(function(h){var j=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],p=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],n=Array.prototype.slice,o,g;if(h.event.fixHooks){for(var k=j.length;k;){h.event.fixHooks[j[--k]]=h.event.mouseHooks}}var l=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var s=p.length;s;){this.addEventListener(p[--s],q,false)}}else{this.onmousewheel=q}h.data(this,"mousewheel-line-height",l.getLineHeight(this));h.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var s=p.length;s;){this.removeEventListener(p[--s],q,false)}}else{this.onmousewheel=null}h.removeData(this,"mousewheel-line-height");h.removeData(this,"mousewheel-page-height")},getLineHeight:function(s){var i=h(s),u=i["offsetParent" in h.fn?"offsetParent":"parent"]();if(!u.length){u=h("body")}return parseInt(u.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(i){return h(i).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};h.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function q(i){var v=i||window.event,B=n.call(arguments,1),D=0,x=0,w=0,A=0,z=0,y=0;i=h.event.fix(v);i.type="mousewheel";if("detail" in v){w=v.detail*-1}if("wheelDelta" in v){w=v.wheelDelta}if("wheelDeltaY" in v){w=v.wheelDeltaY}if("wheelDeltaX" in v){x=v.wheelDeltaX*-1}if("axis" in v&&v.axis===v.HORIZONTAL_AXIS){x=w*-1;w=0}D=w===0?x:w;if("deltaY" in v){w=v.deltaY*-1;D=w}if("deltaX" in v){x=v.deltaX;if(w===0){D=x*-1}}if(w===0&&x===0){return}if(v.deltaMode===1){var C=h.data(this,"mousewheel-line-height");D*=C;w*=C;x*=C}else{if(v.deltaMode===2){var u=h.data(this,"mousewheel-page-height");D*=u;w*=u;x*=u}}A=Math.max(Math.abs(w),Math.abs(x));if(!g||A<g){g=A;if(f(v,A)){g/=40}}if(f(v,A)){D/=40;x/=40;w/=40}D=Math[D>=1?"floor":"ceil"](D/g);x=Math[x>=1?"floor":"ceil"](x/g);w=Math[w>=1?"floor":"ceil"](w/g);if(l.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();z=i.clientX-s.left;y=i.clientY-s.top}i.deltaX=x;i.deltaY=w;i.deltaFactor=g;i.offsetX=z;i.offsetY=y;i.deltaMode=0;B.unshift(i,D,x,w);if(o){clearTimeout(o)}o=setTimeout(m,200);return(h.event.dispatch||h.event.handle).apply(this,B)}function m(){g=null}function f(s,i){return l.settings.adjustOldDeltas&&s.type==="mousewheel"&&i%120===0}}));e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(j,h,f,k,i){if(j.fn.select2==null){var g=["open","close","destroy"];j.fn.select2=function(n){n=n||{};if(n.language==undefined){if(window.AWS_LANGUAGE){var o="zh-CN";if(AWS_LANGUAGE=="en"){o="en"}else{if(AWS_LANGUAGE=="big5"){o="zh-TW"}}n.language=o}}if(typeof n==="object"){this.each(function(){var q=j.extend(true,{},n);var p=new f(j(this),q)});return this}else{if(typeof n==="string"){var m;var l=Array.prototype.slice.call(arguments,1);this.each(function(){var p=i.GetData(this,"select2");if(p==null&&window.console&&console.error){console.error("The select2('"+n+"') method was called on an element that is not using Select2.")}m=p[n].apply(p,l)});if(j.inArray(n,g)>-1){return this}return m}else{throw new Error("Invalid arguments for Select2: "+n)}}}}if(j.fn.select2.defaults==null){j.fn.select2.defaults=k}return f});return{define:e.define,require:e.require}}());var a=c.require("jquery.select2");d.fn.select2.amd=c;return a}));
/*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md */
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var a=jQuery.fn.select2.amd}return a.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(d){var c=d.input.length-d.maximum,f="Please delete "+c+" character";return c!=1&&(f+="s"),f},inputTooShort:function(d){var c=d.minimum-d.input.length,f="Please enter "+c+" or more characters";return f},loadingMore:function(){return"Loading more results…"},maximumSelected:function(d){var c="You can only select "+d.maximum+" item";return d.maximum!=1&&(c+="s"),c},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),{define:a.define,require:a.require}})();
/*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md */
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var a=jQuery.fn.select2.amd}return a.define("select2/i18n/zh-CN",[],function(){return{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(d){var c=d.input.length-d.maximum,f="请删除"+c+"个字符";return f},inputTooShort:function(d){var c=d.minimum-d.input.length,f="请再输入至少"+c+"个字符";return f},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(d){var c="最多只能选择"+d.maximum+"个项目";return c},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"}}}),{define:a.define,require:a.require}})();
/*! Select2 4.0.6-rc.1 | https://github.com/select2/select2/blob/master/LICENSE.md */
(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var a=jQuery.fn.select2.amd}return a.define("select2/i18n/zh-TW",[],function(){return{inputTooLong:function(d){var c=d.input.length-d.maximum,f="請刪掉"+c+"個字元";return f},inputTooShort:function(d){var c=d.minimum-d.input.length,f="請再輸入"+c+"個字元";return f},loadingMore:function(){return"載入中…"},maximumSelected:function(d){var c="你只能選擇最多"+d.maximum+"項";return c},noResults:function(){return"沒有找到相符的項目"},searching:function(){return"搜尋中…"}}}),{define:a.define,require:a.require}})();!function t(c,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.Raphael=a():c.Raphael=a()}(this,function(){return function(a){function d(e){if(c[e]){return c[e].exports}var f=c[e]={exports:{},id:e,loaded:!1};return a[e].call(f.exports,f,f.exports,d),f.loaded=!0,f.exports}var c={};return d.m=a,d.c=c,d.p="",d(0)}([function(c,f,d){var a,g;a=[d(1),d(3),d(4)],g=function(e){return e}.apply(f,a),!(void 0!==g&&(c.exports=g))},function(c,f,d){var a,g;a=[d(2)],g=function(bk){function bD(h){if(bD.is(h,"function")){return bh?h():bk.on("raphael.DOMload",h)}if(bD.is(h,bW)){return bD._engine.create[bc](bD,h.splice(0,3+bD.is(h[0],cr))).add(h)}var e=Array.prototype.slice.call(arguments,0);if(bD.is(e[e.length-1],"function")){var j=e.pop();return bh?j.call(bD._engine.create[bc](bD,e)):bk.on("raphael.DOMload",function(){j.call(bD._engine.create[bc](bD,e))})}return bD._engine.create[bc](bD,arguments)}function bm(j){if("function"==typeof j||Object(j)!==j){return j}var k=new j.constructor;for(var h in j){j[ci](h)&&(k[h]=bm(j[h]))}return k}function bz(j,l){for(var k=0,h=j.length;k<h;k++){if(j[k]===l){return j.push(j.splice(k,1)[0])}}}function br(h,j,i){function k(){var m=Array.prototype.slice.call(arguments,0),n=m.join("␀"),p=k.cache=k.cache||{},e=k.count=k.count||[];return p[ci](n)?(bz(e,n),i?i(p[n]):p[n]):(e.length>=1000&&delete p[e.shift()],e.push(n),p[n]=h[bc](j,m),i?i(p[n]):p[n])}return k}function bI(){return this.hex}function bl(k,m){for(var l=[],j=0,o=k.length;o-2*!m>j;j+=2){var h=[{x:+k[j-2],y:+k[j-1]},{x:+k[j],y:+k[j+1]},{x:+k[j+2],y:+k[j+3]},{x:+k[j+4],y:+k[j+5]}];m?j?o-4==j?h[3]={x:+k[0],y:+k[1]}:o-2==j&&(h[2]={x:+k[0],y:+k[1]},h[3]={x:+k[2],y:+k[3]}):h[0]={x:+k[o-2],y:+k[o-1]}:o-4==j?h[3]=h[2]:j||(h[0]={x:+k[j],y:+k[j+1]}),l.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y])}return l}function bq(k,o,m,j,p){var h=-3*o+9*m-9*j+3*p,l=k*h+6*o-12*m+6*j;return k*l-3*o+3*m}function bv(w,J,A,F,C,M,z,E,G){null==G&&(G=1),G=G>1?1:G<0?0:G;for(var q=G/2,L=12,I=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],B=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],K=0,H=0;H<L;H++){var o=q*I[H]+q,k=bq(o,w,A,C,z),j=bq(o,J,F,M,E),D=k*k+j*j;K+=B[H]*bN.sqrt(D)}return q*K}function bA(C,x,j,q,m,A,D,l,v){if(!(v<0||bv(C,x,j,q,m,A,D,l)<v)){var B=1,z=B/2,w=B-z,k,y=0.01;for(k=bv(C,x,j,q,m,A,D,l,w);b8(k-v)>y;){z/=2,w+=(k<v?1:-1)*z,k=bv(C,x,j,q,m,A,D,l,w)}return w}}function bj(E,z,j,w,q,C,F,m){if(!(bP(E,j)<b9(q,F)||b9(E,j)>bP(q,F)||bP(z,w)<b9(C,m)||b9(z,w)>bP(C,m))){var v=(E*w-z*j)*(q-F)-(E-j)*(q*m-C*F),x=(E*w-z*j)*(C-m)-(z-w)*(q*m-C*F),D=(E-j)*(C-m)-(z-w)*(q-F);if(D){var B=v/D,y=x/D,k=+B.toFixed(2),A=+y.toFixed(2);if(!(k<+b9(E,j).toFixed(2)||k>+bP(E,j).toFixed(2)||k<+b9(q,F).toFixed(2)||k>+bP(q,F).toFixed(2)||A<+b9(z,w).toFixed(2)||A>+bP(z,w).toFixed(2)||A<+b9(C,m).toFixed(2)||A>+bP(C,m).toFixed(2))){return{x:B,y:y}}}}}function bG(h,i){return bo(h,i)}function bC(h,i){return bo(h,i,1)}function bo(z,F,N){var K=bD.bezierBBox(z),V=bD.bezierBBox(F);if(!bD.isBBoxIntersect(K,V)){return N?0:[]}for(var D=bv.apply(0,z),J=bv.apply(0,F),O=bP(~~(D/5),1),T=bP(~~(J/5),1),Q=[],I=[],R={},P=N?0:[],u=0;u<O+1;u++){var l=bD.findDotsAtSegment.apply(bD,z.concat(u/O));Q.push({x:l.x,y:l.y,t:u/O})}for(u=0;u<T+1;u++){l=bD.findDotsAtSegment.apply(bD,F.concat(u/T)),I.push({x:l.x,y:l.y,t:u/T})}for(u=0;u<O;u++){for(var j=0;j<T;j++){var L=Q[u],U=Q[u+1],W=I[j],q=I[j+1],M=b8(U.x-L.x)<0.001?"y":"x",G=b8(q.x-W.x)<0.001?"y":"x",E=bj(L.x,L.y,U.x,U.y,W.x,W.y,q.x,q.y);if(E){if(R[E.x.toFixed(4)]==E.y.toFixed(4)){continue}R[E.x.toFixed(4)]=E.y.toFixed(4);var e=L.t+b8((E[M]-L[M])/(U[M]-L[M]))*(U.t-L.t),H=W.t+b8((E[G]-W[G])/(q[G]-W[G]))*(q.t-W.t);e>=0&&e<=1.001&&H>=0&&H<=1.001&&(N?P++:P.push({x:E.x,y:E.y,t1:b9(e,1),t2:b9(H,1)}))}}}return P}function bF(A,D,K){A=bD._path2curve(A),D=bD._path2curve(D);for(var G,R,C,F,I,L,z,P,N,O,M=K?0:[],q=0,j=A.length;q<j;q++){var e=A[q];if("M"==e[0]){G=I=e[1],R=L=e[2]}else{"C"==e[0]?(N=[G,R].concat(e.slice(1)),G=N[6],R=N[7]):(N=[G,R,G,R,I,L,I,L],G=I,R=L);for(var H=0,Q=D.length;H<Q;H++){var S=D[H];if("M"==S[0]){C=z=S[1],F=P=S[2]}else{"C"==S[0]?(O=[C,F].concat(S.slice(1)),C=O[6],F=O[7]):(O=[C,F,C,F,z,P,z,P],C=z,F=P);var p=bo(N,O,K);if(K){M+=p}else{for(var J=0,E=p.length;J<E;J++){p[J].segment1=q,p[J].segment2=H,p[J].bez1=N,p[J].bez2=O}M=M.concat(p)}}}}}return M}function bB(k,m,l,j,o,h){null!=k?(this.a=+k,this.b=+m,this.c=+l,this.d=+j,this.e=+o,this.f=+h):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function bi(){return this.x+bx+this.y}function bg(){return this.x+bx+this.y+bx+this.width+" × "+this.height}function bd(E,z,j,w,q,C){function F(e){return((B*e+D)*e+x)*e}function m(h,l){var i=v(h,l);return((A*i+k)*i+y)*i}function v(u,H){var G,s,J,p,I,h;for(J=u,h=0;h<8;h++){if(p=F(J)-u,b8(p)<H){return J}if(I=(3*B*J+2*D)*J+x,b8(I)<0.000001){break}J-=p/I}if(G=0,s=1,J=u,J<G){return G}if(J>s){return s}for(;G<s;){if(p=F(J),b8(p-u)<H){return J}u>p?G=J:s=J,J=(s-G)/2+G}return J}var x=3*z,D=3*(w-z)-x,B=1-x-D,y=3*j,k=3*(q-j)-y,A=1-y-k;return m(E,1/(200*C))}function bu(j,l){var k=[],h={};if(this.ms=l,this.times=1,j){for(var m in j){j[ci](m)&&(h[aC(m)]=j[m],k.push(aC(m)))}k.sort(aI)}this.anim=h,this.top=k[k.length-1],this.percents=k}function bH(bt,cG,cC,cM,at,cB){cC=aC(cC);var cE,cH,X,cK=[],cI,ct,cJ,U=bt.ms,P={},cD={},cL={};if(cM){for(Q=0,ce=aq.length;Q<ce;Q++){var cN=aq[Q];if(cN.el.id==cG.id&&cN.anim==bt){cN.percent!=cC?(aq.splice(Q,1),X=1):cH=cN,cG.attr(cN.totalOrigin);break}}}else{cM=+cD}for(var Q=0,ce=bt.percents.length;Q<ce;Q++){if(bt.percents[Q]==cC||bt.percents[Q]>cM*bt.top){cC=bt.percents[Q],ct=bt.percents[Q-1]||0,U=U/bt.top*(cC-ct),cI=bt.percents[Q+1],cE=bt.anim[cC];break}cM&&cG.attr(bt.anim[bt.percents[Q]])}if(cE){if(cH){cH.initstatus=cM,cH.start=new Date-cH.ms*cM}else{for(var be in cE){if(cE[ci](be)&&(a8[ci](be)||cG.paper.customAttributes[ci](be))){switch(P[be]=cG.attr(be),null==P[be]&&(P[be]=aS[be]),cD[be]=cE[be],a8[be]){case cr:cL[be]=(cD[be]-P[be])/U;break;case"colour":P[be]=bD.getRGB(P[be]);var y=bD.getRGB(cD[be]);cL[be]={r:(y.r-P[be].r)/U,g:(y.g-P[be].g)/U,b:(y.b-P[be].b)/U};break;case"path":var q=ao(P[be],cD[be]),Z=q[1];for(P[be]=q[0],cL[be]=[],Q=0,ce=P[be].length;Q<ce;Q++){cL[be][Q]=[0];for(var I=1,H=P[be][Q].length;I<H;I++){cL[be][Q][I]=(Z[Q][I]-P[be][Q][I])/U}}break;case"transform":var J=cG._,K=cA(J[be],cD[be]);if(K){for(P[be]=K.from,cD[be]=K.to,cL[be]=[],cL[be].real=!0,Q=0,ce=P[be].length;Q<ce;Q++){for(cL[be][Q]=[P[be][Q][0]],I=1,H=P[be][Q].length;I<H;I++){cL[be][Q][I]=(cD[be][Q][I]-P[be][Q][I])/U}}}else{var W=cG.matrix||new bB,A={_:{transform:J.transform},getBBox:function(){return cG.getBBox(1)}};P[be]=[W.a,W.b,W.c,W.d,W.e,W.f],aQ(A,cD[be]),cD[be]=A._.transform,cL[be]=[(A.matrix.a-W.a)/U,(A.matrix.b-W.b)/U,(A.matrix.c-W.c)/U,(A.matrix.d-W.d)/U,(A.matrix.e-W.e)/U,(A.matrix.f-W.f)/U]}break;case"csv":var cF=b7(cE[be])[bn](bw),ae=b7(P[be])[bn](bw);if("clip-rect"==be){for(P[be]=ae,cL[be]=[],Q=ae.length;Q--;){cL[be][Q]=(cF[Q]-P[be][Q])/U}}cD[be]=cF;break;default:for(cF=[][bY](cE[be]),ae=[][bY](P[be]),cL[be]=[],Q=cG.paper.customAttributes[be].length;Q--;){cL[be][Q]=((cF[Q]||0)-(ae[Q]||0))/U}}}}var k=cE.easing,G=bD.easing_formulas[k];if(!G){if(G=b7(k).match(aL),G&&5==G.length){var e=G;G=function(h){return bd(h,+e[1],+e[2],+e[3],+e[4],U)}}else{G=cy}}if(cJ=cE.start||bt.start||+new Date,cN={anim:bt,percent:cC,timestamp:cJ,start:cJ+(bt.del||0),status:0,initstatus:cM||0,stop:!1,ms:U,easing:G,from:P,diff:cL,to:cD,el:cG,callback:cE.callback,prev:ct,next:cI,repeat:cB||bt.times,origin:cG.attr(),totalOrigin:at},aq.push(cN),cM&&!cH&&!X&&(cN.stop=!0,cN.start=new Date-U*cM,1==aq.length)){return aP()}X&&(cN.start=new Date-cN.ms*cM),1==aq.length&&aY(aP)}bk("raphael.anim.start."+cG.id,cG,bt)}}function bJ(h){for(var i=0;i<aq.length;i++){aq[i].el.paper==h&&aq.splice(i--,1)}}bD.version="2.2.0",bD.eve=bk;var bh,bw=/[, ]+/,ch={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},cg=/\{(\d+)\}/g,bT="prototype",ci="hasOwnProperty",bS={doc:document,win:window},cc={was:Object.prototype[ci].call(bS.win,"Raphael"),is:bS.win.Raphael},b2=function(){this.ca=this.customAttributes={}},b1,b3="appendChild",bc="apply",bY="concat",ca="ontouchstart" in bS.win||bS.win.DocumentTouch&&bS.doc instanceof DocumentTouch,bV="",bx=" ",b7=String,bn="split",cd="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[bn](bx),bQ={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},bZ=b7.prototype.toLowerCase,bN=Math,bP=bN.max,b9=bN.min,b8=bN.abs,bO=bN.pow,bR=bN.PI,cr="number",bL="string",bW="array",b6="toString",b4="fill",aE=Object.prototype.toString,a0={},aU="push",av=bD._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,b0=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,ck={NaN:1,Infinity:1,"-Infinity":1},aL=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,bs=bN.round,cx="setAttribute",aC=parseFloat,ax=parseInt,bf=b7.prototype.toUpperCase,aS=bD._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,"class":""},a8=bD._availableAnimAttrs={blur:cr,"clip-rect":"csv",cx:cr,cy:cr,fill:"colour","fill-opacity":cr,"font-size":cr,height:cr,opacity:cr,path:"path",r:cr,rx:cr,ry:cr,stroke:"colour","stroke-opacity":cr,"stroke-width":cr,transform:"transform",width:cr,x:cr,y:cr},a6=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,aJ=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ap={hs:1,rg:1},cz=/,?([achlmqrstvxz]),?/gi,cq=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,cn=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,bM=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,aa=bD._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,ai={},af=function(h,i){return h.key-i.key},aI=function(h,i){return aC(h)-aC(i)},aB=function(){},cy=function(e){return e},aR=bD._rectPath=function(j,l,k,h,m){return m?[["M",j+m,l],["l",k-2*m,0],["a",m,m,0,0,1,m,m],["l",0,h-2*m],["a",m,m,0,0,1,-m,m],["l",2*m-k,0],["a",m,m,0,0,1,-m,-m],["l",0,2*m-h],["a",m,m,0,0,1,m,-m],["z"]]:[["M",j,l],["l",k,0],["l",0,h],["l",-k,0],["z"]]},cp=function(j,l,k,h){return null==h&&(h=k),[["M",j,l],["m",0,-h],["a",k,h,0,1,1,0,2*h],["a",k,h,0,1,1,0,-2*h],["z"]]},am=bD._getPath={path:function(e){return e.attr("path")},circle:function(h){var i=h.attrs;return cp(i.cx,i.cy,i.r)},ellipse:function(h){var i=h.attrs;return cp(i.cx,i.cy,i.rx,i.ry)},rect:function(h){var i=h.attrs;return aR(i.x,i.y,i.width,i.height,i.r)},image:function(h){var i=h.attrs;return aR(i.x,i.y,i.width,i.height)},text:function(h){var i=h._getBBox();return aR(i.x,i.y,i.width,i.height)},set:function(h){var i=h._getBBox();return aR(i.x,i.y,i.width,i.height)}},aT=bD.mapPath=function(v,q){if(!q){return v}var h,p,k,u,w,j,m;for(v=ao(v),k=0,w=v.length;k<w;k++){for(m=v[k],u=1,j=m.length;u<j;u+=2){h=q.x(m[u],m[u+1]),p=q.y(m[u],m[u+1]),m[u]=h,m[u+1]=p}}return v};if(bD._g=bS,bD.type=bS.win.SVGAngle||bS.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==bD.type){var aK=bS.doc.createElement("div"),a1;if(aK.innerHTML='<v:shape adj="1"/>',a1=aK.firstChild,a1.style.behavior="url(#default#VML)",!a1||"object"!=typeof a1.adj){return bD.type=bV}aK=null}bD.svg=!(bD.vml="VML"==bD.type),bD._Paper=b2,bD.fn=b1=b2.prototype=bD.prototype,bD._id=0,bD.is=function(h,i){return i=bZ.call(i),"finite"==i?!ck[ci](+h):"array"==i?h instanceof Array:"null"==i&&null===h||i==typeof h&&null!==h||"object"==i&&h===Object(h)||"array"==i&&Array.isArray&&Array.isArray(h)||aE.call(h).slice(8,-1).toLowerCase()==i},bD.angle=function(k,p,j,u,h,m){if(null==h){var q=k-j,e=p-u;return q||e?(180+180*bN.atan2(-e,-q)/bR+360)%360:0}return bD.angle(k,p,h,m)-bD.angle(j,u,h,m)},bD.rad=function(e){return e%360*bR/180},bD.deg=function(e){return Math.round(180*e/bR%360*1000)/1000},bD.snapTo=function(j,k,h){if(h=bD.is(h,"finite")?h:10,bD.is(j,bW)){for(var l=j.length;l--;){if(b8(j[l]-k)<=h){return j[l]}}}else{j=+j;var e=k%j;if(e<h){return k-e}if(e>j-h){return k-e+j}}return k};var cf=bD.createUUID=function(h,i){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(h,i).toUpperCase()}}(/[xy]/g,function(h){var j=16*bN.random()|0,i="x"==h?j:3&j|8;return i.toString(16)});bD.setWindow=function(e){bk("raphael.setWindow",bD,bS.win,e),bS.win=e,bS.doc=bS.win.document,bD._engine.initWin&&bD._engine.initWin(bS.win)};var aw=function(k){if(bD.vml){var n=/^\s+|\s+$/g,j;try{var h=new ActiveXObject("htmlfile");h.write("<body>"),h.close(),j=h.body}catch(m){j=createPopup().document.body}var p=j.createTextRange();aw=br(function(i){try{j.style.color=b7(i).replace(n,bV);var l=p.queryCommandValue("ForeColor");return l=(255&l)<<16|65280&l|(16711680&l)>>>16,"#"+("000000"+l.toString(16)).slice(-6)}catch(o){return"none"}})}else{var e=bS.doc.createElement("i");e.title="Raphaël Colour Picker",e.style.display="none",bS.doc.body.appendChild(e),aw=br(function(i){return e.style.color=i,bS.doc.defaultView.getComputedStyle(e,bV).getPropertyValue("color")})}return aw(k)},ad=function(){return"hsb("+[this.h,this.s,this.b]+")"},ah=function(){return"hsl("+[this.h,this.s,this.l]+")"},an=function(){return this.hex},bX=function(h,j,e){if(null==j&&bD.is(h,"object")&&"r" in h&&"g" in h&&"b" in h&&(e=h.b,j=h.g,h=h.r),null==j&&bD.is(h,bL)){var k=bD.getRGB(h);h=k.r,j=k.g,e=k.b}return(h>1||j>1||e>1)&&(h/=255,j/=255,e/=255),[h,j,e]},a2=function(j,k,h,l){j*=255,k*=255,h*=255;var e={r:j,g:k,b:h,hex:bD.rgb(j,k,h),toString:an};return bD.is(l,"finite")&&(e.opacity=l),e};bD.color=function(e){var h;return bD.is(e,"object")&&"h" in e&&"s" in e&&"b" in e?(h=bD.hsb2rgb(e),e.r=h.r,e.g=h.g,e.b=h.b,e.hex=h.hex):bD.is(e,"object")&&"h" in e&&"s" in e&&"l" in e?(h=bD.hsl2rgb(e),e.r=h.r,e.g=h.g,e.b=h.b,e.hex=h.hex):(bD.is(e,"string")&&(e=bD.getRGB(e)),bD.is(e,"object")&&"r" in e&&"g" in e&&"b" in e?(h=bD.rgb2hsl(e),e.h=h.h,e.s=h.s,e.l=h.l,h=bD.rgb2hsb(e),e.v=h.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=an,e},bD.hsb2rgb=function(v,q,h,p){this.is(v,"object")&&"h" in v&&"s" in v&&"b" in v&&(h=v.b,q=v.s,p=v.o,v=v.h),v*=360;var k,u,w,j,m;return v=v%360/60,m=h*q,j=m*(1-b8(v%2-1)),k=u=w=h-m,v=~~v,k+=[m,j,0,0,j,m][v],u+=[j,m,m,j,0,0][v],w+=[0,0,j,m,m,j][v],a2(k,u,w,p)},bD.hsl2rgb=function(v,q,h,p){this.is(v,"object")&&"h" in v&&"s" in v&&"l" in v&&(h=v.l,q=v.s,v=v.h),(v>1||q>1||h>1)&&(v/=360,q/=100,h/=100),v*=360;var k,u,w,j,m;return v=v%360/60,m=2*q*(h<0.5?h:1-h),j=m*(1-b8(v%2-1)),k=u=w=h-m/2,v=~~v,k+=[m,j,0,0,j,m][v],u+=[j,m,m,j,0,0][v],w+=[0,0,j,m,m,j][v],a2(k,u,w,p)},bD.rgb2hsb=function(k,o,m){m=bX(k,o,m),k=m[0],o=m[1],m=m[2];var j,p,h,l;return h=bP(k,o,m),l=h-b9(k,o,m),j=0==l?null:h==k?(o-m)/l:h==o?(m-k)/l+2:(k-o)/l+4,j=(j+360)%6*60/360,p=0==l?0:l/h,{h:j,s:p,b:h,toString:ad}},bD.rgb2hsl=function(v,q,h){h=bX(v,q,h),v=h[0],q=h[1],h=h[2];var p,k,u,w,j,m;return w=bP(v,q,h),j=b9(v,q,h),m=w-j,p=0==m?null:w==v?(q-h)/m:w==q?(h-v)/m+2:(v-q)/m+4,p=(p+360)%6*60/360,u=(w+j)/2,k=0==m?0:u<0.5?m/(2*u):m/(2-2*u),{h:p,s:k,l:u,toString:ah}},bD._path2string=function(){return this.join(",").replace(cz,"$1")};var au=bD._preload=function(h,j){var i=bS.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){j.call(this),this.onload=null,bS.doc.body.removeChild(this)},i.onerror=function(){bS.doc.body.removeChild(this)},bS.doc.body.appendChild(i),i.src=h};bD.getRGB=br(function(w){if(!w||(w=b7(w)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bI}}if("none"==w){return{r:-1,g:-1,b:-1,hex:"none",toString:bI}}!(ap[ci](w.toLowerCase().substring(0,2))||"#"==w.charAt())&&(w=aw(w));var e,p,k,x,j,m,q,v=w.match(b0);return v?(v[2]&&(x=ax(v[2].substring(5),16),k=ax(v[2].substring(3,5),16),p=ax(v[2].substring(1,3),16)),v[3]&&(x=ax((m=v[3].charAt(3))+m,16),k=ax((m=v[3].charAt(2))+m,16),p=ax((m=v[3].charAt(1))+m,16)),v[4]&&(q=v[4][bn](aJ),p=aC(q[0]),"%"==q[0].slice(-1)&&(p*=2.55),k=aC(q[1]),"%"==q[1].slice(-1)&&(k*=2.55),x=aC(q[2]),"%"==q[2].slice(-1)&&(x*=2.55),"rgba"==v[1].toLowerCase().slice(0,4)&&(j=aC(q[3])),q[3]&&"%"==q[3].slice(-1)&&(j/=100)),v[5]?(q=v[5][bn](aJ),p=aC(q[0]),"%"==q[0].slice(-1)&&(p*=2.55),k=aC(q[1]),"%"==q[1].slice(-1)&&(k*=2.55),x=aC(q[2]),"%"==q[2].slice(-1)&&(x*=2.55),("deg"==q[0].slice(-3)||"°"==q[0].slice(-1))&&(p/=360),"hsba"==v[1].toLowerCase().slice(0,4)&&(j=aC(q[3])),q[3]&&"%"==q[3].slice(-1)&&(j/=100),bD.hsb2rgb(p,k,x,j)):v[6]?(q=v[6][bn](aJ),p=aC(q[0]),"%"==q[0].slice(-1)&&(p*=2.55),k=aC(q[1]),"%"==q[1].slice(-1)&&(k*=2.55),x=aC(q[2]),"%"==q[2].slice(-1)&&(x*=2.55),("deg"==q[0].slice(-3)||"°"==q[0].slice(-1))&&(p/=360),"hsla"==v[1].toLowerCase().slice(0,4)&&(j=aC(q[3])),q[3]&&"%"==q[3].slice(-1)&&(j/=100),bD.hsl2rgb(p,k,x,j)):(v={r:p,g:k,b:x,toString:bI},v.hex="#"+(16777216|x|k<<8|p<<16).toString(16).slice(1),bD.is(j,"finite")&&(v.opacity=j),v)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bI}},bD),bD.hsb=br(function(h,j,e){return bD.hsb2rgb(h,j,e).hex}),bD.hsl=br(function(h,j,e){return bD.hsl2rgb(h,j,e).hex}),bD.rgb=br(function(j,l,k){function h(e){return e+0.5|0}return"#"+(16777216|h(k)|h(l)<<8|h(j)<<16).toString(16).slice(1)}),bD.getColor=function(h){var j=this.getColor.start=this.getColor.start||{h:0,s:1,b:h||0.75},i=this.hsb2rgb(j.h,j.s,j.b);return j.h+=0.075,j.h>1&&(j.h=0,j.s-=0.2,j.s<=0&&(this.getColor.start={h:0,s:1,b:j.b})),i.hex},bD.getColor.reset=function(){delete this.start},bD.parsePathString=function(h){if(!h){return null}var j=bE(h);if(j.arr){return aX(j.arr)}var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},k=[];return bD.is(h,bW)&&bD.is(h[0],bW)&&(k=aX(h)),k.length||b7(h).replace(cq,function(l,o,n){var i=[],m=o.toLowerCase();if(n.replace(bM,function(p,q){q&&i.push(+q)}),"m"==m&&i.length>2&&(k.push([o][bY](i.splice(0,2))),m="l",o="m"==o?"l":"L"),"r"==m){k.push([o][bY](i))}else{for(;i.length>=e[m]&&(k.push([o][bY](i.splice(0,e[m]))),e[m]);){}}}),k.toString=bD._path2string,j.arr=aX(k),k},bD.parseTransformString=br(function(h){if(!h){return null}var j={r:3,s:4,t:2,m:6},e=[];return bD.is(h,bW)&&bD.is(h[0],bW)&&(e=aX(h)),e.length||b7(h).replace(cn,function(k,m,l){var o=[],i=bZ.call(m);l.replace(bM,function(n,p){p&&o.push(+p)}),e.push([m][bY](o))}),e.toString=bD._path2string,e});var bE=function(h){var i=bE.ps=bE.ps||{};return i[h]?i[h].sleep=100:i[h]={sleep:100},setTimeout(function(){for(var e in i){i[ci](e)&&e!=h&&(i[e].sleep--,!i[e].sleep&&delete i[e])}}),i[h]};bD.findDotsAtSegment=function(D,R,F,N,J,V,E,I,L){var O=1-L,C=bO(O,3),T=bO(O,2),Q=L*L,H=Q*L,S=C*D+3*T*L*F+3*O*L*L*J+H*E,P=C*R+3*T*L*N+3*O*L*L*V+H*I,A=D+2*L*(F-D)+Q*(J-2*F+D),q=R+2*L*(N-R)+Q*(V-2*N+R),j=F+2*L*(J-F)+Q*(E-2*J+F),K=N+2*L*(V-N)+Q*(I-2*V+N),U=O*D+L*F,W=O*R+L*N,z=O*J+L*E,M=O*V+L*I,G=90-180*bN.atan2(A-j,q-K)/bR;return(A>j||q<K)&&(G+=180),{x:S,y:P,m:{x:A,y:q},n:{x:j,y:K},start:{x:U,y:W},end:{x:z,y:M},alpha:G}},bD.bezierBBox=function(v,e,p,k,u,w,j,m){bD.is(v,"array")||(v=[v,e,p,k,u,w,j,m]);var q=aO.apply(null,v);return{x:q.min.x,y:q.min.y,x2:q.max.x,y2:q.max.y,width:q.max.x-q.min.x,height:q.max.y-q.min.y}},bD.isPointInsideBBox=function(h,j,i){return j>=h.x&&j<=h.x2&&i>=h.y&&i<=h.y2},bD.isBBoxIntersect=function(h,j){var e=bD.isPointInsideBBox;return e(j,h.x,h.y)||e(j,h.x2,h.y)||e(j,h.x,h.y2)||e(j,h.x2,h.y2)||e(h,j.x,j.y)||e(h,j.x2,j.y)||e(h,j.x,j.y2)||e(h,j.x2,j.y2)||(h.x<j.x2&&h.x>j.x||j.x<h.x2&&j.x>h.x)&&(h.y<j.y2&&h.y>j.y||j.y<h.y2&&j.y>h.y)},bD.pathIntersection=function(h,i){return bF(h,i)},bD.pathIntersectionNumber=function(h,i){return bF(h,i,1)},bD.isPointInsidePath=function(h,j,e){var k=bD.pathBBox(h);return bD.isPointInsideBBox(k,j,e)&&bF(h,[["M",j,e],["H",k.x2+10]],1)%2==1},bD._removedFactory=function(h){return function(){bk("raphael.log",null,"Raphaël: you are calling to method “"+h+"” of removed object",h)}};var aD=bD.pathBBox=function(I){var B=bE(I);if(B.bbox){return bm(B.bbox)}if(!I){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}I=ao(I);for(var w=0,m=0,F=[],J=[],k,q=0,y=I.length;q<y;q++){if(k=I[q],"M"==k[0]){w=k[1],m=k[2],F.push(w),J.push(m)}else{var H=aO(w,m,k[1],k[2],k[3],k[4],k[5],k[6]);F=F[bY](H.min.x,H.max.x),J=J[bY](H.min.y,H.max.y),w=k[5],m=k[6]}}var D=b9[bc](0,F),A=b9[bc](0,J),j=bP[bc](0,F),C=bP[bc](0,J),z=j-D,G=C-A,E={x:D,y:A,x2:j,y2:C,width:z,height:G,cx:D+z/2,cy:A+G/2};return B.bbox=bm(E),E},aX=function(h){var e=bm(h);return e.toString=bD._path2string,e},ba=bD._pathToRelative=function(H){var e=bE(H);if(e.rel){return aX(e.rel)}bD.is(H,bW)&&bD.is(H&&H[0],bW)||(H=bD.parsePathString(H));var w=[],m=0,E=0,I=0,k=0,q=0;"M"==H[0][0]&&(m=H[0][1],E=H[0][2],I=m,k=E,q++,w.push(["M",m,E]));for(var y=q,G=H.length;y<G;y++){var C=w[y]=[],A=H[y];if(A[0]!=bZ.call(A[0])){switch(C[0]=bZ.call(A[0]),C[0]){case"a":C[1]=A[1],C[2]=A[2],C[3]=A[3],C[4]=A[4],C[5]=A[5],C[6]=+(A[6]-m).toFixed(3),C[7]=+(A[7]-E).toFixed(3);break;case"v":C[1]=+(A[1]-E).toFixed(3);break;case"m":I=A[1],k=A[2];default:for(var j=1,B=A.length;j<B;j++){C[j]=+(A[j]-(j%2?m:E)).toFixed(3)}}}else{C=w[y]=[],"m"==A[0]&&(I=A[1]+m,k=A[2]+E);for(var z=0,F=A.length;z<F;z++){w[y][z]=A[z]}}var D=w[y].length;switch(w[y][0]){case"z":m=I,E=k;break;case"h":m+=+w[y][D-1];break;case"v":E+=+w[y][D-1];break;default:m+=+w[y][D-2],E+=+w[y][D-1]}}return w.toString=bD._path2string,e.rel=aX(w),w},cw=bD._pathToAbsolute=function(s){var w=bE(s);if(w.abs){return aX(w.abs)}if(bD.is(s,bW)&&bD.is(s&&s[0],bW)||(s=bD.parsePathString(s)),!s||!s.length){return[["M",0,0]]}var E=[],B=0,K=0,A=0,D=0,F=0;"M"==s[0][0]&&(B=+s[0][1],K=+s[0][2],A=B,D=K,F++,E[0]=["M",B,K]);for(var q=3==s.length&&"M"==s[0][0]&&"R"==s[1][0].toUpperCase()&&"Z"==s[2][0].toUpperCase(),J,H,z=F,I=s.length;z<I;z++){if(E.push(J=[]),H=s[z],H[0]!=bf.call(H[0])){switch(J[0]=bf.call(H[0]),J[0]){case"A":J[1]=H[1],J[2]=H[2],J[3]=H[3],J[4]=H[4],J[5]=H[5],J[6]=+(H[6]+B),J[7]=+(H[7]+K);break;case"V":J[1]=+H[1]+K;break;case"H":J[1]=+H[1]+B;break;case"R":for(var G=[B,K][bY](H.slice(1)),k=2,j=G.length;k<j;k++){G[k]=+G[k]+B,G[++k]=+G[k]+K}E.pop(),E=E[bY](bl(G,q));break;case"M":A=+H[1]+B,D=+H[2]+K;default:for(k=1,j=H.length;k<j;k++){J[k]=+H[k]+(k%2?B:K)}}}else{if("R"==H[0]){G=[B,K][bY](H.slice(1)),E.pop(),E=E[bY](bl(G,q)),J=["R"][bY](H.slice(-2))}else{for(var e=0,C=H.length;e<C;e++){J[e]=H[e]}}}switch(J[0]){case"Z":B=A,K=D;break;case"H":B=J[1];break;case"V":K=J[1];break;case"M":A=J[J.length-2],D=J[J.length-1];default:B=J[J.length-2],K=J[J.length-1]}}return E.toString=bD._path2string,w.abs=aX(E),E},cm=function(j,l,k,h){return[j,l,k,h,k,h]},a4=function(k,p,m,j,u,h){var l=1/3,q=2/3;return[l*k+q*m,l*p+q*j,l*u+q*m,l*h+q*j,u,h]},cb=function(cM,cZ,cO,cV,c3,cN,cQ,cS,cW,cL){var c1=120*bR/180,cY=bR/180*(+c3||0),cP=[],c0,cX=br(function(j,l,k){var h=j*bN.cos(k)-l*bN.sin(k),m=j*bN.sin(k)+l*bN.cos(k);return{x:h,y:m}});if(cL){P=cL[0],cE=cL[1],cD=cL[2],cC=cL[3]}else{c0=cX(cM,cZ,-cY),cM=c0.x,cZ=c0.y,c0=cX(cS,cW,-cY),cS=c0.x,cW=c0.y;var cK=bN.cos(bR/180*c3),cI=bN.sin(bR/180*c3),cH=(cM-cS)/2,cR=(cZ-cW)/2,c2=cH*cH/(cO*cO)+cR*cR/(cV*cV);c2>1&&(c2=bN.sqrt(c2),cO=c2*cO,cV=c2*cV);var c4=cO*cO,cJ=cV*cV,cT=(cN==cQ?-1:1)*bN.sqrt(b8((c4*cJ-c4*cR*cR-cJ*cH*cH)/(c4*cR*cR+cJ*cH*cH))),cD=cT*cO*cR/cV+(cM+cS)/2,cC=cT*-cV*cH/cO+(cZ+cW)/2,P=bN.asin(((cZ-cC)/cV).toFixed(9)),cE=bN.asin(((cW-cC)/cV).toFixed(9));P=cM<cD?bR-P:P,cE=cS<cD?bR-cE:cE,P<0&&(P=2*bR+P),cE<0&&(cE=2*bR+cE),cQ&&P>cE&&(P-=2*bR),!cQ&&cE>P&&(cE-=2*bR)}var K=cE-P;if(b8(K)>c1){var ct=cE,ae=cS,Y=cW;cE=P+c1*(cQ&&cE>P?1:-1),cS=cD+cO*bN.cos(cE),cW=cC+cV*bN.sin(cE),cP=cb(cS,cW,cO,cV,c3,0,cQ,ae,Y,[cE,ct,cD,cC])}K=cE-P;var at=bN.cos(P),cG=bN.sin(P),ce=bN.cos(cE),Q=bN.sin(cE),cU=bN.tan(K/4),be=4/3*cO*cU,cB=4/3*cV*cU,J=[cM,cZ],U=[cM+be*cG,cZ-cB*at],H=[cS+be*Q,cW-cB*ce],bt=[cS,cW];if(U[0]=2*J[0]-U[0],U[1]=2*J[1]-U[1],cL){return[U,H,bt][bY](cP)}cP=[U,H,bt][bY](cP).join()[bn](",");for(var q=[],cF=0,n=cP.length;cF<n;cF++){q[cF]=cF%2?cX(cP[cF-1],cP[cF],cY).y:cX(cP[cF],cP[cF+1],cY).x}return q},bU=function(x,v,j,q,m,w,y,k,p){var u=1-p;return{x:bO(u,3)*x+3*bO(u,2)*p*j+3*u*p*p*m+bO(p,3)*y,y:bO(u,3)*v+3*bO(u,2)*p*q+3*u*p*p*w+bO(p,3)*k}},aO=br(function(F,A,j,w,q,D,G,m){var v=q-2*j+F-(G-2*q+j),x=2*(j-F)-2*(q-j),E=F-j,C=(-x+bN.sqrt(x*x-4*v*E))/2/v,z=(-x-bN.sqrt(x*x-4*v*E))/2/v,k=[A,m],B=[F,G],y;return b8(C)>"1e12"&&(C=0.5),b8(z)>"1e12"&&(z=0.5),C>0&&C<1&&(y=bU(F,A,j,w,q,D,G,m,C),B.push(y.x),k.push(y.y)),z>0&&z<1&&(y=bU(F,A,j,w,q,D,G,m,z),B.push(y.x),k.push(y.y)),v=D-2*w+A-(m-2*D+w),x=2*(w-A)-2*(D-w),E=A-w,C=(-x+bN.sqrt(x*x-4*v*E))/2/v,z=(-x-bN.sqrt(x*x-4*v*E))/2/v,b8(C)>"1e12"&&(C=0.5),b8(z)>"1e12"&&(z=0.5),C>0&&C<1&&(y=bU(F,A,j,w,q,D,G,m,C),B.push(y.x),k.push(y.y)),z>0&&z<1&&(y=bU(F,A,j,w,q,D,G,m,z),B.push(y.x),k.push(y.y)),{min:{x:b9[bc](0,B),y:b9[bc](0,k)},max:{x:bP[bc](0,B),y:bP[bc](0,k)}}}),ao=bD._path2curve=br(function(z,L){var B=!L&&bE(z);if(!L&&B.curve){return aX(B.curve)}for(var H=cw(z),E=L&&cw(L),O={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},D=(function(m,p,o){var l,s,h={T:1,Q:1};if(!m){return["C",p.x,p.y,p.x,p.y,p.x,p.y]}switch(!(m[0] in h)&&(p.qx=p.qy=null),m[0]){case"M":p.X=m[1],p.Y=m[2];break;case"A":m=["C"][bY](cb[bc](0,[p.x,p.y][bY](m.slice(1))));break;case"S":"C"==o||"S"==o?(l=2*p.x-p.bx,s=2*p.y-p.by):(l=p.x,s=p.y),m=["C",l,s][bY](m.slice(1));break;case"T":"Q"==o||"T"==o?(p.qx=2*p.x-p.qx,p.qy=2*p.y-p.qy):(p.qx=p.x,p.qy=p.y),m=["C"][bY](a4(p.x,p.y,p.qx,p.qy,m[1],m[2]));break;case"Q":p.qx=m[1],p.qy=m[2],m=["C"][bY](a4(p.x,p.y,m[1],m[2],m[3],m[4]));break;case"L":m=["C"][bY](cm(p.x,p.y,m[1],m[2]));break;case"H":m=["C"][bY](cm(p.x,p.y,m[1],p.y));break;case"V":m=["C"][bY](cm(p.x,p.y,p.x,m[1]));break;case"Z":m=["C"][bY](cm(p.x,p.y,p.X,p.Y))}return m}),G=function(h,l){if(h[l].length>7){h[l].shift();for(var i=h[l];i.length;){w[l]="A",E&&(N[l]="A"),h.splice(l++,0,["C"][bY](i.splice(0,6)))}h.splice(l,1),J=bP(H.length,E&&E.length||0)}},I=function(i,n,m,h,l){i&&n&&"M"==i[l][0]&&"M"!=n[l][0]&&(n.splice(l,0,["M",h.x,h.y]),m.bx=0,m.by=0,m.x=i[l][1],m.y=i[l][2],J=bP(H.length,E&&E.length||0))},w=[],N=[],K="",C="",M=0,J=bP(H.length,E&&E.length||0);M<J;M++){H[M]&&(K=H[M][0]),"C"!=K&&(w[M]=K,M&&(C=w[M-1])),H[M]=D(H[M],O,C),"A"!=w[M]&&"C"==K&&(w[M]="C"),G(H,M),E&&(E[M]&&(K=E[M][0]),"C"!=K&&(N[M]=K,M&&(C=N[M-1])),E[M]=D(E[M],A,C),"A"!=N[M]&&"C"==K&&(N[M]="C"),G(E,M)),I(H,E,O,A,M),I(E,H,A,O,M);var q=H[M],k=E&&E[M],j=q.length,F=E&&k.length;O.x=q[j-2],O.y=q[j-1],O.bx=aC(q[j-4])||O.x,O.by=aC(q[j-3])||O.y,A.bx=E&&(aC(k[F-4])||A.x),A.by=E&&(aC(k[F-3])||A.y),A.x=E&&k[F-2],A.y=E&&k[F-1]}return E||(B.curve=aX(H)),E?[H,E]:H},null,aX),bp=bD._parseDots=br(function(x){for(var e=[],p=0,k=x.length;p<k;p++){var v={},y=x[p].match(/^([^:]*):?([\d\.]*)/);if(v.color=bD.getRGB(y[1]),v.color.error){return null}v.opacity=v.color.opacity,v.color=v.color.hex,y[2]&&(v.offset=y[2]+"%"),e.push(v)}for(p=1,k=e.length-1;p<k;p++){if(!e[p].offset){for(var j=aC(e[p-1].offset||0),m=0,q=p+1;q<k;q++){if(e[q].offset){m=e[q].offset;break}}m||(m=100,q=k),m=aC(m);for(var w=(m-j)/(q-p+1);p<q;p++){j+=w,e[p].offset=j+"%"}}}return e}),a7=bD._tear=function(h,i){h==i.top&&(i.top=h.prev),h==i.bottom&&(i.bottom=h.next),h.next&&(h.next.prev=h.prev),h.prev&&(h.prev.next=h.next)},aH=bD._tofront=function(h,i){i.top!==h&&(a7(h,i),h.next=null,h.prev=i.top,i.top.next=h,i.top=h)},a3=bD._toback=function(h,i){i.bottom!==h&&(a7(h,i),h.next=i.bottom,h.prev=null,i.bottom.prev=h,i.bottom=h)},aZ=bD._insertafter=function(h,j,i){a7(h,i),j==i.top&&(i.top=h),j.next&&(j.next.prev=h),h.next=j.next,h.prev=j,j.next=h},ay=bD._insertbefore=function(h,j,i){a7(h,i),j==i.bottom&&(i.bottom=h),j.prev&&(j.prev.next=h),h.prev=j.prev,j.prev=h,h.next=j},cj=bD.toMatrix=function(j,l){var k=aD(j),h={_:{transform:bV},getBBox:function(){return k}};return aQ(h,l),h.matrix},co=bD.transformPath=function(h,i){return aT(h,cj(h,i))},aQ=bD._extractTransform=function(B,D){if(null==D){return B._.transform}D=b7(D).replace(/\.{3}|\u2026/g,B._.transform||bV);var K=bD.parseTransformString(D),G=0,Q=0,C=0,F=1,I=1,L=B._,A=new bB;if(L.transform=K||[],K){for(var O=0,M=K.length;O<M;O++){var E=K[O],N=E.length,z=b7(E[0]).toLowerCase(),j=E[0]!=z,e=j?A.invert():0,H,P,R,q,J;"t"==z&&3==N?j?(H=e.x(0,0),P=e.y(0,0),R=e.x(E[1],E[2]),q=e.y(E[1],E[2]),A.translate(R-H,q-P)):A.translate(E[1],E[2]):"r"==z?2==N?(J=J||B.getBBox(1),A.rotate(E[1],J.x+J.width/2,J.y+J.height/2),G+=E[1]):4==N&&(j?(R=e.x(E[2],E[3]),q=e.y(E[2],E[3]),A.rotate(E[1],R,q)):A.rotate(E[1],E[2],E[3]),G+=E[1]):"s"==z?2==N||3==N?(J=J||B.getBBox(1),A.scale(E[1],E[N-1],J.x+J.width/2,J.y+J.height/2),F*=E[1],I*=E[N-1]):5==N&&(j?(R=e.x(E[3],E[4]),q=e.y(E[3],E[4]),A.scale(E[1],E[2],R,q)):A.scale(E[1],E[2],E[3],E[4]),F*=E[1],I*=E[2]):"m"==z&&7==N&&A.add(E[1],E[2],E[3],E[4],E[5],E[6]),L.dirtyT=1,B.matrix=A}}B.matrix=A,L.sx=F,L.sy=I,L.deg=G,L.dx=Q=A.e,L.dy=C=A.f,1==F&&1==I&&!G&&L.bbox?(L.bbox.x+=+Q,L.bbox.y+=+C):L.dirtyT=1},bK=function(h){var i=h[0];switch(i.toLowerCase()){case"t":return[i,0,0];case"m":return[i,1,0,0,1,0,0];case"r":return 4==h.length?[i,0,h[2],h[3]]:[i,0];case"s":return 5==h.length?[i,1,1,h[3],h[4]]:3==h.length?[i,1,1]:[i,1]}},cA=bD._equaliseTransform=function(x,e){e=b7(e).replace(/\.{3}|\u2026/g,x),x=bD.parseTransformString(x)||[],e=bD.parseTransformString(e)||[];for(var p=bP(x.length,e.length),k=[],v=[],y=0,j,m,q,w;y<p;y++){if(q=x[y]||bK(e[y]),w=e[y]||bK(q),q[0]!=w[0]||"r"==q[0].toLowerCase()&&(q[2]!=w[2]||q[3]!=w[3])||"s"==q[0].toLowerCase()&&(q[3]!=w[3]||q[4]!=w[4])){return}for(k[y]=[],v[y]=[],j=0,m=bP(q.length,w.length);j<m;j++){j in q&&(k[y][j]=q[j]),j in w&&(v[y][j]=w[j])}}return{from:k,to:v}};bD._getContainer=function(j,k,h,l){var e;if(e=null!=l||bD.is(j,"object")?j:bS.doc.getElementById(j),null!=e){return e.tagName?null==k?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:k,height:h}:{container:1,x:j,y:k,width:h,height:l}}},bD.pathToRelative=ba,bD._engine={},bD.path2curve=ao,bD.matrix=function(k,m,l,j,o,h){return new bB(k,m,l,j,o,h)},function(h){function j(i){return i[0]*i[0]+i[1]*i[1]}function e(i){var k=bN.sqrt(j(i));i[0]&&(i[0]/=k),i[1]&&(i[1]/=k)}h.add=function(C,y,k,v,p,A){var D=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],q=[[C,k,p],[y,v,A],[0,0,1]],w,B,z,x;for(C&&C instanceof bB&&(q=[[C.a,C.c,C.e],[C.b,C.d,C.f],[0,0,1]]),w=0;w<3;w++){for(B=0;B<3;B++){for(x=0,z=0;z<3;z++){x+=m[w][z]*q[z][B]}D[w][B]=x}}this.a=D[0][0],this.b=D[1][0],this.c=D[0][1],this.d=D[1][1],this.e=D[0][2],this.f=D[1][2]},h.invert=function(){var i=this,k=i.a*i.d-i.b*i.c;return new bB(i.d/k,-i.b/k,-i.c/k,i.a/k,(i.c*i.f-i.d*i.e)/k,(i.b*i.e-i.a*i.f)/k)},h.clone=function(){return new bB(this.a,this.b,this.c,this.d,this.e,this.f)},h.translate=function(i,k){this.add(1,0,0,1,i,k)},h.scale=function(l,n,m,k){null==n&&(n=l),(m||k)&&this.add(1,0,0,1,m,k),this.add(l,0,0,n,0,0),(m||k)&&this.add(1,0,0,1,-m,-k)},h.rotate=function(m,o,l){m=bD.rad(m),o=o||0,l=l||0;var p=+bN.cos(m).toFixed(9),k=+bN.sin(m).toFixed(9);this.add(p,k,-k,p,o,l),this.add(1,0,0,1,-o,-l)},h.x=function(i,k){return i*this.a+k*this.c+this.e},h.y=function(i,k){return i*this.b+k*this.d+this.f},h.get=function(i){return +this[b7.fromCharCode(97+i)].toFixed(4)},h.toString=function(){return bD.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},h.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},h.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},h.split=function(){var k={};k.dx=this.e,k.dy=this.f;var m=[[this.a,this.c],[this.b,this.d]];k.scalex=bN.sqrt(j(m[0])),e(m[0]),k.shear=m[0][0]*m[1][0]+m[0][1]*m[1][1],m[1]=[m[1][0]-m[0][0]*k.shear,m[1][1]-m[0][1]*k.shear],k.scaley=bN.sqrt(j(m[1])),e(m[1]),k.shear/=k.scaley;var i=-m[0][1],l=m[1][1];return l<0?(k.rotate=bD.deg(bN.acos(l)),i<0&&(k.rotate=360-k.rotate)):k.rotate=bD.deg(bN.asin(i)),k.isSimple=!(+k.shear.toFixed(9)||k.scalex.toFixed(9)!=k.scaley.toFixed(9)&&k.rotate),k.isSuperSimple=!+k.shear.toFixed(9)&&k.scalex.toFixed(9)==k.scaley.toFixed(9)&&!k.rotate,k.noRotation=!+k.shear.toFixed(9)&&!k.rotate,k},h.toTransformString=function(i){var k=i||this[bn]();return k.isSimple?(k.scalex=+k.scalex.toFixed(4),k.scaley=+k.scaley.toFixed(4),k.rotate=+k.rotate.toFixed(4),(k.dx||k.dy?"t"+[k.dx,k.dy]:bV)+(1!=k.scalex||1!=k.scaley?"s"+[k.scalex,k.scaley,0,0]:bV)+(k.rotate?"r"+[k.rotate,0,0]:bV)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(bB.prototype);for(var aG=function(){this.returnValue=!1},aA=function(){return this.originalEvent.preventDefault()},by=function(){this.cancelBubble=!0},aW=function(){return this.originalEvent.stopPropagation()},bb=function(h){var j=bS.doc.documentElement.scrollTop||bS.doc.body.scrollTop,i=bS.doc.documentElement.scrollLeft||bS.doc.body.scrollLeft;return{x:h.clientX+i,y:h.clientY+j}},a9=function(){return bS.doc.addEventListener?function(k,m,l,j){var o=function(i){var n=bb(i);return l.call(j,i,n.x,n.y)};if(k.addEventListener(m,o,!1),ca&&bQ[m]){var h=function(q){for(var v=bb(q),i=q,p=0,u=q.targetTouches&&q.targetTouches.length;p<u;p++){if(q.targetTouches[p].target==k){q=q.targetTouches[p],q.originalEvent=i,q.preventDefault=aA,q.stopPropagation=aW;break}}return l.call(j,q,v.x,v.y)};k.addEventListener(bQ[m],h,!1)}return function(){return k.removeEventListener(m,o,!1),ca&&bQ[m]&&k.removeEventListener(bQ[m],h,!1),!0}}:bS.doc.attachEvent?function(k,m,l,j){var o=function(p){p=p||bS.win.event;var u=bS.doc.documentElement.scrollTop||bS.doc.body.scrollTop,v=bS.doc.documentElement.scrollLeft||bS.doc.body.scrollLeft,i=p.clientX+v,q=p.clientY+u;return p.preventDefault=p.preventDefault||aG,p.stopPropagation=p.stopPropagation||by,l.call(j,p,i,q)};k.attachEvent("on"+m,o);var h=function(){return k.detachEvent("on"+m,o),!0};return h}:void 0}(),aN=[],ar=function(z){for(var j=z.clientX,w=z.clientY,q=bS.doc.documentElement.scrollTop||bS.doc.body.scrollTop,C=bS.doc.documentElement.scrollLeft||bS.doc.body.scrollLeft,E,m=aN.length;m--;){if(E=aN[m],ca&&z.touches){for(var v=z.touches.length,x;v--;){if(x=z.touches[v],x.identifier==E.el._drag.id){j=x.clientX,w=x.clientY,(z.originalEvent?z.originalEvent:z).preventDefault();break}}}else{z.preventDefault()}var D=E.el.node,B,y=D.nextSibling,k=D.parentNode,A=D.style.display;bS.win.opera&&k.removeChild(D),D.style.display="none",B=E.el.paper.getElementByPoint(j,w),D.style.display=A,bS.win.opera&&(y?k.insertBefore(D,y):k.appendChild(D)),B&&bk("raphael.drag.over."+E.el.id,E.el,B),j+=C,w+=q,bk("raphael.drag.move."+E.el.id,E.move_scope||E.el,j-E.el._drag.x,w-E.el._drag.y,j,w,z)}},ac=function(h){bD.unmousemove(ar).unmouseup(ac);for(var e=aN.length,j;e--;){j=aN[e],j.el._drag={},bk("raphael.drag.end."+j.el.id,j.end_scope||j.start_scope||j.move_scope||j.el,h)}aN=[]},cv=bD.el={},cs=cd.length;cs--;){!function(e){bD[e]=cv[e]=function(j,h){return bD.is(j,"function")&&(this.events=this.events||[],this.events.push({name:e,f:j,unbind:a9(this.shape||this.node||bS.doc,e,j,h||this)})),this},bD["un"+e]=cv["un"+e]=function(j){for(var h=this.events||[],k=h.length;k--;){h[k].name!=e||!bD.is(j,"undefined")&&h[k].f!=j||(h[k].unbind(),h.splice(k,1),!h.length&&delete this.events)}return this}}(cd[cs])}cv.data=function(j,h){var k=ai[this.id]=ai[this.id]||{};if(0==arguments.length){return k}if(1==arguments.length){if(bD.is(j,"object")){for(var e in j){j[ci](e)&&this.data(e,j[e])}return this}return bk("raphael.data.get."+this.id,this,k[j],j),k[j]}return k[j]=h,bk("raphael.data.set."+this.id,this,h,j),this},cv.removeData=function(e){return null==e?ai[this.id]={}:ai[this.id]&&delete ai[this.id][e],this},cv.getData=function(){return bm(ai[this.id]||{})},cv.hover=function(j,l,k,h){return this.mouseover(j,k).mouseout(l,h||k)},cv.unhover=function(h,i){return this.unmouseover(h).unmouseout(i)};var b5=[];cv.drag=function(m,j,q,h,k,p){function e(i){(i.originalEvent||i).preventDefault();var o=i.clientX,n=i.clientY,x=bS.doc.documentElement.scrollTop||bS.doc.body.scrollTop,s=bS.doc.documentElement.scrollLeft||bS.doc.body.scrollLeft;if(this._drag.id=i.identifier,ca&&i.touches){for(var v=i.touches.length,w;v--;){if(w=i.touches[v],this._drag.id=w.identifier,w.identifier==this._drag.id){o=w.clientX,n=w.clientY;break}}}this._drag.x=o+s,this._drag.y=n+x,!aN.length&&bD.mousemove(ar).mouseup(ac),aN.push({el:this,move_scope:h,start_scope:k,end_scope:p}),j&&bk.on("raphael.drag.start."+this.id,j),m&&bk.on("raphael.drag.move."+this.id,m),q&&bk.on("raphael.drag.end."+this.id,q),bk("raphael.drag.start."+this.id,k||h||this,i.clientX+s,i.clientY+x,i)}return this._drag={},b5.push({el:this,start:e}),this.mousedown(e),this},cv.onDragOver=function(h){h?bk.on("raphael.drag.over."+this.id,h):bk.unbind("raphael.drag.over."+this.id)},cv.undrag=function(){for(var e=b5.length;e--;){b5[e].el==this&&(this.unmousedown(b5[e].start),b5.splice(e,1),bk.unbind("raphael.drag.*."+this.id))}!b5.length&&bD.unmousemove(ar).unmouseup(ac),aN=[]},b1.circle=function(h,j,e){var k=bD._engine.circle(this,h||0,j||0,e||0);return this.__set__&&this.__set__.push(k),k},b1.rect=function(j,l,h,m,e){var k=bD._engine.rect(this,j||0,l||0,h||0,m||0,e||0);return this.__set__&&this.__set__.push(k),k},b1.ellipse=function(j,k,h,l){var e=bD._engine.ellipse(this,j||0,k||0,h||0,l||0);return this.__set__&&this.__set__.push(e),e},b1.path=function(e){e&&!bD.is(e,bL)&&!bD.is(e[0],bW)&&(e+=bV);var h=bD._engine.path(bD.format[bc](bD,arguments),this);return this.__set__&&this.__set__.push(h),h},b1.image=function(j,l,h,m,e){var k=bD._engine.image(this,j||"about:blank",l||0,h||0,m||0,e||0);return this.__set__&&this.__set__.push(k),k},b1.text=function(h,j,e){var k=bD._engine.text(this,h||0,j||0,b7(e));return this.__set__&&this.__set__.push(k),k},b1.set=function(e){!bD.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var h=new cl(e);return this.__set__&&this.__set__.push(h),h.paper=this,h.type="set",h},b1.setStart=function(e){this.__set__=e||this.set()},b1.setFinish=function(h){var i=this.__set__;return delete this.__set__,i},b1.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},b1.setSize=function(e,h){return bD._engine.setSize.call(this,e,h)},b1.setViewBox=function(j,k,h,l,e){return bD._engine.setViewBox.call(this,j,k,h,l,e)},b1.top=b1.bottom=null,b1.raphael=bD;var ag=function(v){var q=v.getBoundingClientRect(),h=v.ownerDocument,p=h.body,k=h.documentElement,u=k.clientTop||p.clientTop||0,w=k.clientLeft||p.clientLeft||0,j=q.top+(bS.win.pageYOffset||k.scrollTop||p.scrollTop)-u,m=q.left+(bS.win.pageXOffset||k.scrollLeft||p.scrollLeft)-w;return{y:j,x:m}};b1.getElementByPoint=function(k,p){var m=this,j=m.canvas,u=bS.doc.elementFromPoint(k,p);if(bS.win.opera&&"svg"==u.tagName){var h=ag(j),l=j.createSVGRect();l.x=k-h.x,l.y=p-h.y,l.width=l.height=1;var q=j.getIntersectionList(l,null);q.length&&(u=q[q.length-1])}if(!u){return null}for(;u.parentNode&&u!=j.parentNode&&!u.raphael;){u=u.parentNode}return u==m.canvas.parentNode&&(u=j),u=u&&u.raphael?m.getById(u.raphaelid):null},b1.getElementsByBBox=function(e){var h=this.set();return this.forEach(function(j){bD.isBBoxIntersect(j.getBBox(),e)&&h.push(j)}),h},b1.getById=function(h){for(var i=this.bottom;i;){if(i.id==h){return i}i=i.next}return null},b1.forEach=function(h,j){for(var i=this.bottom;i;){if(h.call(j,i)===!1){return this}i=i.next}return this},b1.getElementsByPoint=function(h,j){var i=this.set();return this.forEach(function(e){e.isPointInside(h,j)&&i.push(e)}),i},cv.isPointInside=function(h,j){var e=this.realPath=am[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(e=bD.transformPath(e,this.attr("transform"))),bD.isPointInsidePath(e,h,j)},cv.getBBox=function(h){if(this.removed){return{}}var i=this._;return h?(!i.dirty&&i.bboxwt||(this.realPath=am[this.type](this),i.bboxwt=aD(this.realPath),i.bboxwt.toString=bg,i.dirty=0),i.bboxwt):((i.dirty||i.dirtyT||!i.bbox)&&(!i.dirty&&this.realPath||(i.bboxwt=0,this.realPath=am[this.type](this)),i.bbox=aD(aT(this.realPath,this.matrix)),i.bbox.toString=bg,i.dirty=i.dirtyT=0),i.bbox)},cv.clone=function(){if(this.removed){return null}var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},cv.glow=function(k){if("text"==this.type){return null}k=k||{};var o={width:(k.width||10)+(+this.attr("stroke-width")||1),fill:k.fill||!1,opacity:null==k.opacity?0.5:k.opacity,offsetx:k.offsetx||0,offsety:k.offsety||0,color:k.color||"#000"},m=o.width/2,j=this.paper,p=j.set(),h=this.realPath||am[this.type](this);h=this.matrix?aT(h,this.matrix):h;for(var l=1;l<m+1;l++){p.push(j.path(h).attr({stroke:o.color,fill:o.fill?o.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(o.width/m*l).toFixed(3),opacity:+(o.opacity/m).toFixed(3)}))}return p.insertBefore(this).translate(o.offsetx,o.offsety)};var al={},ak=function(q,e,k,j,m,v,h,p,l){return null==l?bv(q,e,k,j,m,v,h,p):bD.findDotsAtSegment(q,e,k,j,m,v,h,p,bA(q,e,k,j,m,v,h,p,l))},aM=function(e,h){return function(v,m,B){v=ao(v);for(var D,k,q,w,C="",A={},y,j=0,z=0,x=v.length;z<x;z++){if(q=v[z],"M"==q[0]){D=+q[1],k=+q[2]}else{if(w=ak(D,k,q[1],q[2],q[3],q[4],q[5],q[6]),j+w>m){if(h&&!A.start){if(y=ak(D,k,q[1],q[2],q[3],q[4],q[5],q[6],m-j),C+=["C"+y.start.x,y.start.y,y.m.x,y.m.y,y.x,y.y],B){return C}A.start=C,C=["M"+y.x,y.y+"C"+y.n.x,y.n.y,y.end.x,y.end.y,q[5],q[6]].join(),j+=w,D=+q[5],k=+q[6];continue}if(!e&&!h){return y=ak(D,k,q[1],q[2],q[3],q[4],q[5],q[6],m-j),{x:y.x,y:y.y,alpha:y.alpha}}}j+=w,D=+q[5],k=+q[6]}C+=q.shift()+q}return A.end=C,y=e?j:h?A:bD.findDotsAtSegment(D,k,q[0],q[1],q[2],q[3],q[4],q[5],1),y.alpha&&(y={x:y.x,y:y.y,alpha:y.alpha}),y}},aF=aM(1),ab=aM(),aV=aM(0,1);bD.getTotalLength=aF,bD.getPointAtLength=ab,bD.getSubpath=function(j,l,k){if(this.getTotalLength(j)-k<0.000001){return aV(j,l).end}var h=aV(j,k,1);return l?aV(h,l).end:h},cv.getTotalLength=function(){var e=this.getPath();if(e){return this.node.getTotalLength?this.node.getTotalLength():aF(e)}},cv.getPointAtLength=function(h){var i=this.getPath();if(i){return ab(i,h)}},cv.getPath=function(){var e,h=bD._getPath[this.type];if("text"!=this.type&&"set"!=this.type){return h&&(e=h(this)),e}},cv.getSubpath=function(h,j){var e=this.getPath();if(e){return bD.getSubpath(e,h,j)}};var cu=bD.easing_formulas={linear:function(e){return e},"<":function(e){return bO(e,1.7)},">":function(e){return bO(e,0.48)},"<>":function(k){var p=0.48-k/1.04,m=bN.sqrt(0.1734+p*p),j=m-p,u=bO(b8(j),1/3)*(j<0?-1:1),h=-m-p,l=bO(b8(h),1/3)*(h<0?-1:1),q=u+l+0.5;return 3*(1-q)*q*q+q*q*q},backIn:function(h){var i=1.70158;return h*h*((i+1)*h-i)},backOut:function(h){h-=1;var i=1.70158;return h*h*((i+1)*h+i)+1},elastic:function(e){return e==!!e?e:bO(2,-10*e)*bN.sin((e-0.075)*(2*bR)/0.3)+1},bounce:function(j){var l=7.5625,k=2.75,h;return j<1/k?h=l*j*j:j<2/k?(j-=1.5/k,h=l*j*j+0.75):j<2.5/k?(j-=2.25/k,h=l*j*j+0.9375):(j-=2.625/k,h=l*j*j+0.984375),h}};cu.easeIn=cu["ease-in"]=cu["<"],cu.easeOut=cu["ease-out"]=cu[">"],cu.easeInOut=cu["ease-in-out"]=cu["<>"],cu["back-in"]=cu.backIn,cu["back-out"]=cu.backOut;var aq=[],aY=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},aP=function(){for(var F=+new Date,N=0;N<aq.length;N++){var J=aq[N];if(!J.el.removed&&!J.paused){var T=F-J.start,D=J.ms,I=J.easing,L=J.from,O=J.diff,A=J.to,S=J.t,Q=J.el,H={},R,P={},z;if(J.initstatus?(T=(J.initstatus*J.anim.top-J.prev)/(J.percent-J.prev)*D,J.status=J.initstatus,delete J.initstatus,J.stop&&aq.splice(N--,1)):J.status=(J.prev+(J.percent-J.prev)*(T/D))/J.anim.top,!(T<0)){if(T<D){var j=I(T/D);for(var e in L){if(L[ci](e)){switch(a8[e]){case cr:R=+L[e]+j*D*O[e];break;case"colour":R="rgb("+[a5(bs(L[e].r+j*D*O[e].r)),a5(bs(L[e].g+j*D*O[e].g)),a5(bs(L[e].b+j*D*O[e].b))].join(",")+")";break;case"path":R=[];for(var K=0,U=L[e].length;K<U;K++){R[K]=[L[e][K][0]];for(var q=1,M=L[e][K].length;q<M;q++){R[K][q]=+L[e][K][q]+j*D*O[e][K][q]}R[K]=R[K].join(bx)}R=R.join(bx);break;case"transform":if(O[e].real){for(R=[],K=0,U=L[e].length;K<U;K++){for(R[K]=[L[e][K][0]],q=1,M=L[e][K].length;q<M;q++){R[K][q]=L[e][K][q]+j*D*O[e][K][q]}}}else{var G=function(h){return +L[e][h]+j*D*O[e][h]};R=[["m",G(0),G(1),G(2),G(3),G(4),G(5)]]}break;case"csv":if("clip-rect"==e){for(R=[],K=4;K--;){R[K]=+L[e][K]+j*D*O[e][K]}}break;default:var E=[][bY](L[e]);for(R=[],K=Q.paper.customAttributes[e].length;K--;){R[K]=+E[K]+j*D*O[e][K]}}H[e]=R}}Q.attr(H),function(l,k,h){setTimeout(function(){bk("raphael.anim.frame."+l,k,h)})}(Q.id,Q,J.anim)}else{if(function(k,h,l){setTimeout(function(){bk("raphael.anim.frame."+h.id,h,l),bk("raphael.anim.finish."+h.id,h,l),bD.is(k,"function")&&k.call(h)})}(J.callback,Q,J.anim),Q.attr(A),aq.splice(N--,1),J.repeat>1&&!J.next){for(z in A){A[ci](z)&&(P[z]=J.totalOrigin[z])}J.el.attr(P),bH(J.anim,J.el,J.anim.percents[0],null,J.totalOrigin,J.repeat-1)}J.next&&!J.stop&&bH(J.anim,J.el,J.next,null,J.totalOrigin,J.repeat)}}}}aq.length&&aY(aP)},a5=function(e){return e>255?255:e<0?0:e};cv.animateWith=function(z,e,p,k,x,A){var j=this;if(j.removed){return A&&A.call(j),j}var m=p instanceof bu?p:bD.animation(p,k,x,A),q,y;bH(m,j,m.percents[0],null,j.attr());for(var w=0,v=aq.length;w<v;w++){if(aq[w].anim==e&&aq[w].el==z){aq[v-1].start=aq[w].start;break}}return j},cv.onAnimation=function(h){return h?bk.on("raphael.anim.frame."+this.id,h):bk.unbind("raphael.anim.frame."+this.id),this},bu.prototype.delay=function(h){var i=new bu(this.anim,this.ms);return i.times=this.times,i.del=+h||0,i},bu.prototype.repeat=function(h){var i=new bu(this.anim,this.ms);return i.del=this.del,i.times=bN.floor(bP(h,0))||1,i},bD.animation=function(x,e,p,k){if(x instanceof bu){return x}!bD.is(p,"function")&&p||(k=k||p||null,p=null),x=Object(x),e=+e||0;var v={},y,j;for(j in x){x[ci](j)&&aC(j)!=j&&aC(j)+"%"!=j&&(y=!0,v[j]=x[j])}if(y){return p&&(v.easing=p),k&&(v.callback=k),new bu({100:v},e)}if(k){var m=0;for(var q in x){var w=ax(q);x[ci](q)&&w>m&&(m=w)}m+="%",!x[m].callback&&(x[m].callback=k)}return new bu(x,e)},cv.animate=function(j,l,h,m){var e=this;if(e.removed){return m&&m.call(e),e}var k=j instanceof bu?j:bD.animation(j,l,h,m);return bH(k,e,k.percents[0],null,e.attr()),e},cv.setTime=function(h,i){return h&&null!=i&&this.status(h,b9(i,h.ms)/h.ms),this},cv.status=function(k,m){var l=[],j=0,o,h;if(null!=m){return bH(k,this,-1,b9(m,1)),this}for(o=aq.length;j<o;j++){if(h=aq[j],h.el.id==this.id&&(!k||h.anim==k)){if(k){return h.status}l.push({anim:h.anim,status:h.status})}}return k?0:l},cv.pause=function(i){for(var h=0;h<aq.length;h++){aq[h].el.id!=this.id||i&&aq[h].anim!=i||bk("raphael.anim.pause."+this.id,this,aq[h].anim)!==!1&&(aq[h].paused=!0)}return this},cv.resume=function(k){for(var j=0;j<aq.length;j++){if(aq[j].el.id==this.id&&(!k||aq[j].anim==k)){var h=aq[j];bk("raphael.anim.resume."+this.id,this,h.anim)!==!1&&(delete h.paused,this.status(h.anim,h.status))}}return this},cv.stop=function(i){for(var h=0;h<aq.length;h++){aq[h].el.id!=this.id||i&&aq[h].anim!=i||bk("raphael.anim.stop."+this.id,this,aq[h].anim)!==!1&&aq.splice(h--,1)}return this},bk.on("raphael.remove",bJ),bk.on("raphael.clear",bJ),cv.toString=function(){return"Raphaël’s object"};var cl=function(h){if(this.items=[],this.length=0,this.type="set",h){for(var j=0,i=h.length;j<i;j++){!h[j]||h[j].constructor!=cv.constructor&&h[j].constructor!=cl||(this[this.items.length]=this.items[this.items.length]=h[j],this.length++)}}},az=cl.prototype;az.push=function(){for(var j,l,k=0,h=arguments.length;k<h;k++){j=arguments[k],!j||j.constructor!=cv.constructor&&j.constructor!=cl||(l=this.items.length,this[l]=this.items[l]=j,this.length++)}return this},az.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},az.forEach=function(j,l){for(var k=0,h=this.items.length;k<h;k++){if(j.call(l,this.items[k],k)===!1){return this}}return this};for(var aj in cv){cv[ci](aj)&&(az[aj]=function(e){return function(){var h=arguments;return this.forEach(function(i){i[e][bc](i,h)})}}(aj))}return az.attr=function(j,l){if(j&&bD.is(j,bW)&&bD.is(j[0],"object")){for(var h=0,m=j.length;h<m;h++){this.items[h].attr(j[h])}}else{for(var e=0,k=this.items.length;e<k;e++){this.items[e].attr(j,l)}}return this},az.clear=function(){for(;this.length;){this.pop()}},az.splice=function(k,p,m){k=k<0?bP(this.length+k,0):k,p=bP(0,b9(this.length-k,p));var j=[],u=[],h=[],l;for(l=2;l<arguments.length;l++){h.push(arguments[l])}for(l=0;l<p;l++){u.push(this[k+l])}for(;l<this.length-k;l++){j.push(this[k+l])}var q=h.length;for(l=0;l<q+j.length;l++){this.items[k+l]=this[k+l]=l<q?h[l]:j[l-q]}for(l=this.items.length=this.length-=p-q;this[l];){delete this[l++]}return new cl(u)},az.exclude=function(h){for(var j=0,i=this.length;j<i;j++){if(this[j]==h){return this.splice(j,1),!0}}},az.animate=function(x,e,p,k){(bD.is(p,"function")||!p)&&(k=p||null);var v=this.items.length,y=v,j,m=this,q;if(!v){return this}k&&(q=function(){!--v&&k.call(m)}),p=bD.is(p,bL)?p:q;var w=bD.animation(x,e,p,q);for(j=this.items[--y].animate(w);y--;){this.items[y]&&!this.items[y].removed&&this.items[y].animateWith(j,w,w),this.items[y]&&!this.items[y].removed||v--}return this},az.insertAfter=function(h){for(var i=this.items.length;i--;){this.items[i].insertAfter(h)}return this},az.getBBox=function(){for(var k=[],m=[],l=[],j=[],o=this.items.length;o--;){if(!this.items[o].removed){var h=this.items[o].getBBox();k.push(h.x),m.push(h.y),l.push(h.x+h.width),j.push(h.y+h.height)}}return k=b9[bc](0,k),m=b9[bc](0,m),l=bP[bc](0,l),j=bP[bc](0,j),{x:k,y:m,x2:l,y2:j,width:l-k,height:j-m}},az.clone=function(h){h=this.paper.set();for(var j=0,i=this.items.length;j<i;j++){h.push(this.items[j].clone())}return h},az.toString=function(){return"Raphaël‘s set"},az.glow=function(h){var i=this.paper.set();return this.forEach(function(j,e){var k=j.glow(h);null!=k&&k.forEach(function(l,m){i.push(l)})}),i},az.isPointInside=function(h,j){var i=!1;return this.forEach(function(e){if(e.isPointInside(h,j)){return i=!0,!1}}),i},bD.registerFont=function(k){if(!k.face){return k}this.fonts=this.fonts||{};var o={w:k.w,face:{},glyphs:{}},m=k.face["font-family"];for(var j in k.face){k.face[ci](j)&&(o.face[j]=k.face[j])}if(this.fonts[m]?this.fonts[m].push(o):this.fonts[m]=[o],!k.svg){o.face["units-per-em"]=ax(k.face["units-per-em"],10);for(var p in k.glyphs){if(k.glyphs[ci](p)){var h=k.glyphs[p];if(o.glyphs[p]={w:h.w,k:{},d:h.d&&"M"+h.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},h.k){for(var l in h.k){h[ci](l)&&(o.glyphs[p].k[l]=h.k[l])}}}}}return k},b1.getFont=function(x,e,p,k){if(k=k||"normal",p=p||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,bD.fonts){var v=bD.fonts[x];if(!v){var y=new RegExp("(^|\\s)"+x.replace(/[^\w\d\s+!~.:_-]/g,bV)+"(\\s|$)","i");for(var j in bD.fonts){if(bD.fonts[ci](j)&&y.test(j)){v=bD.fonts[j];break}}}var m;if(v){for(var q=0,w=v.length;q<w&&(m=v[q],m.face["font-weight"]!=e||m.face["font-style"]!=p&&m.face["font-style"]||m.face["font-stretch"]!=k);q++){}}return m}},b1.print=function(A,C,I,F,P,B,E,H){B=B||"middle",E=bP(b9(E||0,1),-1),H=bP(b9(H||1,3),1);var J=b7(I)[bn](bV),z=0,N=0,L=bV,D;if(bD.is(F,"string")&&(F=this.getFont(F)),F){D=(P||16)/F.face["units-per-em"];for(var M=F.face.bbox[bn](bw),K=+M[0],q=M[3]-M[1],j=0,e=+M[1]+("baseline"==B?q+ +F.face.descent:q/2),G=0,O=J.length;G<O;G++){if("\n"==J[G]){z=0,k=0,N=0,j+=q*H}else{var Q=N&&F.glyphs[J[G-1]]||{},k=F.glyphs[J[G]];z+=N?(Q.w||F.w)+(Q.k&&Q.k[J[G]]||0)+F.w*E:0,N=1}k&&k.d&&(L+=bD.transformPath(k.d,["t",z*D,j*D,"s",D,D,K,e,"t",(A-K)/D,(C-e)/D]))}}return this.path(L).attr({fill:"#000",stroke:"none"})},b1.add=function(j){if(bD.is(j,"array")){for(var k=this.set(),h=0,l=j.length,e;h<l;h++){e=j[h]||{},ch[ci](e.type)&&k.push(this[e.type]().attr(e))}}return k},bD.format=function(h,j){var e=bD.is(j,bW)?[0][bY](j):arguments;return h&&bD.is(h,bL)&&e.length-1&&(h=h.replace(cg,function(i,k){return null==e[++k]?bV:e[k]})),h||bV},bD.fullfill=function(){var h=/\{([^\}]+)\}/g,j=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(k,l,e){var m=e;return l.replace(j,function(p,s,q,o,n){s=s||o,m&&(s in m&&(m=m[s]),"function"==typeof m&&n&&(m=m()))}),m=(null==m||m==e?k:m)+""};return function(l,k){return String(l).replace(h,function(m,n){return i(m,n,k)})}}(),bD.ninja=function(){if(cc.was){bS.win.Raphael=cc.is}else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return bD},bD.st=az,bk.on("raphael.DOMload",function(){bh=!0}),function(h,j,e){function k(){/in/.test(h.readyState)?setTimeout(k,9):bD.eve("raphael.DOMload")}null==h.readyState&&h.addEventListener&&(h.addEventListener(j,e=function(){h.removeEventListener(j,e,!1),h.readyState="complete"},!1),h.readyState="loading"),k()}(document,"DOMContentLoaded"),bD}.apply(f,a),!(void 0!==g&&(c.exports=g))},function(c,f,d){var a,g;!function(e){var E="0.5.0",H="hasOwnProperty",j=/[\.\/]/,n=/\s*,\s*/,q="*",G=function(){},B=function(h,l){return h-l},z,i,A={n:{}},w=function(){for(var h=0,l=this.length;h<l;h++){if("undefined"!=typeof this[h]){return this[h]}}},F=function(){for(var h=this.length;--h;){if("undefined"!=typeof this[h]){return this[h]}}},D=Object.prototype.toString,C=String,k=Array.isArray||function(h){return h instanceof Array||"[object Array]"==D.call(h)};eve=function(U,N){var p=A,L=i,I=Array.prototype.slice.call(arguments,2),R=eve.listeners(U),V=0,v=!1,K,M=[],T={},Q=[],P=z,J=[];Q.firstDefined=w,Q.lastDefined=F,z=U,i=0;for(var O=0,S=R.length;O<S;O++){"zIndex" in R[O]&&(M.push(R[O].zIndex),R[O].zIndex<0&&(T[R[O].zIndex]=R[O]))}for(M.sort(B);M[V]<0;){if(K=T[M[V++]],Q.push(K.apply(N,I)),i){return i=L,Q}}for(O=0;O<S;O++){if(K=R[O],"zIndex" in K){if(K.zIndex==M[V]){if(Q.push(K.apply(N,I)),i){break}do{if(V++,K=T[M[V]],K&&Q.push(K.apply(N,I)),i){break}}while(K)}else{T[K.zIndex]=K}}else{if(Q.push(K.apply(N,I)),i){break}}}return i=L,z=P,Q},eve._events=A,eve.listeners=function(N){var J=k(N)?N:N.split(j),h=A,x,o,L,O,v,M,K,I,m=[h],y=[];for(O=0,v=J.length;O<v;O++){for(I=[],M=0,K=m.length;M<K;M++){for(h=m[M].n,o=[h[J[O]],h[q]],L=2;L--;){x=o[L],x&&(I.push(x),y=y.concat(x.f||[]))}}m=I}return y},eve.separator=function(h){h?(h=C(h).replace(/(?=[\.\^\]\[\-])/g,"\\"),h="["+h+"]",j=new RegExp(h)):j=/[\.\/]/},eve.on=function(l,o){if("function"!=typeof o){return function(){}}for(var m=k(l)?k(l[0])?l:[l]:C(l).split(n),h=0,p=m.length;h<p;h++){!function(x){for(var I=k(x)?x:C(x).split(j),v=A,J,u=0,y=I.length;u<y;u++){v=v.n,v=v.hasOwnProperty(I[u])&&v[I[u]]||(v[I[u]]={n:{}})}for(v.f=v.f||[],u=0,y=v.f.length;u<y;u++){if(v.f[u]==o){J=!0;break}}!J&&v.f.push(o)}(m[h])}return function(s){+s==+s&&(o.zIndex=+s)}},eve.f=function(h){var l=[].slice.call(arguments,1);return function(){eve.apply(null,[h,null].concat(l).concat([].slice.call(arguments,0)))}},eve.stop=function(){i=1},eve.nt=function(h){var l=k(z)?z.join("."):z;return h?new RegExp("(?:\\.|\\/|^)"+h+"(?:\\.|\\/|$)").test(l):l},eve.nts=function(){return k(z)?z:z.split(j)},eve.off=eve.unbind=function(M,y){if(!M){return void (eve._events=A={n:{}})}var h=k(M)?k(M[0])?M:[M]:C(M).split(n);if(h.length>1){for(var o=0,m=h.length;o<m;o++){eve.off(h[o],y)}}else{h=k(M)?M:C(M).split(j);var J,L,I,o,m,x,l,s=[A];for(o=0,m=h.length;o<m;o++){for(x=0;x<s.length;x+=I.length-2){if(I=[x,1],J=s[x].n,h[o]!=q){J[h[o]]&&I.push(J[h[o]])}else{for(L in J){J[H](L)&&I.push(J[L])}}s.splice.apply(s,I)}}for(o=0,m=s.length;o<m;o++){for(J=s[o];J.n;){if(y){if(J.f){for(x=0,l=J.f.length;x<l;x++){if(J.f[x]==y){J.f.splice(x,1);break}}!J.f.length&&delete J.f}for(L in J.n){if(J.n[H](L)&&J.n[L].f){var K=J.n[L].f;for(x=0,l=K.length;x<l;x++){if(K[x]==y){K.splice(x,1);break}}!K.length&&delete J.n[L].f}}}else{delete J.f;for(L in J.n){J.n[H](L)&&J.n[L].f&&delete J.n[L].f}}J=J.n}}}},eve.once=function(h,m){var l=function(){return eve.off(h,l),m.apply(this,arguments)};return eve.on(h,l)},eve.version=E,eve.toString=function(){return"You are running Eve "+E},"undefined"!=typeof c&&c.exports?c.exports=eve:(a=[],g=function(){return eve}.apply(f,a),!(void 0!==g&&(c.exports=g)))}(this)},function(c,f,d){var a,g;a=[d(1)],g=function(L){if(!L||L.svg){var af="hasOwnProperty",Q=String,ab=parseFloat,X=parseInt,aj=Math,O=aj.max,W=aj.abs,Z=aj.pow,ac=/[, ]+/,J=L.eve,ah="",ae=" ",V="http://www.w3.org/1999/xlink",ag={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},ad={};L.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var I=function(h,k){if(k){"string"==typeof h&&(h=I(h));for(var e in k){k[af](e)&&("xlink:"==e.substring(0,6)?h.setAttributeNS(V,e.substring(6),Q(k[e])):h.setAttribute(e,Q(k[e])))}}else{h=L._g.doc.createElementNS("http://www.w3.org/2000/svg",h),h.style&&(h.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return h},G=function(M,o){var v="linear",ao=M.id+o,E=0.5,m=0.5,N=M.node,A=M.paper,al=N.style,T=L._g.doc.getElementById(ao);if(!T){if(o=Q(o).replace(L._radial_gradient,function(h,p,k){if(v="radial",p&&k){E=ab(p),m=ab(k);var u=2*(m>0.5)-1;Z(E-0.5,2)+Z(m-0.5,2)>0.25&&(m=aj.sqrt(0.25-Z(E-0.5,2))*u+0.5)&&0.5!=m&&(m=m.toFixed(5)-0.00001*u)}return ah}),o=o.split(/\s*\-\s*/),"linear"==v){var S=o.shift();if(S=-ab(S),isNaN(S)){return null}var an=[0,0,aj.cos(L.rad(S)),aj.sin(L.rad(S))],am=1/(O(W(an[2]),W(an[3]))||1);an[2]*=am,an[3]*=am,an[2]<0&&(an[0]=-an[2],an[2]=0),an[3]<0&&(an[1]=-an[3],an[3]=0)}var s=L._parseDots(o);if(!s){return null}if(ao=ao.replace(/[\(\)\s,\xb0#]/g,"_"),M.gradient&&ao!=M.gradient.id&&(A.defs.removeChild(M.gradient),delete M.gradient),!M.gradient){T=I(v+"Gradient",{id:ao}),M.gradient=T,I(T,"radial"==v?{fx:E,fy:m}:{x1:an[0],y1:an[1],x2:an[2],y2:an[3],gradientTransform:M.matrix.invert()}),A.defs.appendChild(T);for(var l=0,i=s.length;l<i;l++){T.appendChild(I("stop",{offset:s[l].offset?s[l].offset:l?"100%":"0%","stop-color":s[l].color||"#fff","stop-opacity":isFinite(s[l].opacity)?s[l].opacity:1}))}}}return I(N,{fill:Y(ao),opacity:1,"fill-opacity":1}),al.fill=ah,al.opacity=1,al.fillOpacity=1,1},F=function(){var e=document.documentMode;return e&&(9===e||10===e)},Y=function(h){if(F()){return"url('#"+h+"')"}var k=document.location,i=k.protocol+"//"+k.host+k.pathname+k.search;return"url('"+i+"#"+h+"')"},ai=function(h){var i=h.getBBox(1);I(h.pattern,{patternTransform:h.matrix.invert()+" translate("+i.x+","+i.y+")"})},ak=function(aD,az,aH){if("path"==aD.type){for(var at=Q(az).toLowerCase().split("-"),ay=aD.paper,aB=aH?"end":"start",aE=aD.node,aq=aD.attrs,aF=aq["stroke-width"],ax=at.length,ao="classic",an,aA,aG,aI,ap,aC=3,av=3,au=5;ax--;){switch(at[ax]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":ao=at[ax];break;case"wide":av=5;break;case"narrow":av=2;break;case"long":aC=5;break;case"short":aC=2}}if("open"==ao?(aC+=2,av+=2,au+=2,aG=1,aI=aH?4:1,ap={fill:"none",stroke:aq.stroke}):(aI=aG=aC/2,ap={fill:aq.stroke,stroke:"none"}),aD._.arrows?aH?(aD._.arrows.endPath&&ad[aD._.arrows.endPath]--,aD._.arrows.endMarker&&ad[aD._.arrows.endMarker]--):(aD._.arrows.startPath&&ad[aD._.arrows.startPath]--,aD._.arrows.startMarker&&ad[aD._.arrows.startMarker]--):aD._.arrows={},"none"!=ao){var v="raphael-marker-"+ao,aw="raphael-marker-"+aB+ao+aC+av+"-obj"+aD.id;L._g.doc.getElementById(v)?ad[v]++:(ay.defs.appendChild(I(I("path"),{"stroke-linecap":"round",d:ag[ao],id:v})),ad[v]=1);var e=L._g.doc.getElementById(aw),ar;e?(ad[aw]++,ar=e.getElementsByTagName("use")[0]):(e=I(I("marker"),{id:aw,markerHeight:av,markerWidth:aC,orient:"auto",refX:aI,refY:av/2}),ar=I(I("use"),{"xlink:href":"#"+v,transform:(aH?"rotate(180 "+aC/2+" "+av/2+") ":ah)+"scale("+aC/au+","+av/au+")","stroke-width":(1/((aC/au+av/au)/2)).toFixed(4)}),e.appendChild(ar),ay.defs.appendChild(e),ad[aw]=1),I(ar,ap);var am=aG*("diamond"!=ao&&"oval"!=ao);aH?(an=aD._.arrows.startdx*aF||0,aA=L.getTotalLength(aq.path)-am*aF):(an=am*aF,aA=L.getTotalLength(aq.path)-(aD._.arrows.enddx*aF||0)),ap={},ap["marker-"+aB]="url(#"+aw+")",(aA||an)&&(ap.d=L.getSubpath(aq.path,an,aA)),I(aE,ap),aD._.arrows[aB+"Path"]=v,aD._.arrows[aB+"Marker"]=aw,aD._.arrows[aB+"dx"]=am,aD._.arrows[aB+"Type"]=ao,aD._.arrows[aB+"String"]=az}else{aH?(an=aD._.arrows.startdx*aF||0,aA=L.getTotalLength(aq.path)-an):(an=0,aA=L.getTotalLength(aq.path)-(aD._.arrows.enddx*aF||0)),aD._.arrows[aB+"Path"]&&I(aE,{d:L.getSubpath(aq.path,an,aA)}),delete aD._.arrows[aB+"Path"],delete aD._.arrows[aB+"Marker"],delete aD._.arrows[aB+"dx"],delete aD._.arrows[aB+"Type"],delete aD._.arrows[aB+"String"]}for(ap in ad){if(ad[af](ap)&&!ad[ap]){var al=L._g.doc.getElementById(ap);al&&al.parentNode.removeChild(al)}}}},H={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},aa=function(l,p,k){if(p=H[Q(p).toLowerCase()]){for(var v=l.attrs["stroke-width"]||"1",h={round:v,square:v,butt:0}[l.attrs["stroke-linecap"]||k["stroke-linecap"]]||0,m=[],u=p.length;u--;){m[u]=p[u]*v+(u%2?1:-1)*h}I(l.node,{"stroke-dasharray":m.join(",")})}else{I(l.node,{"stroke-dasharray":"none"})}},R=function(at,ax){var ar=at.node,al=at.attrs,av=ar.style.visibility;ar.style.visibility="hidden";for(var aw in ax){if(ax[af](aw)){if(!L._availableAttrs[af](aw)){continue}var au=ax[aw];switch(al[aw]=au,aw){case"blur":at.blur(au);break;case"title":var v=ar.getElementsByTagName("title");if(v.length&&(v=v[0])){v.firstChild.nodeValue=au}else{v=I("title");var aq=L._g.doc.createTextNode(au);v.appendChild(aq),ar.appendChild(v)}break;case"href":case"target":var x=ar.parentNode;if("a"!=x.tagName.toLowerCase()){var ao=I("a");x.insertBefore(ao,ar),ao.appendChild(ar),x=ao}"target"==aw?x.setAttributeNS(V,"show","blank"==au?"new":au):x.setAttributeNS(V,aw,au);break;case"cursor":ar.style.cursor=au;break;case"transform":at.transform(au);break;case"arrow-start":ak(at,au);break;case"arrow-end":ak(at,au,1);break;case"clip-rect":var an=Q(au).split(ac);if(4==an.length){at.clip&&at.clip.parentNode.parentNode.removeChild(at.clip.parentNode);var ap=I("clipPath"),e=I("rect");ap.id=L.createUUID(),I(e,{x:an[0],y:an[1],width:an[2],height:an[3]}),ap.appendChild(e),at.paper.defs.appendChild(ap),I(ar,{"clip-path":"url(#"+ap.id+")"}),at.clip=e}if(!au){var am=ar.getAttribute("clip-path");if(am){var o=L._g.doc.getElementById(am.replace(/(^url\(#|\)$)/g,ah));o&&o.parentNode.removeChild(o),I(ar,{"clip-path":ah}),delete at.clip}}break;case"path":"path"==at.type&&(I(ar,{d:au?al.path=L._pathToAbsolute(au):"M0,0"}),at._.dirty=1,at._.arrows&&("startString" in at._.arrows&&ak(at,at._.arrows.startString),"endString" in at._.arrows&&ak(at,at._.arrows.endString,1)));break;case"width":if(ar.setAttribute(aw,au),at._.dirty=1,!al.fx){break}aw="x",au=al.x;case"x":al.fx&&(au=-al.x-(al.width||0));case"rx":if("rx"==aw&&"rect"==at.type){break}case"cx":ar.setAttribute(aw,au),at.pattern&&ai(at),at._.dirty=1;break;case"height":if(ar.setAttribute(aw,au),at._.dirty=1,!al.fy){break}aw="y",au=al.y;case"y":al.fy&&(au=-al.y-(al.height||0));case"ry":if("ry"==aw&&"rect"==at.type){break}case"cy":ar.setAttribute(aw,au),at.pattern&&ai(at),at._.dirty=1;break;case"r":"rect"==at.type?I(ar,{rx:au,ry:au}):ar.setAttribute(aw,au),at._.dirty=1;break;case"src":"image"==at.type&&ar.setAttributeNS(V,"href",au);break;case"stroke-width":1==at._.sx&&1==at._.sy||(au/=O(W(at._.sx),W(at._.sy))||1),ar.setAttribute(aw,au),al["stroke-dasharray"]&&aa(at,al["stroke-dasharray"],ax),at._.arrows&&("startString" in at._.arrows&&ak(at,at._.arrows.startString),"endString" in at._.arrows&&ak(at,at._.arrows.endString,1));break;case"stroke-dasharray":aa(at,au,ax);break;case"fill":var n=Q(au).match(L._ISURL);if(n){ap=I("pattern");var p=I("image");ap.id=L.createUUID(),I(ap,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),I(p,{x:0,y:0,"xlink:href":n[1]}),ap.appendChild(p),function(i){L._preload(n[1],function(){var l=this.offsetWidth,m=this.offsetHeight;I(i,{width:l,height:m}),I(p,{width:l,height:m})})}(ap),at.paper.defs.appendChild(ap),I(ar,{fill:"url(#"+ap.id+")"}),at.pattern=ap,at.pattern&&ai(at);break}var s=L.getRGB(au);if(s.error){if(("circle"==at.type||"ellipse"==at.type||"r"!=Q(au).charAt())&&G(at,au)){if("opacity" in al||"fill-opacity" in al){var k=L._g.doc.getElementById(ar.getAttribute("fill").replace(/^url\(#|\)$/g,ah));if(k){var S=k.getElementsByTagName("stop");I(S[S.length-1],{"stop-opacity":("opacity" in al?al.opacity:1)*("fill-opacity" in al?al["fill-opacity"]:1)})}}al.gradient=au,al.fill="none";break}}else{delete ax.gradient,delete al.gradient,!L.is(al.opacity,"undefined")&&L.is(ax.opacity,"undefined")&&I(ar,{opacity:al.opacity}),!L.is(al["fill-opacity"],"undefined")&&L.is(ax["fill-opacity"],"undefined")&&I(ar,{"fill-opacity":al["fill-opacity"]})}s[af]("opacity")&&I(ar,{"fill-opacity":s.opacity>1?s.opacity/100:s.opacity});case"stroke":s=L.getRGB(au),ar.setAttribute(aw,s.hex),"stroke"==aw&&s[af]("opacity")&&I(ar,{"stroke-opacity":s.opacity>1?s.opacity/100:s.opacity}),"stroke"==aw&&at._.arrows&&("startString" in at._.arrows&&ak(at,at._.arrows.startString),"endString" in at._.arrows&&ak(at,at._.arrows.endString,1));break;case"gradient":("circle"==at.type||"ellipse"==at.type||"r"!=Q(au).charAt())&&G(at,au);break;case"opacity":al.gradient&&!al[af]("stroke-opacity")&&I(ar,{"stroke-opacity":au>1?au/100:au});case"fill-opacity":if(al.gradient){k=L._g.doc.getElementById(ar.getAttribute("fill").replace(/^url\(#|\)$/g,ah)),k&&(S=k.getElementsByTagName("stop"),I(S[S.length-1],{"stop-opacity":au}));break}default:"font-size"==aw&&(au=X(au,10)+"px");var h=aw.replace(/(\-.)/g,function(i){return i.substring(1).toUpperCase()});ar.style[h]=au,at._.dirty=1,ar.setAttribute(aw,au)}}}q(at,ax),ar.style.visibility=av},P=1.2,q=function(n,C){if("text"==n.type&&(C[af]("text")||C[af]("font")||C[af]("font-size")||C[af]("x")||C[af]("y"))){var M=n.attrs,k=n.node,m=k.firstChild?X(L._g.doc.defaultView.getComputedStyle(k.firstChild,ah).getPropertyValue("font-size"),10):10;if(C[af]("text")){for(M.text=C.text;k.firstChild;){k.removeChild(k.firstChild)}for(var v=Q(C.text).split("\n"),E=[],y,e=0,A=v.length;e<A;e++){y=I("tspan"),e&&I(y,{dy:m*P,x:M.x}),y.appendChild(L._g.doc.createTextNode(v[e])),k.appendChild(y),E[e]=y}}else{for(E=k.getElementsByTagName("tspan"),e=0,A=E.length;e<A;e++){e?I(E[e],{dy:m*P,x:M.x}):I(E[0],{dy:0})}}I(k,{x:M.x,y:M.y}),n._.dirty=1;var w=n._getBBox(),B=M.y-(w.y+w.height/2);B&&L.is(B,"finite")&&I(E[0],{dy:B})}},U=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},j=function(m,l){function k(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}var o=0,h=0;this[0]=this.node=m,m.raphael=!0,this.id=k(),m.raphaelid=this.id,this.matrix=L.matrix(),this.realPath=null,this.paper=l,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!l.bottom&&(l.bottom=this),this.prev=l.top,l.top&&(l.top.next=this),l.top=this,this.next=null},K=L.el;j.prototype=K,K.constructor=j,L._engine.path=function(k,m){var l=I("path");m.canvas&&m.canvas.appendChild(l);var h=new j(l,m);return h.type="path",R(h,{fill:"none",stroke:"#000",path:k}),h},K.rotate=function(i,k,l){if(this.removed){return this}if(i=Q(i).split(ac),i.length-1&&(k=ab(i[1]),l=ab(i[2])),i=ab(i[0]),null==l&&(k=l),null==k||null==l){var h=this.getBBox(1);k=h.x+h.width/2,l=h.y+h.height/2}return this.transform(this._.transform.concat([["r",i,k,l]])),this},K.scale=function(i,l,m,h){if(this.removed){return this}if(i=Q(i).split(ac),i.length-1&&(l=ab(i[1]),m=ab(i[2]),h=ab(i[3])),i=ab(i[0]),null==l&&(l=i),null==h&&(m=h),null==m||null==h){var k=this.getBBox(1)}return m=null==m?k.x+k.width/2:m,h=null==h?k.y+k.height/2:h,this.transform(this._.transform.concat([["s",i,l,m,h]])),this},K.translate=function(h,i){return this.removed?this:(h=Q(h).split(ac),h.length-1&&(i=ab(h[1])),h=ab(h[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",h,i]])),this)},K.transform=function(h){var e=this._;if(null==h){return e.transform}if(L._extractTransform(this,h),this.clip&&I(this.clip,{transform:this.matrix.invert()}),this.pattern&&ai(this),this.node&&I(this.node,{transform:this.matrix}),1!=e.sx||1!=e.sy){var k=this.attrs[af]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":k})}return this},K.hide=function(){return this.removed||(this.node.style.display="none"),this},K.show=function(){return this.removed||(this.node.style.display=""),this},K.remove=function(){var l=U(this.node);if(!this.removed&&l.parentNode){var k=this.paper;k.__set__&&k.__set__.exclude(this),J.unbind("raphael.*.*."+this.id),this.gradient&&k.defs.removeChild(this.gradient),L._tear(this,k),l.parentNode.removeChild(l),this.removeData();for(var h in this){this[h]="function"==typeof this[h]?L._removedFactory(h):null}this.removed=!0}},K._getBBox=function(){if("none"==this.node.style.display){this.show();var k=!0}var m=!1,l;this.paper.canvas.parentElement?l=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(l=this.paper.canvas.parentNode.style),l&&"none"==l.display&&(m=!0,l.display="");var h={};try{h=this.node.getBBox()}catch(o){h={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{h=h||{},m&&(l.display="none")}return k&&this.hide(),h},K.attr=function(e,v){if(this.removed){return this}if(null==e){var m={};for(var B in this.attrs){this.attrs[af](B)&&(m[B]=this.attrs[B])}return m.gradient&&"none"==m.fill&&(m.fill=m.gradient)&&delete m.gradient,m.transform=this._.transform,m}if(null==v&&L.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}if("transform"==e){return this._.transform}for(var C=e.split(ac),k={},u=0,A=C.length;u<A;u++){e=C[u],e in this.attrs?k[e]=this.attrs[e]:L.is(this.paper.customAttributes[e],"function")?k[e]=this.paper.customAttributes[e].def:k[e]=L._availableAttrs[e]}return A-1?k:k[C[0]]}if(null==v&&L.is(e,"array")){for(k={},u=0,A=e.length;u<A;u++){k[e[u]]=this.attr(e[u])}return k}if(null!=v){var x={};x[e]=v}else{null!=e&&L.is(e,"object")&&(x=e)}for(var h in x){J("raphael.attr."+h+"."+this.id,this,x[h])}for(h in this.paper.customAttributes){if(this.paper.customAttributes[af](h)&&x[af](h)&&L.is(this.paper.customAttributes[h],"function")){var y=this.paper.customAttributes[h].apply(this,[].concat(x[h]));this.attrs[h]=x[h];for(var w in y){y[af](w)&&(x[w]=y[w])}}}return R(this,x),this},K.toFront=function(){if(this.removed){return this}var i=U(this.node);i.parentNode.appendChild(i);var h=this.paper;return h.top!=this&&L._tofront(this,h),this},K.toBack=function(){if(this.removed){return this}var l=U(this.node),k=l.parentNode;k.insertBefore(l,k.firstChild),L._toback(this,this.paper);var h=this.paper;return this},K.insertAfter=function(l){if(this.removed||!l){return this}var k=U(this.node),h=U(l.node||l[l.length-1].node);return h.nextSibling?h.parentNode.insertBefore(k,h.nextSibling):h.parentNode.appendChild(k),L._insertafter(this,l,this.paper),this},K.insertBefore=function(l){if(this.removed||!l){return this}var k=U(this.node),h=U(l.node||l[0].node);return h.parentNode.insertBefore(k,h),L._insertbefore(this,l,this.paper),this},K.blur=function(l){var k=this;if(0!==+l){var h=I("filter"),m=I("feGaussianBlur");k.attrs.blur=l,h.id=L.createUUID(),I(m,{stdDeviation:+l||1.5}),h.appendChild(m),k.paper.defs.appendChild(h),k._blur=h,I(k.node,{filter:"url(#"+h.id+")"})}else{k._blur&&(k._blur.parentNode.removeChild(k._blur),delete k._blur,delete k.attrs.blur),k.node.removeAttribute("filter")}return k},L._engine.circle=function(l,o,m,k){var p=I("circle");l.canvas&&l.canvas.appendChild(p);var h=new j(p,l);return h.attrs={cx:o,cy:m,r:k,fill:"none",stroke:"#000"},h.type="circle",I(p,h.attrs),h},L._engine.rect=function(l,u,p,k,w,h){var m=I("rect");l.canvas&&l.canvas.appendChild(m);var v=new j(m,l);return v.attrs={x:u,y:p,width:k,height:w,rx:h||0,ry:h||0,fill:"none",stroke:"#000"},v.type="rect",I(m,v.attrs),v},L._engine.ellipse=function(l,p,o,k,u){var h=I("ellipse");l.canvas&&l.canvas.appendChild(h);var m=new j(h,l);return m.attrs={cx:p,cy:o,rx:k,ry:u,fill:"none",stroke:"#000"},m.type="ellipse",I(h,m.attrs),m},L._engine.image=function(l,u,p,k,w,h){var m=I("image");I(m,{x:p,y:k,width:w,height:h,preserveAspectRatio:"none"}),m.setAttributeNS(V,"href",u),l.canvas&&l.canvas.appendChild(m);var v=new j(m,l);return v.attrs={x:p,y:k,width:w,height:h,src:u},v.type="image",v},L._engine.text=function(o,m,k,p){var h=I("text");o.canvas&&o.canvas.appendChild(h);var l=new j(h,o);return l.attrs={x:m,y:k,"text-anchor":"middle",text:p,"font-family":L._availableAttrs["font-family"],"font-size":L._availableAttrs["font-size"],stroke:"none",fill:"#000"},l.type="text",R(l,l.attrs),l},L._engine.setSize=function(h,i){return this.width=h||this.width,this.height=i||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},L._engine.create=function(){var x=L._getContainer.apply(0,arguments),k=x&&x.container,v=x.x,p=x.y,y=x.width,A=x.height;if(!k){throw new Error("SVG container not found.")}var m=I("svg"),u="overflow:hidden;",w;return v=v||0,p=p||0,y=y||512,A=A||342,I(m,{height:A,version:1.1,width:y,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==k?(m.style.cssText=u+"position:absolute;left:"+v+"px;top:"+p+"px",L._g.doc.body.appendChild(m),w=1):(m.style.cssText=u+"position:relative",k.firstChild?k.insertBefore(m,k.firstChild):k.appendChild(m)),k=new L._Paper,k.width=y,k.height=A,k.canvas=m,k.clear(),k._left=k._top=0,w&&(k.renderfix=function(){}),k.renderfix(),k},L._engine.setViewBox=function(C,y,k,w,u){J("raphael.setViewBox",this,this._viewBox,[C,y,k,w,u]);var B=this.getSize(),s=O(k/B.width,w/B.height),v=this.top,x=u?"xMidYMid meet":"xMinYMin",A,m;for(null==C?(this._vbSize&&(s=1),delete this._vbSize,A="0 0 "+this.width+ae+this.height):(this._vbSize=s,A=C+ae+y+ae+k+ae+w),I(this.canvas,{viewBox:A,preserveAspectRatio:x});s&&v;){m="stroke-width" in v.attrs?v.attrs["stroke-width"]:1,v.attr({"stroke-width":m}),v._.dirty=1,v._.dirtyT=1,v=v.prev}return this._viewBox=[C,y,k,w,!!u],this},L.prototype.renderfix=function(){var l=this.canvas,o=l.style,m;try{m=l.getScreenCTM()||l.createSVGMatrix()}catch(k){m=l.createSVGMatrix()}var p=-m.e%1,h=-m.f%1;(p||h)&&(p&&(this._left=(this._left+p)%1,o.left=this._left+"px"),h&&(this._top=(this._top+h)%1,o.top=this._top+"px"))},L.prototype.clear=function(){L.eve("raphael.clear",this);for(var h=this.canvas;h.firstChild;){h.removeChild(h.firstChild)}this.bottom=this.top=null,(this.desc=I("desc")).appendChild(L._g.doc.createTextNode("Created with Raphaël "+L.version)),h.appendChild(this.desc),h.appendChild(this.defs=I("defs"))},L.prototype.remove=function(){J("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var h in this){this[h]="function"==typeof this[h]?L._removedFactory(h):null}};var D=L.st;for(var z in K){K[af](z)&&!D[af](z)&&(D[z]=function(e){return function(){var h=arguments;return this.forEach(function(i){i[e].apply(i,h)})}}(z))}}}.apply(f,a),!(void 0!==g&&(c.exports=g))},function(c,f,d){var a,g;a=[d(1)],g=function(R){if(!R||R.vml){var aj="hasOwnProperty",W=String,af=parseFloat,ab=Math,an=ab.round,U=ab.max,aa=ab.min,ad=ab.abs,ag="fill",P=/[, ]+/,al=R.eve,ai=" progid:DXImageTransform.Microsoft",Z=" ",ak="",ah={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},O=/([clmz]),?([^clmz]*)/gi,J=/ progid:\S+Blur\([^\)]+\)/g,I=/-?[^,\s-]+/g,ac="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",am=21600,ao={path:1,rect:1,image:1},K={circle:1,ellipse:1},ae=function(z){var v=/[ahqstv]/gi,m=R._pathToAbsolute;if(W(z).match(v)&&(m=R._path2curve),v=/[clmz]/g,m==R._pathToAbsolute&&!W(z).match(v)){var E=W(z).replace(O,function(l,x,u){var h=[],L="m"==x.toLowerCase(),o=ah[x];return u.replace(I,function(e){L&&2==h.length&&(o+=h+ah["m"==x?"l":"L"],h=[]),h.push(an(e*am))}),o+h});return E}var k=m(z),p,w;E=[];for(var C=0,A=k.length;C<A;C++){p=k[C],w=k[C][0].toLowerCase(),"z"==w&&(w="x");for(var y=1,B=p.length;y<B;y++){w+=an(p[y]*am)+(y!=B-1?",":ak)}E.push(w)}return E.join(Z)},X=function(l,k,h){var m=R.matrix();return m.rotate(-l,0.5,0.5),{dx:m.x(k,h),dy:m.y(k,h)}},V=function(w,S,A,L,C,aq){var z=w._,B=w.matrix,p=z.fillpos,ap=w.node,N=ap.style,T=1,M="",l,k=am/S,h=am/A;if(N.visibility="hidden",S&&A){if(ap.coordsize=ad(k)+Z+ad(h),N.rotation=aq*(S*A<0?-1:1),aq){var E=X(aq,L,C);L=E.dx,C=E.dy}if(S<0&&(M+="x"),A<0&&(M+=" y")&&(T=-1),N.flip=M,ap.coordorigin=L*-k+Z+C*-h,p||z.fillsize){var ar=ap.getElementsByTagName(ag);ar=ar&&ar[0],ap.removeChild(ar),p&&(E=X(aq,B.x(p[0],p[1]),B.y(p[0],p[1])),ar.position=E.dx*T+Z+E.dy*T),z.fillsize&&(ar.size=z.fillsize[0]*ad(S)+Z+z.fillsize[1]*ad(A)),ap.appendChild(ar)}N.visibility="visible"}};R.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var q=function(A,x,v){for(var m=W(x).toLowerCase().split("-"),y=v?"end":"start",B=m.length,k="classic",p="medium",w="medium";B--;){switch(m[B]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":k=m[B];break;case"wide":case"narrow":w=m[B];break;case"long":case"short":p=m[B]}}var z=A.node.getElementsByTagName("stroke")[0];z[y+"arrow"]=k,z[y+"arrowlength"]=p,z[y+"arrowwidth"]=w},Y=function(aF,aH){aF.attrs=aF.attrs||{};var aL=aF.node,aK=aF.attrs,aJ=aL.style,ay,av=ao[aF.type]&&(aH.x!=aK.x||aH.y!=aK.y||aH.width!=aK.width||aH.height!=aK.height||aH.cx!=aK.cx||aH.cy!=aK.cy||aH.rx!=aK.rx||aH.ry!=aK.ry||aH.r!=aK.r),at=K[aF.type]&&(aK.cx!=aH.cx||aK.cy!=aH.cy||aK.r!=aH.r||aK.rx!=aH.rx||aK.ry!=aH.ry),aG=aF;for(var aD in aH){aH[aj](aD)&&(aK[aD]=aH[aD])}if(av&&(aK.path=R._getPath[aF.type](aF),aF._.dirty=1),aH.href&&(aL.href=aH.href),aH.title&&(aL.title=aH.title),aH.target&&(aL.target=aH.target),aH.cursor&&(aJ.cursor=aH.cursor),"blur" in aH&&aF.blur(aH.blur),(aH.path&&"path"==aF.type||av)&&(aL.path=ae(~W(aK.path).toLowerCase().indexOf("r")?R._pathToAbsolute(aK.path):aK.path),aF._.dirty=1,"image"==aF.type&&(aF._.fillpos=[aK.x,aK.y],aF._.fillsize=[aK.width,aK.height],V(aF,1,1,0,0,0))),"transform" in aH&&aF.transform(aH.transform),at){var aE=+aK.cx,aA=+aK.cy,S=+aK.rx||+aK.r||0,T=+aK.ry||+aK.r||0;aL.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",an((aE-S)*am),an((aA-T)*am),an((aE+S)*am),an((aA+T)*am),an(aE*am)),aF._.dirty=1}if("clip-rect" in aH){var aq=W(aH["clip-rect"]).split(P);if(4==aq.length){aq[2]=+aq[2]+ +aq[0],aq[3]=+aq[3]+ +aq[1];var C=aL.clipRect||R._g.doc.createElement("div"),az=C.style;az.clip=R.format("rect({1}px {2}px {3}px {0}px)",aq),aL.clipRect||(az.position="absolute",az.top=0,az.left=0,az.width=aF.paper.width+"px",az.height=aF.paper.height+"px",aL.parentNode.insertBefore(C,aL),C.appendChild(aL),aL.clipRect=C)}aH["clip-rect"]||aL.clipRect&&(aL.clipRect.style.clip="auto")}if(aF.textpath){var u=aF.textpath.style;aH.font&&(u.font=aH.font),aH["font-family"]&&(u.fontFamily='"'+aH["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ak)+'"'),aH["font-size"]&&(u.fontSize=aH["font-size"]),aH["font-weight"]&&(u.fontWeight=aH["font-weight"]),aH["font-style"]&&(u.fontStyle=aH["font-style"])}if("arrow-start" in aH&&q(aG,aH["arrow-start"]),"arrow-end" in aH&&q(aG,aH["arrow-end"],1),null!=aH.opacity||null!=aH.fill||null!=aH.src||null!=aH.stroke||null!=aH["stroke-width"]||null!=aH["stroke-opacity"]||null!=aH["fill-opacity"]||null!=aH["stroke-dasharray"]||null!=aH["stroke-miterlimit"]||null!=aH["stroke-linejoin"]||null!=aH["stroke-linecap"]){var aI=aL.getElementsByTagName(ag),au=!1;if(aI=aI&&aI[0],!aI&&(au=aI=D(ag)),"image"==aF.type&&aH.src&&(aI.src=aH.src),aH.fill&&(aI.on=!0),null!=aI.on&&"none"!=aH.fill&&null!==aH.fill||(aI.on=!1),aI.on&&aH.fill){var aC=W(aH.fill).match(R._ISURL);if(aC){aI.parentNode==aL&&aL.removeChild(aI),aI.rotate=!0,aI.src=aC[1],aI.type="tile";var aB=aF.getBBox(1);aI.position=aB.x+Z+aB.y,aF._.fillpos=[aB.x,aB.y],R._preload(aC[1],function(){aF._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{aI.color=R.getRGB(aH.fill).hex,aI.src=ak,aI.type="solid",R.getRGB(aH.fill).error&&(aG.type in {circle:1,ellipse:1}||"r"!=W(aH.fill).charAt())&&j(aG,aH.fill,aI)&&(aK.fill="none",aK.gradient=aH.fill,aI.rotate=!1)}}if("fill-opacity" in aH||"opacity" in aH){var o=((+aK["fill-opacity"]+1||2)-1)*((+aK.opacity+1||2)-1)*((+R.getRGB(aH.fill).o+1||2)-1);o=aa(U(o,0),1),aI.opacity=o,aI.src&&(aI.color="none")}aL.appendChild(aI);var N=aL.getElementsByTagName("stroke")&&aL.getElementsByTagName("stroke")[0],h=!1;!N&&(h=N=D("stroke")),(aH.stroke&&"none"!=aH.stroke||aH["stroke-width"]||null!=aH["stroke-opacity"]||aH["stroke-dasharray"]||aH["stroke-miterlimit"]||aH["stroke-linejoin"]||aH["stroke-linecap"])&&(N.on=!0),("none"==aH.stroke||null===aH.stroke||null==N.on||0==aH.stroke||0==aH["stroke-width"])&&(N.on=!1);var k=R.getRGB(aH.stroke);N.on&&aH.stroke&&(N.color=k.hex),o=((+aK["stroke-opacity"]+1||2)-1)*((+aK.opacity+1||2)-1)*((+k.o+1||2)-1);var ax=0.75*(af(aH["stroke-width"])||1);if(o=aa(U(o,0),1),null==aH["stroke-width"]&&(ax=aK["stroke-width"]),aH["stroke-width"]&&(N.weight=ax),ax&&ax<1&&(o*=ax)&&(N.weight=1),N.opacity=o,aH["stroke-linejoin"]&&(N.joinstyle=aH["stroke-linejoin"]||"miter"),N.miterlimit=aH["stroke-miterlimit"]||8,aH["stroke-linecap"]&&(N.endcap="butt"==aH["stroke-linecap"]?"flat":"square"==aH["stroke-linecap"]?"square":"round"),"stroke-dasharray" in aH){var aw={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};N.dashstyle=aw[aj](aH["stroke-dasharray"])?aw[aH["stroke-dasharray"]]:ak}h&&aL.appendChild(N)}if("text"==aG.type){aG.paper.canvas.style.display=ak;var i=aG.paper.span,p=100,s=aK.font&&aK.font.match(/\d+(?:\.\d*)?(?=px)/);aJ=i.style,aK.font&&(aJ.font=aK.font),aK["font-family"]&&(aJ.fontFamily=aK["font-family"]),aK["font-weight"]&&(aJ.fontWeight=aK["font-weight"]),aK["font-style"]&&(aJ.fontStyle=aK["font-style"]),s=af(aK["font-size"]||s&&s[0])||10,aJ.fontSize=s*p+"px",aG.textpath.string&&(i.innerHTML=W(aG.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var e=i.getBoundingClientRect();aG.W=aK.w=(e.right-e.left)/p,aG.H=aK.h=(e.bottom-e.top)/p,aG.X=aK.x,aG.Y=aK.y+aG.H/2,("x" in aH||"y" in aH)&&(aG.path.v=R.format("m{0},{1}l{2},{1}",an(aK.x*am),an(aK.y*am),an(aK.x*am)+1));for(var w=["x","y","text","font","font-family","font-weight","font-style","font-size"],ar=0,ap=w.length;ar<ap;ar++){if(w[ar] in aH){aG._.dirty=1;break}}switch(aK["text-anchor"]){case"start":aG.textpath.style["v-text-align"]="left",aG.bbx=aG.W/2;break;case"end":aG.textpath.style["v-text-align"]="right",aG.bbx=-aG.W/2;break;default:aG.textpath.style["v-text-align"]="center",aG.bbx=0}aG.textpath.style["v-text-kern"]=!0}},j=function(A,L,S){A.attrs=A.attrs||{};var i=A.attrs,n=Math.pow,p,N,B="linear",z=".5 .5";if(A.attrs.gradient=L,L=W(L).replace(R._radial_gradient,function(h,m,l){return B="radial",m&&l&&(m=af(m),l=af(l),n(m-0.5,2)+n(l-0.5,2)>0.25&&(l=ab.sqrt(0.25-n(m-0.5,2))*(2*(l>0.5)-1)+0.5),z=m+Z+l),ak}),L=L.split(/\s*\-\s*/),"linear"==B){var w=L.shift();if(w=-af(w),isNaN(w)){return null}}var M=R._parseDots(L);if(!M){return null}if(A=A.shape||A.node,M.length){A.removeChild(S),S.on=!0,S.method="none",S.color=M[0].color,S.color2=M[M.length-1].color;for(var E=[],C=0,k=M.length;C<k;C++){M[C].offset&&E.push(M[C].offset+Z+M[C].color)}S.colors=E.length?E.join():"0% "+S.color,"radial"==B?(S.type="gradientTitle",S.focus="100%",S.focussize="0 0",S.focusposition=z,S.angle=0):(S.type="gradient",S.angle=(270-w)%360),A.appendChild(S)}return 1},Q=function(i,h){this[0]=this.node=i,i.raphael=!0,this.id=R._oid++,i.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=h,this.matrix=R.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!h.bottom&&(h.bottom=this),this.prev=h.top,h.top&&(h.top.next=this),h.top=this,this.next=null},F=R.el;Q.prototype=F,F.constructor=Q,F.transform=function(B){if(null==B){return this._.transform}var w=this.paper._viewBoxShift,m=w?"s"+[w.scale,w.scale]+"-1-1t"+[w.dx,w.dy]:ak,L;w&&(L=B=W(B).replace(/\.{3}|\u2026/g,this._.transform||ak)),R._extractTransform(this,m+B);var S=this.matrix.clone(),k=this.skew,p=this.node,y,N=~W(this.attrs.fill).indexOf("-"),C=!W(this.attrs.fill).indexOf("url(");if(S.translate(1,1),C||N||"image"==this.type){if(k.matrix="1 0 0 1",k.offset="0 0",y=S.split(),N&&y.noRotation||!y.isSimple){p.style.filter=S.toFilter();var A=this.getBBox(),z=this.getBBox(1),M=A.x-z.x,E=A.y-z.y;p.coordorigin=M*-am+Z+E*-am,V(this,1,1,M,E,0)}else{p.style.filter=ak,V(this,y.scalex,y.scaley,y.dx,y.dy,y.rotate)}}else{p.style.filter=ak,k.matrix=W(S),k.offset=S.offset()}return null!==L&&(this._.transform=L,R._extractTransform(this,L)),this},F.rotate=function(i,k,l){if(this.removed){return this}if(null!=i){if(i=W(i).split(P),i.length-1&&(k=af(i[1]),l=af(i[2])),i=af(i[0]),null==l&&(k=l),null==k||null==l){var h=this.getBBox(1);k=h.x+h.width/2,l=h.y+h.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",i,k,l]])),this}},F.translate=function(h,i){return this.removed?this:(h=W(h).split(P),h.length-1&&(i=af(h[1])),h=af(h[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=h,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",h,i]])),this)},F.scale=function(i,l,m,h){if(this.removed){return this}if(i=W(i).split(P),i.length-1&&(l=af(i[1]),m=af(i[2]),h=af(i[3]),isNaN(m)&&(m=null),isNaN(h)&&(h=null)),i=af(i[0]),null==l&&(l=i),null==h&&(m=h),null==m||null==h){var k=this.getBBox(1)}return m=null==m?k.x+k.width/2:m,h=null==h?k.y+k.height/2:h,this.transform(this._.transform.concat([["s",i,l,m,h]])),this._.dirtyT=1,this},F.hide=function(){return !this.removed&&(this.node.style.display="none"),this},F.show=function(){return !this.removed&&(this.node.style.display=ak),this},F.auxGetBBox=R.el.getBBox,F.getBBox=function(){var h=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var k={},i=1/this.paper._viewBoxShift.scale;return k.x=h.x-this.paper._viewBoxShift.dx,k.x*=i,k.y=h.y-this.paper._viewBoxShift.dy,k.y*=i,k.width=h.width*i,k.height=h.height*i,k.x2=k.x+k.width,k.y2=k.y+k.height,k}return h},F._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},F.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),R.eve.unbind("raphael.*.*."+this.id),R._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var h in this){this[h]="function"==typeof this[h]?R._removedFactory(h):null}this.removed=!0}},F.attr=function(e,w){if(this.removed){return this}if(null==e){var m={};for(var A in this.attrs){this.attrs[aj](A)&&(m[A]=this.attrs[A])}return m.gradient&&"none"==m.fill&&(m.fill=m.gradient)&&delete m.gradient,m.transform=this._.transform,m}if(null==w&&R.is(e,"string")){if(e==ag&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}for(var C=e.split(P),k={},u=0,y=C.length;u<y;u++){e=C[u],e in this.attrs?k[e]=this.attrs[e]:R.is(this.paper.customAttributes[e],"function")?k[e]=this.paper.customAttributes[e].def:k[e]=R._availableAttrs[e]}return y-1?k:k[C[0]]}if(this.attrs&&null==w&&R.is(e,"array")){for(k={},u=0,y=e.length;u<y;u++){k[e[u]]=this.attr(e[u])}return k}var h;null!=w&&(h={},h[e]=w),null==w&&R.is(e,"object")&&(h=e);for(var z in h){al("raphael.attr."+z+"."+this.id,this,h[z])}if(h){for(z in this.paper.customAttributes){if(this.paper.customAttributes[aj](z)&&h[aj](z)&&R.is(this.paper.customAttributes[z],"function")){var x=this.paper.customAttributes[z].apply(this,[].concat(h[z]));this.attrs[z]=h[z];for(var B in x){x[aj](B)&&(h[B]=x[B])}}}h.text&&"text"==this.type&&(this.textpath.string=h.text),Y(this,h)}return this},F.toFront=function(){return !this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&R._tofront(this,this.paper),this},F.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),R._toback(this,this.paper)),this)},F.insertAfter=function(h){return this.removed?this:(h.constructor==R.st.constructor&&(h=h[h.length-1]),h.node.nextSibling?h.node.parentNode.insertBefore(this.node,h.node.nextSibling):h.node.parentNode.appendChild(this.node),R._insertafter(this,h,this.paper),this)},F.insertBefore=function(h){return this.removed?this:(h.constructor==R.st.constructor&&(h=h[0]),h.node.parentNode.insertBefore(this.node,h.node),R._insertbefore(this,h,this.paper),this)},F.blur=function(l){var k=this.node.runtimeStyle,h=k.filter;return h=h.replace(J,ak),0!==+l?(this.attrs.blur=l,k.filter=h+Z+ai+".Blur(pixelradius="+(+l||1.5)+")",k.margin=R.format("-{0}px 0 0 -{0}px",an(+l||1.5))):(k.filter=h,k.margin=0,delete this.attrs.blur),this},R._engine.path=function(l,o){var m=D("shape");m.style.cssText=ac,m.coordsize=am+Z+am,m.coordorigin=o.coordorigin;var k=new Q(m,o),p={fill:"none",stroke:"#000"};l&&(p.path=l),k.type="path",k.path=[],k.Path=ak,Y(k,p),o.canvas&&o.canvas.appendChild(m);var h=D("skew");return h.on=!0,m.appendChild(h),k.skew=h,k.transform(ak),k},R._engine.rect=function(x,k,v,p,y,z){var m=R._rectPath(k,v,p,y,z),u=x.path(m),w=u.attrs;return u.X=w.x=k,u.Y=w.y=v,u.W=w.width=p,u.H=w.height=y,w.r=z,w.path=m,u.type="rect",u},R._engine.ellipse=function(l,p,o,k,u){var h=l.path(),m=h.attrs;return h.X=p-k,h.Y=o-u,h.W=2*k,h.H=2*u,h.type="ellipse",Y(h,{cx:p,cy:o,rx:k,ry:u}),h},R._engine.circle=function(l,o,m,k){var p=l.path(),h=p.attrs;return p.X=o-k,p.Y=m-k,p.W=p.H=2*k,p.type="circle",Y(p,{cx:o,cy:m,r:k}),p},R._engine.image=function(x,h,v,m,z,B){var k=R._rectPath(v,m,z,B),p=x.path(k).attr({stroke:"none"}),A=p.attrs,y=p.node,w=y.getElementsByTagName(ag)[0];return A.src=h,p.X=A.x=v,p.Y=A.y=m,p.W=A.width=z,p.H=A.height=B,A.path=k,p.type="image",w.parentNode==y&&y.removeChild(w),w.rotate=!0,w.src=h,w.type="tile",p._.fillpos=[v,m],p._.fillsize=[z,B],y.appendChild(w),V(p,1,1,0,0,0),p},R._engine.text=function(y,v,m,B){var k=D("shape"),p=D("path"),w=D("textpath");v=v||0,m=m||0,B=B||"",p.v=R.format("m{0},{1}l{2},{1}",an(v*am),an(m*am),an(v*am)+1),p.textpathok=!0,w.string=W(B),w.on=!0,k.style.cssText=ac,k.coordsize=am+Z+am,k.coordorigin="0 0";var A=new Q(k,y),z={fill:"#000",stroke:"none",font:R._availableAttrs.font,text:B};A.shape=k,A.path=p,A.textpath=w,A.type="text",A.attrs.text=W(B),A.attrs.x=v,A.attrs.y=m,A.attrs.w=1,A.attrs.h=1,Y(A,z),k.appendChild(w),k.appendChild(p),y.canvas.appendChild(k);var x=D("skew");return x.on=!0,k.appendChild(x),A.skew=x,A.transform(ak),A},R._engine.setSize=function(l,k){var h=this.canvas.style;return this.width=l,this.height=k,l==+l&&(l+="px"),k==+k&&(k+="px"),h.width=l,h.height=k,h.clip="rect(0 "+l+" "+k+" 0)",this._viewBox&&R._engine.setViewBox.apply(this,this._viewBox),this},R._engine.setViewBox=function(y,k,w,p,z){R.eve("raphael.setViewBox",this,this._viewBox,[y,k,w,p,z]);var B=this.getSize(),m=B.width,v=B.height,x,A;return z&&(x=v/p,A=m/w,w*x<m&&(y-=(m-w*x)/2/x),p*A<v&&(k-=(v-p*A)/2/A)),this._viewBox=[y,k,w,p,!!z],this._viewBoxShift={dx:-y,dy:-k,scale:B},this.forEach(function(e){e.transform("...")}),this};var D;R._engine.initWin=function(h){var k=h.document;k.styleSheets.length<31?k.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):k.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!k.namespaces.rvml&&k.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),D=function(e){return k.createElement("<rvml:"+e+' class="rvml">')}}catch(i){D=function(e){return k.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},R._engine.initWin(R._g.win),R._engine.create=function(){var y=R._getContainer.apply(0,arguments),k=y.container,w=y.height,p,z=y.width,B=y.x,m=y.y;if(!k){throw new Error("VML container not found.")}var v=new R._Paper,x=v.canvas=R._g.doc.createElement("div"),A=x.style;return B=B||0,m=m||0,z=z||512,w=w||342,v.width=z,v.height=w,z==+z&&(z+="px"),w==+w&&(w+="px"),v.coordsize=1000*am+Z+1000*am,v.coordorigin="0 0",v.span=R._g.doc.createElement("span"),v.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",x.appendChild(v.span),A.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",z,w),1==k?(R._g.doc.body.appendChild(x),A.left=B+"px",A.top=m+"px",A.position="absolute"):k.firstChild?k.insertBefore(x,k.firstChild):k.appendChild(x),v.renderfix=function(){},v},R.prototype.clear=function(){R.eve("raphael.clear",this),this.canvas.innerHTML=ak,this.span=R._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},R.prototype.remove=function(){R.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var h in this){this[h]="function"==typeof this[h]?R._removedFactory(h):null}return !0};var G=R.st;for(var H in F){F[aj](H)&&!G[aj](H)&&(G[H]=function(e){return function(){var h=arguments;return this.forEach(function(i){i[e].apply(i,h)})}}(H))}}}.apply(f,a),!(void 0!==g&&(c.exports=g))}])});