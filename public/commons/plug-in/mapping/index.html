<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<title>Mapping</title>
<link rel="stylesheet" href="css/bootstrapStyle.css" type="text/css">
<link rel="stylesheet" href="css/index.css" type="text/css">
</head>


<body>
	<div class="wrapper">
		<div class="content">
			<div class="main">
				<div class="left" id="containerId">
					<div class="con_top">数据源
						<div class="icn1 addImg" id="createField"></div>
						<div class="icn1 clearImg" id="clearMapping"></div>
						<div class="icn1 connectImg" id="autoMapping"></div>
					</div>
				    <ul id="treeLeft" class="ztree"></ul>
				</div>
				<div class="right answer">
					<div class="con_top">系统</div>
				    <ul id="treeRight" class="ztree"></ul>
				</div>
			</div> 
		</div>
	</div>
	<div id="fade" class="black_overlay"></div>
	<div id="MyDiv" class="white_content">
		<h2>添加节点<a class="close" href="#"  onclick="closePopupWindow('MyDiv','fade')">关闭</a></h2>
		<div class="popupCon">
			<p>
                <span class="spanTxt">节点名称：</span>
                <span class="spanFun">
                    <input id="fieldName" value="" class="add-input" type="text">
                </span>
            </p>
		</div>
		<div class="modal-footer">
            <button class="btn" onclick="closePopupWindow('MyDiv','fade')">取消</button>
            <button class="btn saveBtn" id="saveBtn">保存</button>
        </div>

	</div>

	<script type="text/javascript" src="../../js/jquery/scripts/jquery.js"></script>
	<script type="text/javascript" src="js/jsplumb.js"></script>
	<script type="text/javascript" src="js/jquery.ztree.core.js"></script>
	<script type="text/javascript" src="js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="js/io-mapping.js"></script>
	<script type="text/javascript">
		var sourceJSON = [
		    {id:1, pId:0, name:"门户",open:true,isModify:false},
		    { id:101, pId:1,name:"个人门户",isMapping:true,isModify:false},
		    { id:102, pId:1, name:"信息门户",isMapping:false,isModify:false},
		    { id:103, pId:1, name:"销售门户",isMapping:false,isModify:false},

		    {id:2, pId:0, name:"办公",open:true,isModify:false},
		    { id:201, pId:2, name:"个人",isMapping:true,isModify:false},
		    { id:202, pId:2, name:"档案",isMapping:false,isModify:false},
		    { id:203, pId:2, name:"通讯录",isMapping:true,isModify:false},
		    { id:204, pId:2, name:"工具",isMapping:false,isModify:false},

		    {id:3, pId:0, name:"客户",open:true,isModify:false},
		    { id:301, pId:3, name:"线索",isMapping:true,isModify:false},
		    { id:302, pId:3, name:"销售",isMapping:false,isModify:false},
		    { id:303, pId:3, name:"服务",isMapping:false,isModify:false},
		    { id:304, pId:3, name:"PR",isMapping:true,isModify:false},

		    {id:4, pId:0, name:"人力",open:true,isModify:false},
		    { id:401, pId:4, name:"个人信息",isMapping:false,isModify:false},
		    { id:402, pId:4, name:"外出申请",isMapping:false,isModify:false},
		    { id:403, pId:4, name:"请假申请",isMapping:false,isModify:false},
		    { id:404, pId:4, name:"销假申请",isMapping:false,isModify:false},
		    { id:405, pId:4, name:"补签申请",isMapping:false,isModify:false},
		    { id:406, pId:4, name:"出差申请",isMapping:false,isModify:false},
		    { id:407, pId:4, name:"差补申请",isMapping:false,isModify:false},
		    { id:408, pId:4, name:"转正申请",isMapping:false,isModify:false},
		    { id:409, pId:4, name:"调休申请",isMapping:false,isModify:false},
		    { id:410, pId:4, name:"离职申请",isMapping:false,isModify:false},
		    { id:411, pId:4, name:"考勤报表",isMapping:false,isModify:false},

		    {id:5, pId:0, name:"自定义",open:true,isParent:true,isModify:false}
		];
		var targetJSON = [
		    {id:2, pId:0, name:"办公",open:true},
		    { id:201, pId:2, name:"个人",isMapping:true},
		    { id:202, pId:2, name:"资源",isMapping:false},
		    { id:203, pId:2, name:"通讯录",isMapping:true},
		    { id:204, pId:2, name:"信息",isMapping:false},

		    {id:3, pId:0, name:"客户",open:true},
		    { id:301, pId:3, name:"线索",isMapping:true},
		    { id:302, pId:3, name:"销售管理",isMapping:false},
		    { id:303, pId:3, name:"服务平台",isMapping:false},
		    { id:304, pId:3, name:"PR",isMapping:true},

		    {id:1, pId:0, name:"门户",open:true},
		    { id:101, pId:1, name:"个人门户",isMapping:true},
		    { id:102, pId:1, name:"消息门户",isMapping:false},
		    { id:103, pId:1, name:"知识门户",isMapping:false}
		];
		var mappingJSON = null;
		$(document).ready(function(){
		    mappingInit(sourceJSON,targetJSON,mappingJSON);
		});
	</script>
</body>
</html>